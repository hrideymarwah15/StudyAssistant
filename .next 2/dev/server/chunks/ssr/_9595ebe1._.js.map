{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,mNAAgB,CAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,0KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,OAAO,WAAW,GAAG,0KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,mNAAgB,CAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,8KAAwB;QACvB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;AAGb,eAAe,WAAW,GAAG,8KAAwB,CAAC,WAAW"}},
    {"offset": {"line": 56, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Moon, Sun } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\n\nexport function ThemeToggle() {\n  const { setTheme } = useTheme()\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 px-0\">\n          <Sun className=\"rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;AAcO,SAAS;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,4JAAQ;IAE7B,qBACE,8OAAC,qJAAY;;0BACX,8OAAC,4JAAmB;gBAAC,OAAO;0BAC1B,cAAA,8OAAC,qIAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAK,WAAU;;sCAC1C,8OAAC,uMAAG;4BAAC,WAAU;;;;;;sCACf,8OAAC,0MAAI;4BAAC,WAAU;;;;;;sCAChB,8OAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,8OAAC,4JAAmB;gBAAC,OAAM;;kCACzB,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,8OAAC,yJAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAM7D"}},
    {"offset": {"line": 371, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/layout/Sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Home,\n  Calendar,\n  BookOpen,\n  Brain,\n  BarChart3,\n  Settings,\n  Users,\n  Target,\n  HelpCircle,\n  ChevronLeft,\n  ChevronRight,\n  LogOut\n} from \"lucide-react\"\nimport { onAuthStateChanged, signOut, type User as FirebaseUser } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { useRouter } from \"next/navigation\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator\n} from \"@/components/ui/dropdown-menu\"\nimport { ThemeToggle } from \"@/components/theme-toggle\"\n\nconst navigation = [\n  { name: \"Dashboard\", href: \"/dashboard\", icon: Home },\n  { name: \"Planner\", href: \"/planner\", icon: Calendar },\n  { name: \"Calendar\", href: \"/calendar\", icon: Calendar },\n  { name: \"Flashcards\", href: \"/flashcards\", icon: BookOpen },\n  { name: \"AI Learning\", href: \"/advanced-learning\", icon: Brain },\n  { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 },\n]\n\nconst moreNavigation = [\n  { name: \"Groups\", href: \"/groups\", icon: Users },\n  { name: \"Habits\", href: \"/habits\", icon: Target },\n  { name: \"Support\", href: \"/support\", icon: HelpCircle },\n  { name: \"Settings\", href: \"/settings\", icon: Settings },\n]\n\nexport function Sidebar() {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [isMobileOpen, setIsMobileOpen] = useState(false)\n  const [user, setUser] = useState<FirebaseUser | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [showMore, setShowMore] = useState(false)\n  const pathname = usePathname()\n  const router = useRouter()\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser)\n      setLoading(false)\n    })\n    return () => unsubscribe()\n  }, [])\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n      router.push(\"/\")\n    } catch (error) {\n      console.error(\"Logout error:\", error)\n    }\n  }\n\n  const isActive = (href: string) => {\n    if (href === \"/dashboard\") {\n      return pathname === \"/dashboard\"\n    }\n    return pathname.startsWith(href)\n  }\n\n  return (\n    <>\n      {/* Mobile Menu Button */}\n      <button\n        className=\"fixed top-4 left-4 z-50 lg:hidden bg-slate-800 border border-slate-700 rounded-lg p-2\"\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n        aria-label=\"Toggle menu\"\n      >\n        {isMobileOpen ? <ChevronLeft className=\"w-6 h-6 text-slate-100\" /> : <ChevronRight className=\"w-6 h-6 text-slate-100\" />}\n      </button>\n\n      {/* Mobile Overlay */}\n      {isMobileOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 z-30 lg:hidden\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div\n        className={cn(\n          \"fixed left-0 top-0 z-40 h-full bg-slate-900 border-r border-slate-700 transition-all duration-300 ease-in-out\",\n          \"lg:translate-x-0\",\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\",\n          isExpanded ? \"w-64\" : \"w-16\"\n        )}\n        onMouseEnter={() => !isMobileOpen && setIsExpanded(true)}\n        onMouseLeave={() => !isMobileOpen && setIsExpanded(false)}\n      >\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-slate-700\">\n        <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n            <span className=\"text-white font-bold text-sm\">SP</span>\n          </div>\n          {isExpanded && (\n            <span className=\"font-serif text-xl font-bold text-slate-100 truncate\">\n              StudyPal\n            </span>\n          )}\n        </Link>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"w-6 h-6 p-0 text-slate-400 hover:text-slate-100 hover:bg-slate-700\"\n          onClick={() => setIsExpanded(!isExpanded)}\n        >\n          {isExpanded ? <ChevronLeft className=\"w-4 h-4\" /> : <ChevronRight className=\"w-4 h-4\" />}\n        </Button>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-2 py-4 space-y-1\">\n        {navigation.map((item) => {\n          const Icon = item.icon\n          const active = isActive(item.href)\n\n          return (\n            <Link\n              key={item.name}\n              href={item.href}\n              className={cn(\n                \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\",\n                active\n                  ? \"bg-blue-600 text-white\"\n                  : \"text-slate-400 hover:text-slate-100 hover:bg-slate-700\",\n                !isExpanded && \"justify-center px-2\"\n              )}\n            >\n              <Icon className=\"w-5 h-5 flex-shrink-0\" />\n              {isExpanded && <span className=\"truncate\">{item.name}</span>}\n            </Link>\n          )\n        })}\n\n        {/* More Section */}\n        <div className=\"pt-4\">\n          <button\n            onClick={() => setShowMore(!showMore)}\n            className={cn(\n              \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-slate-100 hover:bg-slate-700 transition-all duration-200 w-full\",\n              !isExpanded && \"justify-center px-2\"\n            )}\n          >\n            <Settings className=\"w-5 h-5 flex-shrink-0\" />\n            {isExpanded && <span>More</span>}\n          </button>\n\n          {showMore && isExpanded && (\n            <div className=\"mt-2 space-y-1 ml-4\">\n              {moreNavigation.map((item) => {\n                const Icon = item.icon\n                const active = isActive(item.href)\n\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    className={cn(\n                      \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\",\n                      active\n                        ? \"bg-blue-600 text-white\"\n                        : \"text-slate-400 hover:text-slate-100 hover:bg-slate-700\"\n                    )}\n                  >\n                    <Icon className=\"w-4 h-4 flex-shrink-0\" />\n                    <span className=\"truncate\">{item.name}</span>\n                  </Link>\n                )\n              })}\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* User Section */}\n      <div className=\"p-4 border-t border-slate-700\">\n        {loading ? (\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-slate-700 animate-pulse rounded-full\" />\n            {isExpanded && <div className=\"w-24 h-4 bg-slate-700 animate-pulse rounded\" />}\n          </div>\n        ) : user ? (\n          <div className=\"flex items-center gap-3\">\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <button className=\"flex items-center gap-3 text-slate-400 hover:text-slate-100 transition-colors w-full\">\n                  <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                    <AvatarImage src={user.photoURL || \"\"} />\n                    <AvatarFallback className=\"text-xs\">\n                      {user.displayName ? user.displayName.charAt(0).toUpperCase() : user.email?.charAt(0).toUpperCase()}\n                    </AvatarFallback>\n                  </Avatar>\n                  {isExpanded && (\n                    <div className=\"flex-1 text-left min-w-0\">\n                      <p className=\"text-sm font-medium text-slate-100 truncate\">\n                        {user.displayName || \"User\"}\n                      </p>\n                      <p className=\"text-xs text-slate-400 truncate\">\n                        {user.email}\n                      </p>\n                    </div>\n                  )}\n                </button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuItem asChild>\n                  <Link href=\"/settings\" className=\"flex items-center gap-2\">\n                    <Settings className=\"w-4 h-4\" />\n                    Settings\n                  </Link>\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={handleLogout} className=\"flex items-center gap-2 text-red-600 focus:text-red-600\">\n                  <LogOut className=\"w-4 h-4\" />\n                  Sign out\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        ) : (\n          <div className=\"flex items-center gap-2\">\n            <Link href=\"/login\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-slate-300 hover:text-slate-100 hover:bg-slate-700\">\n                Sign In\n              </Button>\n            </Link>\n          </div>\n        )}\n\n        {/* Theme Toggle */}\n        <div className=\"mt-3 flex justify-center\">\n          <ThemeToggle />\n        </div>\n      </div>\n      </div>\n    </>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 922, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/GreetingBlock.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { onAuthStateChanged, type User } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\n\nexport default function GreetingBlock() {\n  const [user, setUser] = useState<User | null>(null)\n  const [currentTime, setCurrentTime] = useState(new Date())\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser)\n    })\n    return () => unsubscribe()\n  }, [])\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 60000)\n    return () => clearInterval(timer)\n  }, [])\n\n  const getGreeting = () => {\n    const hour = currentTime.getHours()\n    if (hour < 12) return \"Good morning\"\n    if (hour < 17) return \"Good afternoon\"\n    return \"Good evening\"\n  }\n\n  const userName = user?.displayName || user?.email?.split(\"@\")[0] || \"Student\"\n\n  return (\n    <div className=\"greeting-block mb-6\">\n      <h1 className=\"text-2xl font-bold text-slate-100 mb-1\">\n        {getGreeting()}, {userName}!\n      </h1>\n      <p className=\"text-slate-400 text-sm\">\n        {currentTime.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\n      </p>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAc;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC,IAAI;IAEnD,IAAA,kNAAS,EAAC;QACR,MAAM,cAAc,IAAA,wLAAkB,EAAC,uHAAI,EAAE,CAAC;YAC5C,QAAQ;QACV;QACA,OAAO,IAAM;IACf,GAAG,EAAE;IAEL,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,YAAY,IAAM,eAAe,IAAI,SAAS;QAC5D,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,OAAO,YAAY,QAAQ;QACjC,IAAI,OAAO,IAAI,OAAO;QACtB,IAAI,OAAO,IAAI,OAAO;QACtB,OAAO;IACT;IAEA,MAAM,WAAW,MAAM,eAAe,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,IAAI;IAEpE,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;oBACX;oBAAc;oBAAG;oBAAS;;;;;;;0BAE7B,8OAAC;gBAAE,WAAU;0BACV,YAAY,kBAAkB,CAAC,SAAS;oBAAE,SAAS;oBAAQ,OAAO;oBAAQ,KAAK;gBAAU;;;;;;;;;;;;AAIlG"}},
    {"offset": {"line": 995, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,6KAAuB;QACtB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,gLACA;QAED,GAAG,KAAK;;;;;;AAGb,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC/B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;AAGb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,2KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;AAGb,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC,iLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGb,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 1135, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,mNAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,8OAAC;QACC,MAAM;QACN,WAAW,IAAA,kHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1163, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,mNAAgB,CAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,8OAAC;QACC,WAAW,IAAA,kHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE"}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/quick-capture.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Plus, Zap, Calendar, Target, Book } from \"lucide-react\"\nimport { db } from \"@/lib/firebase\"\nimport { collection, addDoc, serverTimestamp } from \"firebase/firestore\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\nimport { useToast } from \"@/lib/hooks/useToast\"\n\ntype CaptureType = \"task\" | \"note\" | \"idea\" | \"reminder\"\n\nexport function QuickCapture() {\n  const [open, setOpen] = useState(false)\n  const [type, setType] = useState<CaptureType>(\"task\")\n  const [title, setTitle] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const { user } = useAuth()\n  const { toast } = useToast()\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Cmd/Ctrl + K to open quick capture\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault()\n        setOpen(true)\n      }\n      \n      // ESC to close\n      if (e.key === \"Escape\" && open) {\n        setOpen(false)\n      }\n    }\n\n    document.addEventListener(\"keydown\", handleKeyDown)\n    return () => document.removeEventListener(\"keydown\", handleKeyDown)\n  }, [open])\n\n  useEffect(() => {\n    if (open && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 100)\n    }\n  }, [open])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!user || !title.trim()) return\n\n    setLoading(true)\n\n    try {\n      if (type === \"task\") {\n        await addDoc(collection(db, \"tasks\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          completed: false,\n          priority: \"medium\",\n          status: \"pending\",\n          createdAt: serverTimestamp(),\n          dueDate: null,\n          course: \"Quick Capture\"\n        })\n      } else if (type === \"note\") {\n        await addDoc(collection(db, \"materials\"), {\n          userId: user.uid,\n          title: title.trim(),\n          content: description.trim(),\n          type: \"note\",\n          tags: [\"quick-capture\"],\n          createdAt: serverTimestamp()\n        })\n      } else if (type === \"idea\") {\n        await addDoc(collection(db, \"ideas\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          createdAt: serverTimestamp(),\n          status: \"new\"\n        })\n      } else if (type === \"reminder\") {\n        await addDoc(collection(db, \"reminders\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          createdAt: serverTimestamp(),\n          completed: false\n        })\n      }\n\n      toast({\n        title: \"Captured!\",\n        description: `${type.charAt(0).toUpperCase() + type.slice(1)} saved successfully.`\n      })\n\n      setTitle(\"\")\n      setDescription(\"\")\n      setOpen(false)\n    } catch (error) {\n      console.error(\"Error saving:\", error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to save. Please try again.\",\n        variant: \"destructive\"\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n      {/* Floating Action Button */}\n      <button\n        onClick={() => setOpen(true)}\n        className=\"fixed bottom-6 right-6 sm:bottom-8 sm:right-8 z-50 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg hover:shadow-xl transition-all hover:scale-110 flex items-center justify-center group\"\n        aria-label=\"Quick Capture\"\n      >\n        <Plus className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200\" />\n      </button>\n\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"sm:max-w-[500px] max-w-[95vw]\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-blue-500\" />\n              Quick Capture\n              <Badge variant=\"outline\" className=\"text-xs\">âŒ˜K</Badge>\n            </DialogTitle>\n          </DialogHeader>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Type Selector */}\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => setType(\"task\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"task\"\n                    ? \"bg-blue-500 text-white border-blue-500\"\n                    : \"bg-background border-border hover:border-blue-500\"\n                }`}\n              >\n                <Target className=\"w-4 h-4 inline mr-1\" />\n                Task\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"note\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"note\"\n                    ? \"bg-green-500 text-white border-green-500\"\n                    : \"bg-background border-border hover:border-green-500\"\n                }`}\n              >\n                <Book className=\"w-4 h-4 inline mr-1\" />\n                Note\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"idea\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"idea\"\n                    ? \"bg-purple-500 text-white border-purple-500\"\n                    : \"bg-background border-border hover:border-purple-500\"\n                }`}\n              >\n                <Zap className=\"w-4 h-4 inline mr-1\" />\n                Idea\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"reminder\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"reminder\"\n                    ? \"bg-orange-500 text-white border-orange-500\"\n                    : \"bg-background border-border hover:border-orange-500\"\n                }`}\n              >\n                <Calendar className=\"w-4 h-4 inline mr-1\" />\n                Reminder\n              </button>\n            </div>\n\n            {/* Title Input */}\n            <div>\n              <Input\n                ref={inputRef}\n                placeholder={`What's on your mind?`}\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                className=\"text-lg\"\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <Textarea\n                placeholder=\"Add more details (optional)...\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={3}\n                className=\"resize-none\"\n              />\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-2 justify-end\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => setOpen(false)}\n                disabled={loading}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={loading || !title.trim()}>\n                {loading ? \"Saving...\" : \"Capture\"}\n              </Button>\n            </div>\n          </form>\n\n          {/* Quick Tips */}\n          <div className=\"pt-4 border-t text-xs text-muted-foreground\">\n            <p>ðŸ’¡ <strong>Pro tip:</strong> Press âŒ˜K anywhere to quickly capture your thoughts</p>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1619, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/Layout.tsx"],"sourcesContent":["\"use client\"\n\nimport { Sidebar } from \"@/components/layout/Sidebar\"\nimport GreetingBlock from \"@/components/GreetingBlock\"\nimport { QuickCapture } from \"@/components/quick-capture\"\n\ninterface LayoutProps {\n  children: React.ReactNode\n  title?: string\n  subtitle?: string\n  showGreeting?: boolean\n}\n\nexport default function Layout({\n  children,\n  title,\n  subtitle,\n  showGreeting = true\n}: LayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-slate-900 text-slate-100 flex\">\n      <Sidebar />\n\n      <main className=\"flex-1 lg:ml-16 transition-all duration-300 w-full\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 pt-16 lg:pt-8\">\n          {showGreeting && <GreetingBlock />}\n\n          {title && (\n            <div className=\"mb-4 sm:mb-6\">\n              <h1 className=\"text-2xl sm:text-3xl font-bold text-slate-100 mb-2\">{title}</h1>\n              {subtitle && (\n                <p className=\"text-slate-400 text-base sm:text-lg\">{subtitle}</p>\n              )}\n            </div>\n          )}\n\n          {children}\n        </div>\n      </main>\n\n      {/* Quick Capture available globally */}\n      <QuickCapture />\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS,OAAO,EAC7B,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,eAAe,IAAI,EACP;IACZ,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,2IAAO;;;;;0BAER,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC;oBAAI,WAAU;;wBACZ,8BAAgB,8OAAC,uIAAa;;;;;wBAE9B,uBACC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAG,WAAU;8CAAsD;;;;;;gCACnE,0BACC,8OAAC;oCAAE,WAAU;8CAAuC;;;;;;;;;;;;wBAKzD;;;;;;;;;;;;0BAKL,8OAAC,+IAAY;;;;;;;;;;;AAGnB"}},
    {"offset": {"line": 1704, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/lib/gemini.ts"],"sourcesContent":["\"use client\"\n\n// Gemini AI Client for flashcard generation\nconst GEMINI_API_KEY = process.env.NEXT_PUBLIC_GEMINI_API_KEY || \"\"\n\n// Max characters to send to Gemini - reduced to avoid rate limits\nconst MAX_CONTENT_CHARS = 100000  // ~25k tokens, much safer for rate limits\n\ninterface GeneratedFlashcard {\n  front: string\n  back: string\n}\n\n// Sleep helper for retry delays\nconst sleep = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\n// Truncate content intelligently - try to keep complete sentences/paragraphs\nfunction truncateContent(content: string, maxChars: number): string {\n  if (content.length <= maxChars) return content\n  \n  // Truncate to max chars\n  let truncated = content.slice(0, maxChars)\n  \n  // Try to end at a sentence boundary\n  const lastPeriod = truncated.lastIndexOf('. ')\n  const lastNewline = truncated.lastIndexOf('\\n')\n  const cutPoint = Math.max(lastPeriod, lastNewline)\n  \n  if (cutPoint > maxChars * 0.8) {\n    truncated = truncated.slice(0, cutPoint + 1)\n  }\n  \n  return truncated + \"\\n\\n[Content truncated due to length...]\"\n}\n\n// Fix truncated JSON arrays from incomplete API responses\nfunction fixTruncatedJson(jsonStr: string): string {\n  let fixed = jsonStr.trim()\n  \n  // If it doesn't start with [, try to find the start\n  if (!fixed.startsWith('[')) {\n    const arrayStart = fixed.indexOf('[')\n    if (arrayStart !== -1) {\n      fixed = fixed.slice(arrayStart)\n    } else {\n      throw new Error(\"No JSON array found in response\")\n    }\n  }\n  \n  // Count brackets to find where to close\n  let bracketCount = 0\n  let inString = false\n  let escapeNext = false\n  let lastCompleteObject = -1\n  \n  for (let i = 0; i < fixed.length; i++) {\n    const char = fixed[i]\n    \n    if (escapeNext) {\n      escapeNext = false\n      continue\n    }\n    \n    if (char === '\\\\') {\n      escapeNext = true\n      continue\n    }\n    \n    if (char === '\"') {\n      inString = !inString\n      continue\n    }\n    \n    if (inString) continue\n    \n    if (char === '{') bracketCount++\n    if (char === '}') {\n      bracketCount--\n      if (bracketCount === 0) {\n        lastCompleteObject = i\n      }\n    }\n  }\n  \n  // If we have complete objects, cut after the last one and close the array\n  if (lastCompleteObject > 0) {\n    fixed = fixed.slice(0, lastCompleteObject + 1)\n    // Check if there's a comma after the last object\n    const remainder = jsonStr.slice(lastCompleteObject + 1).trim()\n    if (remainder.startsWith(',')) {\n      // There was more content, just close the array\n    }\n    if (!fixed.endsWith(']')) {\n      fixed += ']'\n    }\n  }\n  \n  // Final cleanup\n  fixed = fixed.replace(/,\\s*\\]$/, ']') // Remove trailing comma before ]\n  fixed = fixed.replace(/,\\s*$/, '') + ']' // If ends with comma, close array\n  \n  // Make sure it's a valid array\n  if (!fixed.endsWith(']')) {\n    fixed += ']'\n  }\n  \n  return fixed\n}\n\nexport async function generateFlashcardsWithGemini(\n  content: string, \n  topic: string,\n  count: number = 5, \n  difficulty: \"easy\" | \"medium\" | \"hard\" = \"medium\"\n): Promise<GeneratedFlashcard[]> {\n  if (!GEMINI_API_KEY) {\n    throw new Error(\"Gemini API key not configured. Please add NEXT_PUBLIC_GEMINI_API_KEY to your environment variables.\")\n  }\n\n  // Truncate content if too large\n  const processedContent = content ? truncateContent(content.trim(), MAX_CONTENT_CHARS) : \"\"\n  \n  console.log(`Content length: ${content.length} chars, processed: ${processedContent.length} chars`)\n\n  const difficultyPrompts = {\n    easy: \"Create simple, straightforward questions with concise answers suitable for beginners.\",\n    medium: \"Create balanced questions that test understanding with moderately detailed answers.\",\n    hard: \"Create challenging questions that require deep understanding with comprehensive answers.\"\n  }\n\n  const prompt = processedContent && processedContent.length > 50 \n    ? `You are an expert educator creating flashcards for students.\n\nIMPORTANT: You MUST create flashcards based ONLY on the provided study material below. Do NOT make up information or use general knowledge. Extract key facts, definitions, concepts, and important details directly from the text.\n\nStudy Material:\n\"\"\"\n${processedContent}\n\"\"\"\n\n${topic ? `Topic/Subject: ${topic}` : \"\"}\nDifficulty: ${difficulty}\n${difficultyPrompts[difficulty]}\n\nGenerate exactly ${count} high-quality flashcards based STRICTLY on the content above. Each flashcard should:\n- Ask about specific information found in the provided text\n- Have accurate answers taken directly from the material\n- Cover different parts of the provided content\n\nReturn ONLY a valid JSON array with this exact format, no other text:\n[\n  {\"front\": \"Question about the content?\", \"back\": \"Answer from the content\"},\n  {\"front\": \"Question 2?\", \"back\": \"Answer 2\"}\n]\n\nCRITICAL: Only use information from the provided study material. Do not add external knowledge.`\n    : `You are an expert educator creating flashcards for students.\n\nTopic: ${topic}\nDifficulty: ${difficulty}\n${difficultyPrompts[difficulty]}\n\nGenerate exactly ${count} high-quality flashcards about \"${topic}\". Each flashcard should have:\n- A clear, specific question (front)\n- A comprehensive but concise answer (back)\n\nReturn ONLY a valid JSON array with this exact format, no other text:\n[\n  {\"front\": \"Question 1?\", \"back\": \"Answer 1\"},\n  {\"front\": \"Question 2?\", \"back\": \"Answer 2\"}\n]\n\nImportant:\n- Questions should test key concepts\n- Answers should be accurate and educational\n- Avoid yes/no questions\n- Make questions progressively cover different aspects of the topic`\n\n  // Retry logic with exponential backoff\n  const maxRetries = 3\n  let lastError: Error | null = null\n  \n  for (let attempt = 0; attempt < maxRetries; attempt++) {\n    try {\n      if (attempt > 0) {\n        // Wait before retry: 2s, 4s, 8s\n        const waitTime = Math.pow(2, attempt) * 1000\n        console.log(`Rate limited. Waiting ${waitTime/1000}s before retry ${attempt + 1}/${maxRetries}...`)\n        await sleep(waitTime)\n      }\n\n      const response = await fetch(\n        `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            contents: [\n              {\n                parts: [\n                  {\n                    text: prompt\n                  }\n                ]\n              }\n            ],\n            generationConfig: {\n              temperature: 0.7,\n              topK: 40,\n              topP: 0.95,\n              maxOutputTokens: 8192,\n            }\n          })\n        }\n      )\n\n      if (!response.ok) {\n        const errorData = await response.json()\n        const errorMessage = errorData.error?.message || response.statusText\n        \n        // Check if it's a rate limit error (429 or \"Resource exhausted\")\n        if (response.status === 429 || errorMessage.includes(\"Resource exhausted\") || errorMessage.includes(\"rate limit\")) {\n          lastError = new Error(`Rate limited: ${errorMessage}`)\n          continue // Try again\n        }\n        \n        throw new Error(`Gemini API error: ${errorMessage}`)\n      }\n\n      const data = await response.json()\n      \n      // Extract the text content from the response\n      const textContent = data.candidates?.[0]?.content?.parts?.[0]?.text\n      \n      if (!textContent) {\n        throw new Error(\"No content returned from Gemini\")\n      }\n\n      // Parse the JSON from the response\n      // Try to extract JSON from the response (handle markdown code blocks)\n      let jsonStr = textContent\n      const jsonMatch = textContent.match(/```(?:json)?\\s*([\\s\\S]*?)```/)\n      if (jsonMatch) {\n        jsonStr = jsonMatch[1].trim()\n      } else {\n        // Try to find array directly\n        const arrayMatch = textContent.match(/\\[[\\s\\S]*\\]/)\n        if (arrayMatch) {\n          jsonStr = arrayMatch[0]\n        }\n      }\n\n      // Try to fix incomplete JSON\n      let flashcards: GeneratedFlashcard[]\n      try {\n        flashcards = JSON.parse(jsonStr)\n      } catch (parseError) {\n        // Try to fix truncated JSON\n        console.log(\"Initial parse failed, attempting to fix JSON...\")\n        jsonStr = fixTruncatedJson(jsonStr)\n        flashcards = JSON.parse(jsonStr)\n      }\n      \n      // Validate the structure\n      if (!Array.isArray(flashcards)) {\n        throw new Error(\"Invalid response format from Gemini\")\n      }\n\n      return flashcards.filter(card => card.front && card.back).slice(0, count)\n      \n    } catch (error: any) {\n      // If it's a rate limit error, store it and continue the loop\n      if (error.message?.includes(\"Rate limited\")) {\n        lastError = error\n        continue\n      }\n      // For other errors, throw immediately\n      console.error(\"Gemini API Error:\", error)\n      throw new Error(`Failed to generate flashcards: ${error.message}`)\n    }\n  }\n  \n  // If we've exhausted all retries\n  throw new Error(`Failed after ${maxRetries} attempts: ${lastError?.message || \"Rate limit exceeded\"}`)\n}\n\n// Helper to read file content\nexport async function readFileContent(file: File): Promise<string> {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader()\n    const fileName = file.name.toLowerCase()\n    \n    reader.onload = async (e) => {\n      try {\n        const result = e.target?.result\n        \n        // Handle PDF files - extract text using pdf.js or basic extraction\n        if (fileName.endsWith(\".pdf\")) {\n          if (typeof result === \"string\") {\n            // Try to extract readable text from PDF\n            const text = extractTextFromPDF(result)\n            resolve(text || `[PDF Document: ${file.name}]\\n\\nPlease copy and paste the text content from this PDF for best results, or the AI will generate flashcards based on the filename.`)\n          } else if (result instanceof ArrayBuffer) {\n            const text = await extractTextFromPDFBuffer(result)\n            resolve(text || `[PDF Document: ${file.name}]\\n\\nPlease copy and paste the text content from this PDF for best results.`)\n          }\n          return\n        }\n        \n        // Handle Word documents (.docx)\n        if (fileName.endsWith(\".docx\")) {\n          if (result instanceof ArrayBuffer) {\n            const text = await extractTextFromDocx(result)\n            resolve(text)\n            return\n          }\n        }\n        \n        // Handle plain text files\n        if (typeof result === \"string\") {\n          resolve(result)\n        } else {\n          resolve(`[Document: ${file.name}] - Could not extract text content.`)\n        }\n      } catch (error) {\n        console.error(\"Error processing file:\", error)\n        resolve(`[Document: ${file.name}] - Error reading file content.`)\n      }\n    }\n    \n    reader.onerror = () => {\n      reject(new Error(\"Failed to read file\"))\n    }\n    \n    // Read based on file type\n    if (fileName.endsWith(\".pdf\") || fileName.endsWith(\".docx\") || fileName.endsWith(\".doc\")) {\n      reader.readAsArrayBuffer(file)\n    } else {\n      // Read as text for text files\n      reader.readAsText(file)\n    }\n  })\n}\n\n// Extract text from PDF (basic extraction from ArrayBuffer)\nasync function extractTextFromPDFBuffer(buffer: ArrayBuffer): Promise<string> {\n  try {\n    // Convert ArrayBuffer to string to find text content\n    const uint8Array = new Uint8Array(buffer)\n    let text = \"\"\n    \n    // Look for text streams in PDF\n    const decoder = new TextDecoder(\"utf-8\", { fatal: false })\n    const pdfString = decoder.decode(uint8Array)\n    \n    // Extract text between stream markers (basic PDF text extraction)\n    const streamMatches = pdfString.match(/stream[\\r\\n]+([\\s\\S]*?)[\\r\\n]+endstream/g)\n    if (streamMatches) {\n      for (const match of streamMatches) {\n        // Try to find readable text\n        const readable = match.replace(/stream[\\r\\n]+/, \"\").replace(/[\\r\\n]+endstream/, \"\")\n        // Filter for printable ASCII characters\n        const cleanText = readable.replace(/[^\\x20-\\x7E\\n\\r]/g, \" \").replace(/\\s+/g, \" \").trim()\n        if (cleanText.length > 20) {\n          text += cleanText + \"\\n\"\n        }\n      }\n    }\n    \n    // Also try to extract text objects (Tj, TJ operators)\n    const textMatches = pdfString.match(/\\(([^)]+)\\)\\s*Tj/g)\n    if (textMatches) {\n      for (const match of textMatches) {\n        const content = match.match(/\\(([^)]+)\\)/)\n        if (content && content[1]) {\n          text += content[1] + \" \"\n        }\n      }\n    }\n    \n    return text.trim() || \"\"\n  } catch (error) {\n    console.error(\"PDF extraction error:\", error)\n    return \"\"\n  }\n}\n\n// Basic PDF text extraction (fallback)\nfunction extractTextFromPDF(content: string): string {\n  try {\n    // Try to find text content in PDF\n    const textMatches = content.match(/\\(([^)]+)\\)/g)\n    if (textMatches) {\n      return textMatches\n        .map(m => m.slice(1, -1))\n        .filter(t => t.length > 2 && /[a-zA-Z]/.test(t))\n        .join(\" \")\n    }\n    return \"\"\n  } catch {\n    return \"\"\n  }\n}\n\n// Extract text from DOCX (ZIP-based XML format)\nasync function extractTextFromDocx(buffer: ArrayBuffer): Promise<string> {\n  try {\n    // DOCX is a ZIP file containing XML\n    // We'll use basic extraction by looking for text content\n    const uint8Array = new Uint8Array(buffer)\n    const decoder = new TextDecoder(\"utf-8\", { fatal: false })\n    const content = decoder.decode(uint8Array)\n    \n    // Look for word/document.xml content (the main document)\n    // Extract text between <w:t> tags\n    const textMatches = content.match(/<w:t[^>]*>([^<]*)<\\/w:t>/g)\n    if (textMatches) {\n      const extractedText = textMatches\n        .map(match => {\n          const textContent = match.match(/<w:t[^>]*>([^<]*)<\\/w:t>/)\n          return textContent ? textContent[1] : \"\"\n        })\n        .filter(t => t.length > 0)\n        .join(\" \")\n      \n      if (extractedText.length > 50) {\n        return extractedText\n      }\n    }\n    \n    // Fallback: try to find any readable text\n    const readable = content.replace(/<[^>]+>/g, \" \").replace(/[^\\x20-\\x7E\\n\\r]/g, \" \").replace(/\\s+/g, \" \").trim()\n    \n    // Filter to only substantial text\n    const words = readable.split(\" \").filter(w => w.length > 2 && /^[a-zA-Z]+$/.test(w))\n    if (words.length > 20) {\n      return words.join(\" \")\n    }\n    \n    return `[Word Document] - For best results with .docx files, please copy and paste the text content directly.`\n  } catch (error) {\n    console.error(\"DOCX extraction error:\", error)\n    return `[Word Document] - Could not extract text. Please copy and paste the content.`\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2083, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/lib/api.ts"],"sourcesContent":["/**\n * API Client for StudyPal AI Backend\n * Connects to the FastAPI backend at localhost:8000\n */\n\n// Get API URL from environment or use localhost\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\"\n\n// Request timeout in milliseconds\nconst REQUEST_TIMEOUT = 200000 // 200 seconds for AI operations\n\n/**\n * Custom error for API failures\n */\nexport class APIError extends Error {\n  constructor(\n    message: string,\n    public status?: number,\n    public data?: any\n  ) {\n    super(message)\n    this.name = \"APIError\"\n  }\n}\n\n/**\n * Make an API request with timeout and error handling\n */\nasync function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const controller = new AbortController()\n  const timeoutId = setTimeout(() => controller.abort(), REQUEST_TIMEOUT)\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      signal: controller.signal,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options.headers,\n      },\n    })\n\n    clearTimeout(timeoutId)\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}))\n      throw new APIError(\n        error.detail || error.message || `Request failed with status ${response.status}`,\n        response.status,\n        error\n      )\n    }\n\n    return await response.json()\n  } catch (error: any) {\n    clearTimeout(timeoutId)\n    \n    if (error.name === \"AbortError\") {\n      throw new APIError(\"Request timeout - the AI is taking too long to respond\")\n    }\n    \n    if (error instanceof APIError) {\n      throw error\n    }\n    \n    throw new APIError(\n      error.message || \"Network error - please check your connection\"\n    )\n  }\n}\n\n// ============================================================================\n// HEALTH CHECK\n// ============================================================================\n\nexport interface HealthResponse {\n  backend: string\n  status: string\n  services: {\n    qdrant?: {\n      status: string\n      connected: boolean\n      collection?: string\n      vectors_count?: number\n      url?: string\n    }\n    ollama?: {\n      status: string\n      connected: boolean\n      models?: string[]\n      url?: string\n    }\n    whisper?: {\n      status: string\n      loaded: boolean\n      model?: string\n    }\n  }\n}\n\nexport async function checkHealth(): Promise<HealthResponse> {\n  return apiRequest<HealthResponse>(\"/health\")\n}\n\n// ============================================================================\n// MATERIALS\n// ============================================================================\n\nexport interface AddMaterialRequest {\n  text: string\n  course?: string\n  topic?: string\n  source?: string\n  metadata?: Record<string, any>\n}\n\nexport interface AddMaterialResponse {\n  success: boolean\n  message: string\n  point_id: string\n}\n\nexport async function addMaterial(data: AddMaterialRequest): Promise<AddMaterialResponse> {\n  return apiRequest<AddMaterialResponse>(\"/materials/add\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\nexport interface MaterialStats {\n  collection_name: string\n  vectors_count: number\n  points_count: number\n  status: string\n}\n\nexport async function getMaterialStats(): Promise<{ success: boolean; stats: MaterialStats }> {\n  return apiRequest(\"/materials/stats\")\n}\n\n// ============================================================================\n// AUDIO UPLOAD\n// ============================================================================\n\nexport interface AudioUploadResponse {\n  transcript: string\n  stored_chunks: number\n  language: string\n  chunks?: string[]\n}\n\nexport async function uploadAudio(\n  file: File,\n  options?: {\n    course?: string\n    topic?: string\n    store_in_memory?: boolean\n  }\n): Promise<AudioUploadResponse> {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  \n  if (options?.course) formData.append(\"course\", options.course)\n  if (options?.topic) formData.append(\"topic\", options.topic)\n  if (options?.store_in_memory !== undefined) {\n    formData.append(\"store_in_memory\", String(options.store_in_memory))\n  }\n\n  const controller = new AbortController()\n  const timeoutId = setTimeout(() => controller.abort(), REQUEST_TIMEOUT)\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/audio/upload`, {\n      method: \"POST\",\n      body: formData,\n      signal: controller.signal,\n    })\n\n    clearTimeout(timeoutId)\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}))\n      throw new APIError(\n        error.detail || `Upload failed with status ${response.status}`,\n        response.status,\n        error\n      )\n    }\n\n    return await response.json()\n  } catch (error: any) {\n    clearTimeout(timeoutId)\n    \n    if (error.name === \"AbortError\") {\n      throw new APIError(\"Audio processing timeout\")\n    }\n    \n    if (error instanceof APIError) {\n      throw error\n    }\n    \n    throw new APIError(error.message || \"Audio upload failed\")\n  }\n}\n\n// ============================================================================\n// ASK AI (RAG)\n// ============================================================================\n\nexport interface AskRequest {\n  question: string\n  use_memory?: boolean\n  top_k?: number\n}\n\nexport interface AskResponse {\n  answer: string\n  context_used: boolean\n  sources_count: number\n  sources?: Array<{\n    text_preview: string\n    metadata: Record<string, any>\n    relevance_score: number\n  }>\n}\n\nexport async function askAI(data: AskRequest): Promise<AskResponse> {\n  return apiRequest<AskResponse>(\"/ai/ask\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// FLASHCARDS\n// ============================================================================\n\nexport interface GenerateFlashcardsRequest {\n  text?: string\n  topic?: string\n  num_cards?: number\n  use_memory?: boolean\n}\n\nexport interface Flashcard {\n  question: string\n  answer: string\n}\n\nexport interface GenerateFlashcardsResponse {\n  flashcards: Flashcard[]\n  count: number\n  source: string\n}\n\nexport async function generateFlashcards(\n  data: GenerateFlashcardsRequest\n): Promise<GenerateFlashcardsResponse> {\n  return apiRequest<GenerateFlashcardsResponse>(\"/ai/flashcards/generate\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// STUDY PLAN\n// ============================================================================\n\nexport interface CreateStudyPlanRequest {\n  subject: string\n  days: number\n  current_knowledge?: string\n  retrieve_materials?: boolean\n}\n\nexport interface CreateStudyPlanResponse {\n  plan: string\n  subject: string\n  days: number\n  materials_used: number\n}\n\nexport async function createStudyPlan(\n  data: CreateStudyPlanRequest\n): Promise<CreateStudyPlanResponse> {\n  return apiRequest<CreateStudyPlanResponse>(\"/ai/plan/create\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// HELPER UTILITIES\n// ============================================================================\n\n/**\n * Check if the backend is available\n */\nexport async function isBackendAvailable(): Promise<boolean> {\n  try {\n    const health = await checkHealth()\n    return health.backend === \"online\" || health.status === \"healthy\"\n  } catch {\n    return false\n  }\n}\n\n/**\n * Get backend service status summary\n */\nexport async function getServiceStatus(): Promise<{\n  backend: boolean\n  qdrant: boolean\n  ollama: boolean\n  whisper: boolean\n}> {\n  try {\n    const health = await checkHealth()\n    return {\n      backend: health.backend === \"online\",\n      qdrant: health.services.qdrant?.connected ?? false,\n      ollama: health.services.ollama?.connected ?? false,\n      whisper: health.services.whisper?.loaded ?? false,\n    }\n  } catch {\n    return {\n      backend: false,\n      qdrant: false,\n      ollama: false,\n      whisper: false,\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2245, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/app/flashcards/page.tsx"],"sourcesContent":["\"use client\"\n\nimport Layout from \"@/components/Layout\"\nimport { Button } from \"@/components/ui/button\"\nimport { Plus, RotateCcw, Loader2, X, Trash2, Sparkles, Wand2, Upload, FileText } from \"lucide-react\"\nimport { useState, useEffect, useRef } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { onAuthStateChanged, type User } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { getFlashcardDecks, createFlashcardDeck, getFlashcards, addFlashcard, getMaterials, type FlashcardDeck, type Flashcard, type Material } from \"@/lib/firestore\"\nimport { generateFlashcards as generateFlashcardsOld } from \"@/lib/ai-client\"\nimport { readFileContent } from \"@/lib/gemini\"\nimport { generateSpacedRepetitionSchedule } from \"@/lib/utils\"\nimport { toast } from \"sonner\"\nimport { generateFlashcards as generateFlashcardsAI, APIError } from \"@/lib/api\"\n\nexport default function FlashcardsPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [decks, setDecks] = useState<FlashcardDeck[]>([])\n  const [selectedDeck, setSelectedDeck] = useState<FlashcardDeck | null>(null)\n  const [cards, setCards] = useState<Flashcard[]>([])\n  const [currentIndex, setCurrentIndex] = useState(0)\n  const [isFlipped, setIsFlipped] = useState(false)\n  const [showCreateDeck, setShowCreateDeck] = useState(false)\n  const [showAddCard, setShowAddCard] = useState(false)\n  const [showAIGenerate, setShowAIGenerate] = useState(false)\n  const [creating, setCreating] = useState(false)\n  const [generating, setGenerating] = useState(false)\n  const [studyMode, setStudyMode] = useState<\"normal\" | \"spaced\">(\"normal\")\n  const [spacedSchedule, setSpacedSchedule] = useState<any[]>([])\n  const startSpacedRepetition = () => {\n    if (cards.length === 0) return\n    \n    const schedule = generateSpacedRepetitionSchedule(\n      cards.map(card => ({\n        id: card.id,\n        lastReviewed: card.lastReviewed || new Date(0),\n        difficulty: card.difficulty === \"easy\" ? 1 : card.difficulty === \"hard\" ? 3 : 2,\n        correctStreak: 0,\n        totalAttempts: 0\n      }))\n    )\n    \n    setSpacedSchedule(schedule)\n    setStudyMode(\"spaced\")\n    setCurrentIndex(0)\n    setIsFlipped(false)\n  }\n  const [newCard, setNewCard] = useState({ front: \"\", back: \"\", difficulty: \"medium\" as \"easy\" | \"medium\" | \"hard\" })\n  const [newDeck, setNewDeck] = useState({ name: \"\", subject: \"\" })\n  const [aiConfig, setAiConfig] = useState({ \n    topic: \"\", \n    count: 5, \n    difficulty: \"medium\" as \"easy\" | \"medium\" | \"hard\",\n    sourceType: \"topic\" as \"topic\" | \"file\" | \"material\" | \"text\",\n    sourceContent: \"\",\n    selectedMaterialId: \"\"\n  })\n  const [materials, setMaterials] = useState<Material[]>([])\n  const [uploadedFiles, setUploadedFiles] = useState<File[]>([])\n  const [fileReadProgress, setFileReadProgress] = useState(\"\")\n  const fileInputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n      setUser(currentUser)\n      if (currentUser) {\n        try {\n          const userDecks = await getFlashcardDecks(currentUser.uid)\n          setDecks(userDecks)\n          // Also load materials for AI generation source\n          const userMaterials = await getMaterials(currentUser.uid)\n          setMaterials(userMaterials)\n        } catch (error) {\n          console.error(\"Error loading decks:\", error)\n        }\n      } else {\n        router.push(\"/login\")\n      }\n      setLoading(false)\n    })\n    return () => unsubscribe()\n  }, [router])\n\n  const handleSelectDeck = async (deck: FlashcardDeck) => {\n    setSelectedDeck(deck)\n    const deckCards = await getFlashcards(deck.id)\n    setCards(deckCards)\n    setCurrentIndex(0)\n    setIsFlipped(false)\n  }\n\n  const handleCreateDeck = async () => {\n    if (!user || !newDeck.name || !newDeck.subject) return\n    setCreating(true)\n    try {\n      await createFlashcardDeck({\n        name: newDeck.name,\n        subject: newDeck.subject,\n        userId: user.uid\n      })\n      const updatedDecks = await getFlashcardDecks(user.uid)\n      setDecks(updatedDecks)\n      setShowCreateDeck(false)\n      setNewDeck({ name: \"\", subject: \"\" })\n    } catch (error: any) {\n      console.error(\"Error creating deck:\", error)\n      alert(\"Error creating deck: \" + (error?.message || \"Unknown error\"))\n    } finally {\n      setCreating(false)\n    }\n  }\n\n  const handleAddCard = async () => {\n    if (!user || !selectedDeck || !newCard.front || !newCard.back) return\n    try {\n      await addFlashcard({\n        front: newCard.front,\n        back: newCard.back,\n        difficulty: newCard.difficulty,\n        deckId: selectedDeck.id,\n        userId: user.uid\n      })\n      const updatedCards = await getFlashcards(selectedDeck.id)\n      setCards(updatedCards)\n      setShowAddCard(false)\n      setNewCard({ front: \"\", back: \"\", difficulty: \"medium\" })\n    } catch (error) {\n      console.error(\"Error adding card:\", error)\n    }\n  }\n\n  const handleFileSelect = async (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files\n    if (!files || files.length === 0) return\n    \n    const fileArray = Array.from(files)\n    setUploadedFiles(fileArray)\n    setFileReadProgress(\"Reading files...\")\n    \n    try {\n      // Read all files and combine their content\n      let combinedContent = \"\"\n      for (let i = 0; i < fileArray.length; i++) {\n        const file = fileArray[i]\n        setFileReadProgress(`Reading file ${i + 1}/${fileArray.length}: ${file.name}`)\n        const content = await readFileContent(file)\n        combinedContent += `\\n\\n--- Content from: ${file.name} ---\\n\\n${content}`\n      }\n      \n      setAiConfig(prev => ({ ...prev, sourceContent: combinedContent.trim(), sourceType: \"file\" }))\n      setFileReadProgress(`${fileArray.length} file(s) loaded successfully`)\n    } catch (error) {\n      console.error(\"Error reading files:\", error)\n      setFileReadProgress(\"Error reading files\")\n      alert(\"Failed to read file content\")\n    }\n  }\n\n  // AI Flashcard Generation using Gemini\n  const generateAIFlashcards = async () => {\n    if (!user || !selectedDeck) return\n    \n    // Validate based on source type\n    if (aiConfig.sourceType === \"topic\" && !aiConfig.topic) {\n      alert(\"Please enter a topic\")\n      return\n    }\n    if (aiConfig.sourceType === \"text\" && !aiConfig.sourceContent) {\n      alert(\"Please enter some text content\")\n      return\n    }\n    if (aiConfig.sourceType === \"file\" && uploadedFiles.length === 0) {\n      alert(\"Please upload at least one file\")\n      return\n    }\n    if (aiConfig.sourceType === \"file\" && !aiConfig.sourceContent) {\n      alert(\"Files are still being processed. Please wait.\")\n      return\n    }\n    \n    setGenerating(true)\n    try {\n      let generatedCards: { front: string; back: string }[]\n      \n      // Determine content source\n      let content = \"\"\n      let topic = aiConfig.topic\n      \n      if (aiConfig.sourceType === \"material\" && aiConfig.selectedMaterialId) {\n        // Get content from selected material\n        const selectedMaterial = materials.find(m => m.id === aiConfig.selectedMaterialId)\n        if (selectedMaterial && selectedMaterial.content) {\n          content = selectedMaterial.content\n          topic = topic || selectedMaterial.title || selectedMaterial.subject || \"Study Material\"\n        } else {\n          alert(\"Selected material not found or has no content.\")\n          return\n        }\n      } else if (aiConfig.sourceType === \"text\" || aiConfig.sourceType === \"file\") {\n        content = aiConfig.sourceContent\n      }\n      \n      // Fallback topic\n      if (!topic) {\n        topic = uploadedFiles.length > 0 \n          ? uploadedFiles.map(f => f.name.replace(/\\.[^/.]+$/, \"\")).join(\", \") \n          : \"Study Material\"\n      }\n      \n      console.log(\"Generating flashcards with content length:\", content.length)\n      console.log(\"Topic:\", topic)\n      \n      // Try to use AI backend first\n      try {\n        const result = await generateFlashcardsAI({\n          text: content || undefined,\n          topic: !content ? topic : undefined,\n          num_cards: aiConfig.count,\n          use_memory: !content // Use memory if no content provided\n        })\n\n        generatedCards = result.flashcards.map(card => ({\n          front: card.question,\n          back: card.answer\n        }))\n\n        toast.info(`Generated ${generatedCards.length} flashcards using AI backend`, {\n          description: result.source,\n          duration: 3000\n        })\n      } catch (error) {\n        console.warn(\"AI backend failed, using fallback:\", error)\n        \n        // Fallback to original AI client\n        generatedCards = await generateFlashcardsOld(\n          content,\n          topic,\n          aiConfig.count,\n          aiConfig.difficulty\n        )\n\n        toast.info(\"Generated flashcards using fallback AI\", {\n          duration: 2000\n        })\n      }\n      \n      // Add all generated cards to the deck\n      for (const card of generatedCards) {\n        await addFlashcard({\n          front: card.front,\n          back: card.back,\n          difficulty: aiConfig.difficulty,\n          deckId: selectedDeck.id,\n          userId: user.uid\n        })\n      }\n      \n      // Refresh cards\n      const updatedCards = await getFlashcards(selectedDeck.id)\n      setCards(updatedCards)\n\n      // Update deck in decks list\n      const updatedDecks = await getFlashcardDecks(user.uid)\n      setDecks(updatedDecks)\n\n      setShowAIGenerate(false)\n      resetAiConfig()\n\n      // Success toast with navigation\n      toast.success(`Successfully generated ${generatedCards.length} flashcards!`, {\n        description: \"Your new flashcards are ready to study.\",\n        duration: 4000,\n        action: {\n          label: \"Start Studying\",\n          onClick: () => {\n            // Stay on current deck since we added cards to selectedDeck\n            setSelectedDeck(selectedDeck)\n          }\n        }\n      })\n    } catch (error: any) {\n      console.error(\"Error generating flashcards:\", error)\n      toast.error(\"Failed to generate flashcards\", {\n        description: error?.message || \"Please try again or check your input.\",\n        duration: 5000,\n        action: {\n          label: \"Try Again\",\n          onClick: () => generateAIFlashcards()\n        }\n      })\n    } finally {\n      setGenerating(false)\n    }\n  }\n\n  const resetAiConfig = () => {\n    setAiConfig({ \n      topic: \"\", \n      count: 5, \n      difficulty: \"medium\",\n      sourceType: \"topic\",\n      sourceContent: \"\",\n      selectedMaterialId: \"\"\n    })\n    setUploadedFiles([])\n    setFileReadProgress(\"\")\n    if (fileInputRef.current) fileInputRef.current.value = \"\"\n  }\n\n  // Fallback smart flashcard generator (used when Gemini fails)\n  const generateSmartFlashcards = (topic: string, count: number, difficulty: \"easy\" | \"medium\" | \"hard\") => {\n    const topicLower = topic.toLowerCase()\n    const cards: { front: string; back: string }[] = []\n    \n    // Template-based generation system\n    const templates = {\n      definition: [\n        { front: `What is ${topic}?`, back: `${topic} is a concept/subject that involves understanding and applying related principles and knowledge.` },\n        { front: `Define ${topic} in your own words`, back: `${topic} can be defined as the study and practice of its core principles, methods, and applications.` },\n        { front: `What are the key characteristics of ${topic}?`, back: `Key characteristics include: foundational concepts, practical applications, and theoretical frameworks.` }\n      ],\n      concepts: [\n        { front: `What are the main components of ${topic}?`, back: `The main components include: core elements, supporting structures, and interconnected systems.` },\n        { front: `Explain the fundamental principles of ${topic}`, back: `Fundamental principles include systematic approaches, logical reasoning, and evidence-based methods.` },\n        { front: `What is the purpose of studying ${topic}?`, back: `Studying ${topic} helps develop understanding, critical thinking, and practical skills in the subject area.` }\n      ],\n      application: [\n        { front: `How is ${topic} applied in real life?`, back: `${topic} is applied in various fields including education, industry, research, and everyday problem-solving.` },\n        { front: `Give an example of ${topic} in practice`, back: `A practical example involves using ${topic} principles to solve problems, make decisions, or create solutions.` },\n        { front: `What problems can ${topic} help solve?`, back: `${topic} can help address challenges related to analysis, optimization, design, and understanding complex systems.` }\n      ],\n      analysis: [\n        { front: `Compare and contrast aspects of ${topic}`, back: `Different aspects share common foundations but vary in application, complexity, and scope.` },\n        { front: `What are the advantages of ${topic}?`, back: `Advantages include improved understanding, better problem-solving abilities, and practical skill development.` },\n        { front: `What challenges exist in ${topic}?`, back: `Common challenges include complexity, requiring prerequisite knowledge, and practical implementation difficulties.` }\n      ],\n      review: [\n        { front: `Summarize the key points of ${topic}`, back: `Key points: definitions, principles, applications, examples, and interconnections with other concepts.` },\n        { front: `What should you remember about ${topic}?`, back: `Remember the core definitions, main principles, practical applications, and common examples.` },\n        { front: `How does ${topic} connect to other subjects?`, back: `${topic} connects through shared principles, complementary skills, and interdisciplinary applications.` }\n      ]\n    }\n\n    // Subject-specific enhancements\n    const subjectTemplates: { [key: string]: { front: string; back: string }[] } = {\n      math: [\n        { front: \"What is a derivative?\", back: \"A derivative measures the rate of change of a function with respect to a variable. It represents the slope of the tangent line at any point.\" },\n        { front: \"What is the quadratic formula?\", back: \"x = (-b Â± âˆš(bÂ²-4ac)) / 2a, used to solve equations of the form axÂ² + bx + c = 0\" },\n        { front: \"What is the Pythagorean theorem?\", back: \"In a right triangle, aÂ² + bÂ² = cÂ², where c is the hypotenuse.\" },\n        { front: \"What is a limit in calculus?\", back: \"A limit describes the value a function approaches as the input approaches some value.\" },\n        { front: \"What is integration?\", back: \"Integration is the reverse of differentiation, used to find areas under curves and accumulation of quantities.\" }\n      ],\n      physics: [\n        { front: \"What is Newton's First Law?\", back: \"An object at rest stays at rest, and an object in motion stays in motion unless acted upon by an external force.\" },\n        { front: \"What is the formula for force?\", back: \"F = ma (Force equals mass times acceleration)\" },\n        { front: \"What is kinetic energy?\", back: \"KE = Â½mvÂ² - the energy an object possesses due to its motion.\" },\n        { front: \"What is potential energy?\", back: \"Energy stored in an object due to its position or configuration (e.g., gravitational PE = mgh)\" },\n        { front: \"What is the speed of light?\", back: \"Approximately 3 Ã— 10â¸ m/s (299,792,458 meters per second)\" }\n      ],\n      chemistry: [\n        { front: \"What is an atom?\", back: \"The smallest unit of matter that retains the properties of an element, consisting of protons, neutrons, and electrons.\" },\n        { front: \"What is the periodic table?\", back: \"A tabular arrangement of chemical elements organized by atomic number, electron configuration, and recurring properties.\" },\n        { front: \"What is a covalent bond?\", back: \"A chemical bond formed by sharing electrons between atoms.\" },\n        { front: \"What is pH?\", back: \"A scale measuring acidity/basicity from 0-14, where 7 is neutral, below 7 is acidic, and above 7 is basic.\" },\n        { front: \"What is Avogadro's number?\", back: \"6.022 Ã— 10Â²Â³ - the number of particles in one mole of a substance.\" }\n      ],\n      biology: [\n        { front: \"What is DNA?\", back: \"Deoxyribonucleic acid - a molecule carrying genetic instructions for development, functioning, and reproduction of organisms.\" },\n        { front: \"What is photosynthesis?\", back: \"The process by which plants convert light energy, water, and COâ‚‚ into glucose and oxygen: 6COâ‚‚ + 6Hâ‚‚O â†’ Câ‚†Hâ‚â‚‚Oâ‚† + 6Oâ‚‚\" },\n        { front: \"What is mitosis?\", back: \"Cell division resulting in two identical daughter cells with the same number of chromosomes as the parent cell.\" },\n        { front: \"What is the cell membrane?\", back: \"A semipermeable lipid bilayer that surrounds cells, controlling what enters and exits.\" },\n        { front: \"What is evolution?\", back: \"The process of change in living organisms over generations through natural selection and genetic variation.\" }\n      ],\n      history: [\n        { front: \"When did World War II end?\", back: \"1945 - with Germany surrendering in May and Japan in September after atomic bombs on Hiroshima and Nagasaki.\" },\n        { front: \"What was the Renaissance?\", back: \"A cultural movement (14th-17th century) marking the transition from medieval to modern times, emphasizing art, science, and humanism.\" },\n        { front: \"What was the Industrial Revolution?\", back: \"A period of major industrialization (1760-1840) transitioning from hand production to machine manufacturing.\" },\n        { front: \"When was the Declaration of Independence signed?\", back: \"July 4, 1776 - declaring American independence from British rule.\" },\n        { front: \"What was the Cold War?\", back: \"A period of geopolitical tension (1947-1991) between the USA and USSR, characterized by political conflict without direct military engagement.\" }\n      ],\n      programming: [\n        { front: \"What is a variable?\", back: \"A named storage location in memory that holds a value which can change during program execution.\" },\n        { front: \"What is a function?\", back: \"A reusable block of code that performs a specific task and can accept inputs (parameters) and return outputs.\" },\n        { front: \"What is an array?\", back: \"A data structure that stores a collection of elements of the same type in contiguous memory locations.\" },\n        { front: \"What is Object-Oriented Programming?\", back: \"A programming paradigm based on objects containing data (attributes) and code (methods), with principles like encapsulation, inheritance, and polymorphism.\" },\n        { front: \"What is an algorithm?\", back: \"A step-by-step procedure or formula for solving a problem or completing a task.\" }\n      ]\n    }\n\n    // Check if topic matches any subject-specific templates\n    for (const [subject, subjectCards] of Object.entries(subjectTemplates)) {\n      if (topicLower.includes(subject) || subject.includes(topicLower)) {\n        const selectedCards = subjectCards.slice(0, count)\n        return selectedCards\n      }\n    }\n\n    // Generate from general templates\n    const allTemplates = [...templates.definition, ...templates.concepts, ...templates.application, ...templates.analysis, ...templates.review]\n    \n    // Shuffle and select\n    const shuffled = allTemplates.sort(() => Math.random() - 0.5)\n    \n    // Add difficulty-based variations\n    for (let i = 0; i < Math.min(count, shuffled.length); i++) {\n      let card = { ...shuffled[i] }\n      \n      if (difficulty === \"hard\") {\n        card.front = card.front.replace(\"What is\", \"Explain in detail\")\n        card.front = card.front.replace(\"Define\", \"Critically analyze and define\")\n      } else if (difficulty === \"easy\") {\n        card.back = card.back.split('.')[0] + \".\"  // Shorter answers for easy\n      }\n      \n      cards.push(card)\n    }\n\n    return cards\n  }\n\n  const nextCard = () => {\n    setCurrentIndex((currentIndex + 1) % cards.length)\n    setIsFlipped(false)\n  }\n\n  const prevCard = () => {\n    setCurrentIndex(currentIndex === 0 ? cards.length - 1 : currentIndex - 1)\n    setIsFlipped(false)\n  }\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyPress = (e: KeyboardEvent) => {\n      // Only handle keyboard when not typing in inputs\n      if (e.target instanceof HTMLInputElement || e.target instanceof HTMLTextAreaElement) {\n        return\n      }\n\n      switch (e.key) {\n        case ' ':\n          e.preventDefault()\n          setIsFlipped(!isFlipped)\n          break\n        case 'ArrowRight':\n          e.preventDefault()\n          nextCard()\n          break\n        case 'ArrowLeft':\n          e.preventDefault()\n          prevCard()\n          break\n        case 'r':\n        case 'R':\n          e.preventDefault()\n          setCurrentIndex(0)\n          setIsFlipped(false)\n          break\n      }\n    }\n\n    window.addEventListener('keydown', handleKeyPress)\n    return () => window.removeEventListener('keydown', handleKeyPress)\n  }, [currentIndex, isFlipped, cards.length])\n\n  if (loading) {\n    return (\n      <main className=\"min-h-screen bg-slate-900 flex items-center justify-center\">\n        <Loader2 className=\"w-8 h-8 animate-spin text-primary\" />\n      </main>\n    )\n  }\n\n  if (!user) return null\n\n  return (\n    <Layout \n      title=\"Flashcards\" \n      subtitle=\"Create and review flashcards to master key concepts\"\n    >\n      <div className=\"mb-12\">\n        <p className=\"text-slate-400\">Study with flashcards</p>\n      </div>\n\n        {!selectedDeck ? (\n          <>\n            {/* Deck List */}\n            <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8\">\n              {decks.map((deck) => (\n                <div\n                  key={deck.id}\n                  onClick={() => handleSelectDeck(deck)}\n                  className=\"p-6 rounded-lg bg-slate-800/50 border border-slate-700 hover:border-primary/50 cursor-pointer transition-all\"\n                >\n                  <h3 className=\"font-semibold text-slate-100 mb-2\">{deck.name}</h3>\n                  <p className=\"text-sm text-slate-400 mb-2\">{deck.subject}</p>\n                  <p className=\"text-xs text-primary\">{deck.cardCount} cards</p>\n                </div>\n              ))}\n            </div>\n\n            {/* Create New Deck */}\n            <div className=\"p-8 rounded-lg bg-slate-800/50 border border-slate-700 text-center\">\n              <Plus className=\"w-8 h-8 text-primary mx-auto mb-4\" />\n              <h3 className=\"text-lg font-semibold text-slate-100 mb-2\">Create New Deck</h3>\n              <p className=\"text-slate-400 mb-6\">Create a new flashcard deck</p>\n              <Button onClick={() => setShowCreateDeck(true)}>Create Deck</Button>\n            </div>\n          </>\n        ) : (\n          <>\n            {/* Back Button */}\n            <Button variant=\"outline\" onClick={() => setSelectedDeck(null)} className=\"mb-6\">\n              â† Back to Decks\n            </Button>\n\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-2xl font-semibold text-slate-100\">{selectedDeck.name}</h2>\n              <div className=\"flex gap-2\">\n                <Button variant=\"outline\" onClick={() => setShowAIGenerate(true)} className=\"border-primary/50 text-primary hover:bg-primary/10\">\n                  <Sparkles className=\"w-4 h-4 mr-2\" /> AI Generate\n                </Button>\n                <Button onClick={() => setShowAddCard(true)}>\n                  <Plus className=\"w-4 h-4 mr-2\" /> Add Card\n                </Button>\n              </div>\n            </div>\n\n            {cards.length === 0 ? (\n              <div className=\"text-center py-16\">\n                <p className=\"text-slate-400 mb-4\">No cards in this deck yet</p>\n                <Button onClick={() => setShowAddCard(true)}>Add First Card</Button>\n              </div>\n            ) : (\n              <>\n                {/* Flashcard Display */}\n                <div className=\"mb-12\">\n                  <div\n                    onClick={() => setIsFlipped(!isFlipped)}\n                    className=\"min-h-80 max-h-[500px] rounded-2xl bg-gradient-to-br from-primary/20 to-accent/20 border-2 border-primary/30 cursor-pointer flex items-center justify-center p-8 hover:shadow-lg transition-all overflow-hidden\"\n                  >\n                    <div className=\"text-center w-full max-w-3xl\">\n                      <p className=\"text-sm text-slate-400 mb-4\">\n                        {isFlipped ? \"Answer\" : \"Question\"} ({currentIndex + 1}/{cards.length})\n                      </p>\n                      <div className=\"max-h-60 overflow-y-auto px-4\">\n                        <p className=\"text-xl md:text-2xl lg:text-3xl font-serif font-bold text-slate-100 leading-relaxed\">\n                          {isFlipped ? cards[currentIndex].back : cards[currentIndex].front}\n                        </p>\n                      </div>\n                      <p className=\"text-xs text-muted-foreground mt-6\">\n                        Click to flip â€¢ Space to flip â€¢ â† â†’ to navigate â€¢ R to reset\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Controls */}\n                <div className=\"flex justify-center gap-4 mb-4\">\n                  <Button \n                    variant={studyMode === \"normal\" ? \"default\" : \"outline\"} \n                    onClick={() => setStudyMode(\"normal\")}\n                  >\n                    Normal\n                  </Button>\n                  <Button \n                    variant={studyMode === \"spaced\" ? \"default\" : \"outline\"} \n                    onClick={startSpacedRepetition}\n                  >\n                    Spaced Repetition\n                  </Button>\n                </div>\n                <div className=\"flex justify-center gap-4\">\n                  <Button variant=\"outline\" onClick={prevCard}>Previous</Button>\n                  <Button onClick={nextCard}>Next</Button>\n                  <Button variant=\"outline\" onClick={() => { setCurrentIndex(0); setIsFlipped(false); }}>\n                    <RotateCcw className=\"w-4 h-4 mr-2\" /> Reset\n                  </Button>\n                </div>\n              </>\n            )}\n          </>\n        )}\n\n      {/* Create Deck Modal */}\n      {showCreateDeck && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-card rounded-xl p-6 w-full max-w-md border border-border\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold\">Create Deck</h2>\n              <button onClick={() => setShowCreateDeck(false)}><X className=\"w-5 h-5\" /></button>\n            </div>\n            <div className=\"space-y-4\">\n              <input\n                type=\"text\"\n                placeholder=\"Deck Name\"\n                value={newDeck.name}\n                onChange={(e) => setNewDeck({ ...newDeck, name: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg bg-background border border-border\"\n              />\n              <input\n                type=\"text\"\n                placeholder=\"Subject\"\n                value={newDeck.subject}\n                onChange={(e) => setNewDeck({ ...newDeck, subject: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg bg-background border border-border\"\n              />\n              <Button className=\"w-full\" onClick={handleCreateDeck} disabled={creating || !newDeck.name || !newDeck.subject}>\n                {creating ? <><Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> Creating...</> : \"Create\"}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Card Modal */}\n      {showAddCard && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-card rounded-xl p-6 w-full max-w-md border border-border\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold\">Add Card</h2>\n              <button onClick={() => setShowAddCard(false)}><X className=\"w-5 h-5\" /></button>\n            </div>\n            <div className=\"space-y-4\">\n              <textarea\n                placeholder=\"Question (Front)\"\n                value={newCard.front}\n                onChange={(e) => setNewCard({ ...newCard, front: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg bg-background border border-border resize-none\"\n                rows={3}\n              />\n              <textarea\n                placeholder=\"Answer (Back)\"\n                value={newCard.back}\n                onChange={(e) => setNewCard({ ...newCard, back: e.target.value })}\n                className=\"w-full px-4 py-2 rounded-lg bg-background border border-border resize-none\"\n                rows={3}\n              />\n              <select\n                value={newCard.difficulty}\n                onChange={(e) => setNewCard({ ...newCard, difficulty: e.target.value as \"easy\" | \"medium\" | \"hard\" })}\n                className=\"w-full px-4 py-2 rounded-lg bg-background border border-border\"\n              >\n                <option value=\"easy\">Easy</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"hard\">Hard</option>\n              </select>\n              <Button className=\"w-full\" onClick={handleAddCard}>Add Card</Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* AI Generate Modal */}\n      {showAIGenerate && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto\">\n          <div className=\"bg-card rounded-xl p-6 w-full max-w-lg border border-border my-8\">\n            <div className=\"flex justify-between items-center mb-6\">\n              <h2 className=\"text-xl font-semibold flex items-center gap-2\">\n                <Wand2 className=\"w-5 h-5 text-primary\" />\n                AI Generate Flashcards\n              </h2>\n              <button onClick={() => { setShowAIGenerate(false); resetAiConfig(); }}><X className=\"w-5 h-5\" /></button>\n            </div>\n            <div className=\"space-y-4\">\n              {/* Source Type Selection */}\n              <div>\n                <label className=\"text-sm text-muted-foreground mb-2 block\">Generate from:</label>\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <button\n                    onClick={() => setAiConfig({ ...aiConfig, sourceType: \"topic\", sourceContent: \"\" })}\n                    className={`p-3 rounded-lg border text-sm text-left transition-all ${\n                      aiConfig.sourceType === \"topic\" \n                        ? \"border-primary bg-primary/10 text-primary\" \n                        : \"border-border hover:border-primary/50\"\n                    }`}\n                  >\n                    <Sparkles className=\"w-4 h-4 mb-1\" />\n                    Topic Only\n                  </button>\n                  <button\n                    onClick={() => setAiConfig({ ...aiConfig, sourceType: \"file\" })}\n                    className={`p-3 rounded-lg border text-sm text-left transition-all ${\n                      aiConfig.sourceType === \"file\" \n                        ? \"border-primary bg-primary/10 text-primary\" \n                        : \"border-border hover:border-primary/50\"\n                    }`}\n                  >\n                    <Upload className=\"w-4 h-4 mb-1\" />\n                    Upload File\n                  </button>\n                  <button\n                    onClick={() => setAiConfig({ ...aiConfig, sourceType: \"text\" })}\n                    className={`p-3 rounded-lg border text-sm text-left transition-all ${\n                      aiConfig.sourceType === \"text\" \n                        ? \"border-primary bg-primary/10 text-primary\" \n                        : \"border-border hover:border-primary/50\"\n                    }`}\n                  >\n                    <FileText className=\"w-4 h-4 mb-1\" />\n                    Paste Text\n                  </button>\n                  <button\n                    onClick={() => setAiConfig({ ...aiConfig, sourceType: \"material\" })}\n                    className={`p-3 rounded-lg border text-sm text-left transition-all ${\n                      aiConfig.sourceType === \"material\" \n                        ? \"border-primary bg-primary/10 text-primary\" \n                        : \"border-border hover:border-primary/50\"\n                    }`}\n                  >\n                    <FileText className=\"w-4 h-4 mb-1\" />\n                    My Materials\n                  </button>\n                </div>\n              </div>\n\n              {/* Topic Input */}\n              <div>\n                <label className=\"text-sm text-muted-foreground mb-1 block\">\n                  {aiConfig.sourceType === \"topic\" ? \"Topic / Subject *\" : \"Topic / Subject (optional)\"}\n                </label>\n                <input\n                  type=\"text\"\n                  placeholder=\"e.g., Biology, Calculus, World War II...\"\n                  value={aiConfig.topic}\n                  onChange={(e) => setAiConfig({ ...aiConfig, topic: e.target.value })}\n                  className=\"w-full px-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none\"\n                />\n              </div>\n\n              {/* File Upload */}\n              {aiConfig.sourceType === \"file\" && (\n                <div>\n                  <label className=\"text-sm text-muted-foreground mb-1 block\">Upload Source Files</label>\n                  <input\n                    ref={fileInputRef}\n                    type=\"file\"\n                    multiple\n                    accept=\".txt,.md,.csv,.pdf,.doc,.docx,.rtf\"\n                    onChange={handleFileSelect}\n                    className=\"hidden\"\n                  />\n                  <div \n                    onClick={() => fileInputRef.current?.click()}\n                    className=\"w-full p-4 rounded-lg border-2 border-dashed border-border hover:border-primary/50 cursor-pointer text-center transition-all\"\n                  >\n                    {uploadedFiles.length > 0 ? (\n                      <div className=\"space-y-1\">\n                        <div className=\"flex items-center justify-center gap-2 text-primary\">\n                          <FileText className=\"w-5 h-5\" />\n                          <span className=\"font-medium\">{uploadedFiles.length} file(s) selected</span>\n                        </div>\n                        <div className=\"text-xs text-muted-foreground max-h-16 overflow-y-auto\">\n                          {uploadedFiles.map((f, i) => (\n                            <div key={i}>{f.name}</div>\n                          ))}\n                        </div>\n                      </div>\n                    ) : (\n                      <>\n                        <Upload className=\"w-6 h-6 mx-auto mb-2 text-muted-foreground\" />\n                        <p className=\"text-sm text-muted-foreground\">Click to upload multiple files</p>\n                        <p className=\"text-xs text-muted-foreground\">PDF, Word, TXT, MD supported</p>\n                      </>\n                    )}\n                  </div>\n                  {fileReadProgress && (\n                    <p className={`text-xs mt-1 ${fileReadProgress.includes(\"Error\") ? \"text-red-500\" : \"text-green-500\"}`}>\n                      {fileReadProgress}\n                    </p>\n                  )}\n                  {aiConfig.sourceContent && (\n                    <div className=\"mt-1\">\n                      <p className=\"text-xs text-muted-foreground\">\n                        Content loaded: {aiConfig.sourceContent.length.toLocaleString()} characters\n                      </p>\n                      {aiConfig.sourceContent.length > 500000 && (\n                        <p className=\"text-xs text-yellow-500\">\n                          âš ï¸ Large content will be truncated to fit AI limits (~500k chars max)\n                        </p>\n                      )}\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Text Input */}\n              {aiConfig.sourceType === \"text\" && (\n                <div>\n                  <label className=\"text-sm text-muted-foreground mb-1 block\">Paste Study Content</label>\n                  <textarea\n                    placeholder=\"Paste your notes, textbook content, or any study material here...\"\n                    value={aiConfig.sourceContent}\n                    onChange={(e) => setAiConfig({ ...aiConfig, sourceContent: e.target.value })}\n                    className=\"w-full px-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none resize-none\"\n                    rows={5}\n                  />\n                  <p className=\"text-xs text-muted-foreground mt-1\">\n                    {aiConfig.sourceContent.length.toLocaleString()} characters\n                    {aiConfig.sourceContent.length > 500000 && (\n                      <span className=\"text-yellow-500 ml-2\">âš ï¸ Will be truncated</span>\n                    )}\n                  </p>\n                </div>\n              )}\n\n              {/* Material Selection */}\n              {aiConfig.sourceType === \"material\" && (\n                <div>\n                  <label className=\"text-sm text-muted-foreground mb-1 block\">Select from Materials</label>\n                  {materials.length === 0 ? (\n                    <p className=\"text-sm text-muted-foreground p-4 text-center border border-dashed border-border rounded-lg\">\n                      No materials found. Upload materials first in the Materials section.\n                    </p>\n                  ) : (\n                    <select\n                      value={aiConfig.selectedMaterialId}\n                      onChange={(e) => setAiConfig({ ...aiConfig, selectedMaterialId: e.target.value })}\n                      className=\"w-full px-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none\"\n                    >\n                      <option value=\"\">Select a material...</option>\n                      {materials.map(m => (\n                        <option key={m.id} value={m.id}>{m.title} ({m.subject})</option>\n                      ))}\n                    </select>\n                  )}\n                </div>\n              )}\n\n              {/* Number of Cards */}\n              <div>\n                <label className=\"text-sm text-muted-foreground mb-1 block\">Number of Cards</label>\n                <input\n                  type=\"number\"\n                  min=\"1\"\n                  max=\"20\"\n                  value={aiConfig.count}\n                  onChange={(e) => setAiConfig({ ...aiConfig, count: parseInt(e.target.value) || 5 })}\n                  className=\"w-full px-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none\"\n                />\n              </div>\n\n              {/* Difficulty */}\n              <div>\n                <label className=\"text-sm text-muted-foreground mb-1 block\">Difficulty Level</label>\n                <select\n                  value={aiConfig.difficulty}\n                  onChange={(e) => setAiConfig({ ...aiConfig, difficulty: e.target.value as \"easy\" | \"medium\" | \"hard\" })}\n                  className=\"w-full px-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none\"\n                >\n                  <option value=\"easy\">Easy - Simple, concise answers</option>\n                  <option value=\"medium\">Medium - Balanced questions</option>\n                  <option value=\"hard\">Hard - In-depth analysis</option>\n                </select>\n              </div>\n\n              {/* Gemini API Notice */}\n              <p className=\"text-xs text-muted-foreground text-center\">\n                Powered by Google Gemini AI\n              </p>\n\n              <Button \n                className=\"w-full bg-gradient-to-r from-primary to-purple-600\" \n                onClick={generateAIFlashcards}\n                disabled={generating || (aiConfig.sourceType === \"topic\" && !aiConfig.topic)}\n              >\n                {generating ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" /> Generating with AI...\n                  </>\n                ) : (\n                  <>\n                    <Sparkles className=\"w-4 h-4 mr-2\" /> Generate Flashcards\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n    </Layout>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}