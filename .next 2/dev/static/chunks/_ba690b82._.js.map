{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-xl border border-border bg-card text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,0EACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ambient-player.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Volume2, VolumeX, Coffee, Waves, CloudRain, Wind, Music, BellOff, Bell } from \"lucide-react\"\n\ntype AmbientSound = \"none\" | \"coffee-shop\" | \"rain\" | \"ocean\" | \"white-noise\" | \"lo-fi\"\n\ninterface AmbientPlayerProps {\n  isActive: boolean\n}\n\nexport function AmbientPlayer({ isActive }: AmbientPlayerProps) {\n  const [sound, setSound] = useState<AmbientSound>(\"none\")\n  const [volume, setVolume] = useState(0.3)\n  const [dndMode, setDndMode] = useState(false)\n  const audioRef = useRef<HTMLAudioElement | null>(null)\n\n  useEffect(() => {\n    // Create audio element\n    if (typeof window !== \"undefined\") {\n      audioRef.current = new Audio()\n      audioRef.current.loop = true\n      audioRef.current.volume = volume\n    }\n\n    return () => {\n      if (audioRef.current) {\n        audioRef.current.pause()\n        audioRef.current = null\n      }\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!audioRef.current || !isActive) return\n\n    if (sound === \"none\") {\n      audioRef.current.pause()\n      return\n    }\n\n    // Map sounds to audio URLs (you would replace these with actual audio files)\n    const soundUrls: Record<Exclude<AmbientSound, \"none\">, string> = {\n      \"coffee-shop\": \"/sounds/coffee-shop.mp3\",\n      \"rain\": \"/sounds/rain.mp3\",\n      \"ocean\": \"/sounds/ocean.mp3\",\n      \"white-noise\": \"/sounds/white-noise.mp3\",\n      \"lo-fi\": \"/sounds/lo-fi.mp3\"\n    }\n\n    // For now, we'll just log since we don't have actual audio files\n    console.log(`Would play: ${soundUrls[sound]}`)\n    \n    // In production, uncomment:\n    // audioRef.current.src = soundUrls[sound]\n    // audioRef.current.play().catch(err => console.log(\"Audio play failed:\", err))\n  }, [sound, isActive])\n\n  useEffect(() => {\n    if (audioRef.current) {\n      audioRef.current.volume = volume\n    }\n  }, [volume])\n\n  useEffect(() => {\n    // Enable Do Not Disturb mode\n    if (dndMode && typeof window !== \"undefined\") {\n      document.title = \"ðŸ”´ Focus Mode - Do Not Disturb\"\n    } else {\n      document.title = \"StudyPal\"\n    }\n  }, [dndMode])\n\n  const sounds: { id: AmbientSound; label: string; icon: any; color: string }[] = [\n    { id: \"none\", label: \"Silence\", icon: VolumeX, color: \"gray\" },\n    { id: \"coffee-shop\", label: \"Coffee Shop\", icon: Coffee, color: \"amber\" },\n    { id: \"rain\", label: \"Rain\", icon: CloudRain, color: \"blue\" },\n    { id: \"ocean\", label: \"Ocean\", icon: Waves, color: \"cyan\" },\n    { id: \"white-noise\", label: \"White Noise\", icon: Wind, color: \"slate\" },\n    { id: \"lo-fi\", label: \"Lo-Fi Beats\", icon: Music, color: \"purple\" }\n  ]\n\n  if (!isActive) return null\n\n  return (\n    <Card className=\"p-4 bg-gradient-to-br from-purple-500/5 to-pink-500/5 border-purple-500/20\">\n      <div className=\"space-y-4\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Volume2 className=\"w-4 h-4 text-purple-500\" />\n            <h4 className=\"font-semibold\">Ambient Sounds</h4>\n          </div>\n          \n          {/* Do Not Disturb Toggle */}\n          <button\n            onClick={() => setDndMode(!dndMode)}\n            className={`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium transition-all ${\n              dndMode\n                ? \"bg-red-500 text-white\"\n                : \"bg-gray-100 dark:bg-gray-800 text-muted-foreground hover:bg-gray-200 dark:hover:bg-gray-700\"\n            }`}\n          >\n            {dndMode ? <BellOff className=\"w-3 h-3\" /> : <Bell className=\"w-3 h-3\" />}\n            {dndMode ? \"DND On\" : \"DND Off\"}\n          </button>\n        </div>\n\n        {/* Sound Selection */}\n        <div className=\"grid grid-cols-3 gap-2\">\n          {sounds.map((s) => {\n            const Icon = s.icon\n            const isActive = sound === s.id\n            \n            return (\n              <button\n                key={s.id}\n                onClick={() => setSound(s.id)}\n                className={`flex flex-col items-center gap-1 p-3 rounded-lg border transition-all ${\n                  isActive\n                    ? `bg-${s.color}-500/10 border-${s.color}-500 text-${s.color}-500`\n                    : \"bg-background border-border hover:border-gray-400\"\n                }`}\n              >\n                <Icon className=\"w-5 h-5\" />\n                <span className=\"text-xs font-medium\">{s.label}</span>\n              </button>\n            )\n          })}\n        </div>\n\n        {/* Volume Control */}\n        {sound !== \"none\" && (\n          <div className=\"space-y-2\">\n            <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n              <span>Volume</span>\n              <span>{Math.round(volume * 100)}%</span>\n            </div>\n            <input\n              type=\"range\"\n              min=\"0\"\n              max=\"100\"\n              value={volume * 100}\n              onChange={(e) => setVolume(Number(e.target.value) / 100)}\n              className=\"w-full h-2 bg-gray-200 dark:bg-gray-800 rounded-lg appearance-none cursor-pointer accent-purple-500\"\n            />\n          </div>\n        )}\n\n        {/* DND Info */}\n        {dndMode && (\n          <div className=\"pt-2 border-t border-purple-500/20\">\n            <p className=\"text-xs text-muted-foreground flex items-center gap-2\">\n              <BellOff className=\"w-3 h-3\" />\n              Do Not Disturb is active. Browser notifications are suppressed.\n            </p>\n          </div>\n        )}\n      </div>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/pomodoro-timer.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef, useCallback } from \"react\"\nimport { Play, Pause, RotateCcw, Settings, X, Volume2, VolumeX, Coffee, Brain } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { \n  getPomodoroSettings, savePomodoroSettings, logPomodoroSession,\n  type PomodoroSettings, type Task \n} from \"@/lib/firestore\"\nimport { useAuthContext } from \"./auth-provider\"\nimport { analyzeLearningPatterns, generatePersonalizedContent } from \"@/lib/ai-client\"\nimport { AmbientPlayer } from \"@/components/ambient-player\"\n\ninterface PomodoroTimerProps {\n  task?: Task | null\n  onClose?: () => void\n  compact?: boolean\n  onSessionComplete?: (session: { duration: number; type: \"work\" | \"break\" }) => void\n}\n\nconst DEFAULT_SETTINGS: Omit<PomodoroSettings, \"userId\"> = {\n  workDuration: 25,\n  shortBreakDuration: 5,\n  longBreakDuration: 15,\n  sessionsBeforeLongBreak: 4,\n  autoStartBreaks: true,\n  autoStartWork: false,\n  soundEnabled: true,\n  notificationsEnabled: true\n}\n\nexport function PomodoroTimer({ task, onClose, compact = false, onSessionComplete }: PomodoroTimerProps) {\n  const { user } = useAuthContext()\n  const [settings, setSettings] = useState<Omit<PomodoroSettings, \"userId\">>(DEFAULT_SETTINGS)\n  const [showSettings, setShowSettings] = useState(false)\n  const [mode, setMode] = useState<\"work\" | \"short-break\" | \"long-break\">(\"work\")\n  const [timeLeft, setTimeLeft] = useState(DEFAULT_SETTINGS.workDuration * 60)\n  const [isRunning, setIsRunning] = useState(false)\n  const [sessionsCompleted, setSessionsCompleted] = useState(0)\n  const [totalWorkTime, setTotalWorkTime] = useState(0)\n  const [streak, setStreak] = useState(0)\n  const audioRef = useRef<HTMLAudioElement | null>(null)\n  const startTimeRef = useRef<Date | null>(null)\n  const [aiInsights, setAiInsights] = useState<{\n    optimalWorkTime: string\n    recommendedBreakActivity: string\n    productivityTips: string[]\n  } | null>(null)\n\n  // Load settings\n  useEffect(() => {\n    if (user) {\n      getPomodoroSettings(user.uid).then(saved => {\n        if (saved) {\n          setSettings(saved)\n          setTimeLeft(saved.workDuration * 60)\n        }\n      })\n\n      // Generate AI insights\n      generatePersonalizedContent({\n        learningStyle: \"visual\",\n        goals: [\"Improve focus\", \"Complete tasks efficiently\"],\n        currentLevel: \"intermediate\",\n        preferredSubjects: [\"Study\", \"Work\"]\n      }, \"productivity techniques\", \"explanation\").then(content => {\n        // Mock insights based on content\n        setAiInsights({\n          optimalWorkTime: \"9:00 AM - 11:00 AM\",\n          recommendedBreakActivity: \"Take a 5-minute walk or do stretching exercises\",\n          productivityTips: [\n            \"Maintain consistent sleep schedule\",\n            \"Stay hydrated during work sessions\",\n            \"Use the 2-minute rule for small tasks\"\n          ]\n        })\n      }).catch(() => {\n        // Fallback insights\n        setAiInsights({\n          optimalWorkTime: \"Morning hours\",\n          recommendedBreakActivity: \"Light exercise or meditation\",\n          productivityTips: [\"Stay focused\", \"Take regular breaks\", \"Track progress\"]\n        })\n      })\n    }\n  }, [user])\n\n  // Timer logic\n  useEffect(() => {\n    let interval: NodeJS.Timeout | null = null\n\n    if (isRunning && timeLeft > 0) {\n      interval = setInterval(() => {\n        setTimeLeft(prev => prev - 1)\n      }, 1000)\n    } else if (timeLeft === 0) {\n      handleTimerComplete()\n    }\n\n    return () => {\n      if (interval) clearInterval(interval)\n    }\n  }, [isRunning, timeLeft])\n\n  const [isAlertVisible, setIsAlertVisible] = useState(false)\n  const [alertMessage, setAlertMessage] = useState(\"\")\n  const alertTimeoutRef = useRef<NodeJS.Timeout | null>(null)\n  const audioContextRef = useRef<AudioContext | null>(null)\n\n  // Request notification permission on mount\n  useEffect(() => {\n    if (\"Notification\" in window && Notification.permission === \"default\") {\n      Notification.requestPermission()\n    }\n  }, [])\n\n  // Initialize audio context for better sound playback\n  useEffect(() => {\n    const initAudio = () => {\n      try {\n        audioContextRef.current = new (window.AudioContext || (window as any).webkitAudioContext)()\n      } catch (error) {\n        console.warn('Audio context not supported')\n      }\n    }\n\n    // Initialize on user interaction to comply with browser policies\n    const handleUserInteraction = () => {\n      initAudio()\n      document.removeEventListener('click', handleUserInteraction)\n      document.removeEventListener('keydown', handleUserInteraction)\n    }\n\n    document.addEventListener('click', handleUserInteraction)\n    document.addEventListener('keydown', handleUserInteraction)\n\n    return () => {\n      document.removeEventListener('click', handleUserInteraction)\n      document.removeEventListener('keydown', handleUserInteraction)\n    }\n  }, [])\n\n  // Play enhanced audio alert\n  const playAudioAlert = useCallback(() => {\n    if (!settings.soundEnabled) return\n\n    try {\n      // Create a more noticeable beep sound\n      if (audioContextRef.current) {\n        const context = audioContextRef.current\n        const oscillator = context.createOscillator()\n        const gainNode = context.createGain()\n\n        oscillator.connect(gainNode)\n        gainNode.connect(context.destination)\n\n        oscillator.frequency.setValueAtTime(800, context.currentTime)\n        oscillator.frequency.setValueAtTime(600, context.currentTime + 0.1)\n\n        gainNode.gain.setValueAtTime(0.3, context.currentTime)\n        gainNode.gain.exponentialRampToValueAtTime(0.01, context.currentTime + 0.5)\n\n        oscillator.start(context.currentTime)\n        oscillator.stop(context.currentTime + 0.5)\n      } else if (audioRef.current) {\n        // Fallback to audio element\n        audioRef.current.play().catch(() => {})\n      }\n    } catch (error) {\n      console.warn('Audio playback failed:', error)\n    }\n  }, [settings.soundEnabled])\n\n  // Show visual alert with animation\n  const showVisualAlert = useCallback((message: string) => {\n    setAlertMessage(message)\n    setIsAlertVisible(true)\n\n    // Clear any existing timeout\n    if (alertTimeoutRef.current) {\n      clearTimeout(alertTimeoutRef.current)\n    }\n\n    // Auto-hide after 5 seconds\n    alertTimeoutRef.current = setTimeout(() => {\n      setIsAlertVisible(false)\n    }, 5000)\n  }, [])\n\n  const handleTimerComplete = useCallback(async () => {\n    setIsRunning(false)\n\n    // Enhanced audio alert\n    playAudioAlert()\n\n    // Browser notification\n    if (settings.notificationsEnabled && \"Notification\" in window) {\n      if (Notification.permission === \"granted\") {\n        const notification = new Notification(\n          mode === \"work\" ? \"ðŸŽ‰ Focus Session Complete!\" : \"â˜• Break Time Over!\",\n          {\n            body: mode === \"work\"\n              ? `Great work! Take a ${sessionsCompleted + 1 >= settings.sessionsBeforeLongBreak ? 'long' : 'short'} break.`\n              : \"Time to get back to work!\",\n            icon: \"/icon.svg\",\n            badge: \"/icon.svg\",\n            requireInteraction: true, // Keep notification visible until user interacts\n            silent: false // Ensure sound plays even if system notifications are on\n          }\n        )\n\n        // Auto-close notification after 10 seconds\n        setTimeout(() => notification.close(), 10000)\n      } else if (Notification.permission === \"default\") {\n        // Request permission if not asked yet\n        Notification.requestPermission()\n      }\n    }\n\n    // Visual alert\n    const alertMsg = mode === \"work\"\n      ? `ðŸŽ‰ Session Complete! ${sessionsCompleted + 1 >= settings.sessionsBeforeLongBreak ? 'Long break time!' : 'Short break earned!'}`\n      : \"âš¡ Break's over! Ready to focus?\"\n    showVisualAlert(alertMsg)\n\n    // Log session\n    if (user && startTimeRef.current && mode === \"work\") {\n      const duration = settings.workDuration\n      const sessionData: any = {\n        userId: user.uid,\n        startTime: startTimeRef.current,\n        endTime: new Date(),\n        plannedDuration: duration,\n        actualDuration: duration,\n        type: mode,\n        completed: true,\n        interrupted: false\n      }\n      \n      // Only include taskId and course if task exists\n      if (task?.id) sessionData.taskId = task.id\n      if (task?.course) sessionData.course = task.course\n      \n      await logPomodoroSession(sessionData)\n      setTotalWorkTime(prev => prev + duration)\n      setSessionsCompleted(prev => prev + 1)\n      setStreak(prev => prev + 1)\n      onSessionComplete?.({ duration, type: \"work\" })\n    }\n\n    // Auto-transition\n    if (mode === \"work\") {\n      const nextMode = (sessionsCompleted + 1) % settings.sessionsBeforeLongBreak === 0 \n        ? \"long-break\" \n        : \"short-break\"\n      setMode(nextMode)\n      setTimeLeft(nextMode === \"long-break\" ? settings.longBreakDuration * 60 : settings.shortBreakDuration * 60)\n      if (settings.autoStartBreaks) {\n        setTimeout(() => {\n          setIsRunning(true)\n          startTimeRef.current = new Date()\n        }, 1000)\n      }\n    } else {\n      setMode(\"work\")\n      setTimeLeft(settings.workDuration * 60)\n      if (settings.autoStartWork) {\n        setTimeout(() => {\n          setIsRunning(true)\n          startTimeRef.current = new Date()\n        }, 1000)\n      }\n    }\n  }, [mode, settings, sessionsCompleted, user, task, onSessionComplete])\n\n  const toggleTimer = () => {\n    if (!isRunning) {\n      startTimeRef.current = new Date()\n      // Request notification permission\n      if (settings.notificationsEnabled && \"Notification\" in window && Notification.permission === \"default\") {\n        Notification.requestPermission()\n      }\n    }\n    setIsRunning(!isRunning)\n  }\n\n  const resetTimer = () => {\n    setIsRunning(false)\n    setTimeLeft(\n      mode === \"work\" \n        ? settings.workDuration * 60 \n        : mode === \"short-break\" \n          ? settings.shortBreakDuration * 60 \n          : settings.longBreakDuration * 60\n    )\n    startTimeRef.current = null\n  }\n\n  const switchMode = (newMode: \"work\" | \"short-break\" | \"long-break\") => {\n    setIsRunning(false)\n    setMode(newMode)\n    setTimeLeft(\n      newMode === \"work\" \n        ? settings.workDuration * 60 \n        : newMode === \"short-break\" \n          ? settings.shortBreakDuration * 60 \n          : settings.longBreakDuration * 60\n    )\n  }\n\n  const updateSettings = async (newSettings: Partial<Omit<PomodoroSettings, \"userId\">>) => {\n    const updated = { ...settings, ...newSettings }\n    setSettings(updated)\n    if (user) {\n      await savePomodoroSettings({ ...updated, userId: user.uid })\n    }\n    // Update current timer if not running\n    if (!isRunning) {\n      if (newSettings.workDuration && mode === \"work\") {\n        setTimeLeft(newSettings.workDuration * 60)\n      }\n      if (newSettings.shortBreakDuration && mode === \"short-break\") {\n        setTimeLeft(newSettings.shortBreakDuration * 60)\n      }\n      if (newSettings.longBreakDuration && mode === \"long-break\") {\n        setTimeLeft(newSettings.longBreakDuration * 60)\n      }\n    }\n  }\n\n  const formatTime = (seconds: number) => {\n    const mins = Math.floor(seconds / 60)\n    const secs = seconds % 60\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`\n  }\n\n  const progress = mode === \"work\" \n    ? 1 - (timeLeft / (settings.workDuration * 60))\n    : mode === \"short-break\"\n      ? 1 - (timeLeft / (settings.shortBreakDuration * 60))\n      : 1 - (timeLeft / (settings.longBreakDuration * 60))\n\n  const getModeColor = () => {\n    switch (mode) {\n      case \"work\": return \"from-red-500 to-orange-500\"\n      case \"short-break\": return \"from-green-500 to-emerald-500\"\n      case \"long-break\": return \"from-blue-500 to-cyan-500\"\n    }\n  }\n\n  const getModeIcon = () => {\n    switch (mode) {\n      case \"work\": return <Brain className=\"w-5 h-5\" />\n      case \"short-break\": return <Coffee className=\"w-5 h-5\" />\n      case \"long-break\": return <Coffee className=\"w-5 h-5\" />\n    }\n  }\n\n  if (compact) {\n    return (\n      <div className=\"relative\">\n        {/* Hidden audio element */}\n        <audio ref={audioRef} src=\"/notification.mp3\" preload=\"auto\" />\n\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            {getModeIcon()}\n            <span className=\"text-sm font-medium capitalize\">\n              {mode.replace('-', ' ')}\n            </span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <button \n              onClick={() => updateSettings({ soundEnabled: !settings.soundEnabled })}\n              className=\"p-1 hover:bg-slate-700 rounded\"\n            >\n              {settings.soundEnabled ? <Volume2 className=\"w-4 h-4\" /> : <VolumeX className=\"w-4 h-4\" />}\n            </button>\n            {onClose && (\n              <button onClick={onClose} className=\"p-1 hover:bg-slate-700 rounded\">\n                <X className=\"w-4 h-4\" />\n              </button>\n            )}\n          </div>\n        </div>\n\n        {/* Timer display */}\n        <div className=\"text-center mb-4\">\n          <div className=\"text-4xl font-mono font-bold text-slate-100 mb-2\">\n            {formatTime(timeLeft)}\n          </div>\n          \n          {/* Progress bar */}\n          <div className=\"h-2 bg-muted rounded-full overflow-hidden\">\n            <div \n              className={`h-full bg-gradient-to-r ${getModeColor()} transition-all duration-1000`}\n              style={{ width: `${progress * 100}%` }}\n            />\n          </div>\n        </div>\n\n        {/* Controls */}\n        <div className=\"flex justify-center gap-3\">\n          <Button \n            size=\"sm\" \n            variant=\"outline\" \n            onClick={resetTimer}\n          >\n            <RotateCcw className=\"w-4 h-4\" />\n          </Button>\n          <Button \n            size=\"sm\"\n            onClick={toggleTimer}\n            className={`bg-gradient-to-r ${getModeColor()} text-white`}\n          >\n            {isRunning ? <Pause className=\"w-4 h-4\" /> : <Play className=\"w-4 h-4\" />}\n          </Button>\n        </div>\n\n        {/* Stats */}\n        <div className=\"flex justify-center gap-4 mt-4 text-xs text-slate-400\">\n          <span>{sessionsCompleted} sessions</span>\n          <span>â€¢</span>\n          <span>{Math.round(totalWorkTime)} min focused</span>\n          <span>â€¢</span>\n          <span>{streak} day streak</span>\n        </div>\n      </div>\n    )\n  }\n\n  // Full version\n  return (\n    <>\n      <div className=\"relative\">\n      {/* Hidden audio element */}\n      <audio ref={audioRef} src=\"/notification.mp3\" preload=\"auto\" />\n\n      {/* Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <h2 className=\"text-xl font-semibold text-slate-100\">Focus Timer</h2>\n        <div className=\"flex items-center gap-2\">\n          <button \n            onClick={() => setShowSettings(!showSettings)}\n            className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\"\n          >\n            <Settings className=\"w-5 h-5\" />\n          </button>\n          {onClose && (\n            <button onClick={onClose} className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors\">\n              <X className=\"w-5 h-5\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Task info */}\n      {task && (\n        <div className=\"mb-6 p-4 rounded-xl bg-card border border-border\">\n          <p className=\"text-sm text-muted-foreground\">Working on:</p>\n          <p className=\"font-medium text-foreground\">{task.title}</p>\n        </div>\n      )}\n\n      {/* Mode selector */}\n      <div className=\"flex gap-2 mb-6\">\n        {[\n          { id: \"work\", label: \"Focus\", icon: Brain },\n          { id: \"short-break\", label: \"Short Break\", icon: Coffee },\n          { id: \"long-break\", label: \"Long Break\", icon: Coffee }\n        ].map(({ id, label, icon: Icon }) => (\n          <button\n            key={id}\n            onClick={() => switchMode(id as any)}\n            className={`flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg text-sm font-medium transition-colors ${\n              mode === id \n                ? `bg-gradient-to-r ${\n                    id === \"work\" ? \"from-red-500 to-orange-500\" :\n                    id === \"short-break\" ? \"from-green-500 to-emerald-500\" :\n                    \"from-blue-500 to-cyan-500\"\n                  } text-white`\n                : \"bg-slate-700 text-slate-400 hover:text-slate-100\"\n            }`}\n          >\n            <Icon className=\"w-4 h-4\" />\n            <span className=\"text-xs sm:text-sm\">{label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* Timer circle */}\n      <div className=\"flex justify-center mb-8\">\n        <div className=\"relative w-64 h-64\">\n          {/* Background circle */}\n          <svg className=\"w-full h-full transform -rotate-90\">\n            <circle\n              cx=\"128\"\n              cy=\"128\"\n              r=\"120\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              strokeWidth=\"8\"\n              className=\"text-muted\"\n            />\n            <circle\n              cx=\"128\"\n              cy=\"128\"\n              r=\"120\"\n              fill=\"none\"\n              stroke=\"url(#gradient)\"\n              strokeWidth=\"8\"\n              strokeLinecap=\"round\"\n              strokeDasharray={2 * Math.PI * 120}\n              strokeDashoffset={2 * Math.PI * 120 * (1 - progress)}\n              className=\"transition-all duration-1000\"\n            />\n            <defs>\n              <linearGradient id=\"gradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n                {mode === \"work\" && (\n                  <>\n                    <stop offset=\"0%\" stopColor=\"#ef4444\" />\n                    <stop offset=\"100%\" stopColor=\"#f97316\" />\n                  </>\n                )}\n                {mode === \"short-break\" && (\n                  <>\n                    <stop offset=\"0%\" stopColor=\"#22c55e\" />\n                    <stop offset=\"100%\" stopColor=\"#10b981\" />\n                  </>\n                )}\n                {mode === \"long-break\" && (\n                  <>\n                    <stop offset=\"0%\" stopColor=\"#3b82f6\" />\n                    <stop offset=\"100%\" stopColor=\"#06b6d4\" />\n                  </>\n                )}\n              </linearGradient>\n            </defs>\n          </svg>\n          \n          {/* Time display */}\n          <div className=\"absolute inset-0 flex flex-col items-center justify-center\">\n            <span className=\"text-5xl font-mono font-bold text-slate-100\">\n              {formatTime(timeLeft)}\n            </span>\n            <span className=\"text-sm text-slate-400 capitalize mt-2\">\n              {mode.replace('-', ' ')}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Controls */}\n      <div className=\"flex justify-center gap-4 mb-6\">\n        <Button \n          variant=\"outline\" \n          size=\"lg\"\n          onClick={resetTimer}\n          className=\"w-14 h-14 rounded-full p-0\"\n        >\n          <RotateCcw className=\"w-6 h-6\" />\n        </Button>\n        <Button \n          size=\"lg\"\n          onClick={toggleTimer}\n          className={`w-20 h-20 rounded-full p-0 bg-gradient-to-r ${getModeColor()} hover:opacity-90 text-white shadow-lg`}\n        >\n          {isRunning ? <Pause className=\"w-8 h-8\" /> : <Play className=\"w-8 h-8 ml-1\" />}\n        </Button>\n        <Button \n          variant=\"outline\" \n          size=\"lg\"\n          onClick={() => updateSettings({ soundEnabled: !settings.soundEnabled })}\n          className=\"w-14 h-14 rounded-full p-0\"\n        >\n          {settings.soundEnabled ? <Volume2 className=\"w-6 h-6\" /> : <VolumeX className=\"w-6 h-6\" />}\n        </Button>\n      </div>\n\n      {/* Session stats */}\n      <div className=\"flex justify-center gap-8 text-center\">\n        <div>\n          <p className=\"text-2xl font-bold text-slate-100\">{sessionsCompleted}</p>\n          <p className=\"text-xs text-slate-400\">Sessions</p>\n        </div>\n        <div>\n          <p className=\"text-2xl font-bold text-slate-100\">{Math.round(totalWorkTime)}</p>\n          <p className=\"text-xs text-slate-400\">Minutes focused</p>\n        </div>\n        <div>\n          <p className=\"text-2xl font-bold text-slate-100\">{streak}</p>\n          <p className=\"text-xs text-slate-400\">Day streak</p>\n        </div>\n        <div>\n          <p className=\"text-2xl font-bold text-slate-100\">\n            {sessionsCompleted % settings.sessionsBeforeLongBreak}/{settings.sessionsBeforeLongBreak}\n          </p>\n          <p className=\"text-xs text-slate-400\">Until long break</p>\n        </div>\n      </div>\n\n      {/* AI Insights */}\n      {aiInsights && (\n        <div className=\"mt-6 p-4 rounded-xl bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20\">\n          <h3 className=\"font-medium text-slate-100 mb-3 flex items-center gap-2\">\n            <Brain className=\"w-4 h-4 text-purple-500\" />\n            AI Productivity Insights\n          </h3>\n          \n          <div className=\"space-y-3\">\n            <div>\n              <p className=\"text-sm text-muted-foreground\">Optimal work time</p>\n              <p className=\"font-medium text-foreground\">{aiInsights.optimalWorkTime}</p>\n            </div>\n            \n            <div>\n              <p className=\"text-sm text-muted-foreground\">Recommended break activity</p>\n              <p className=\"font-medium text-foreground\">{aiInsights.recommendedBreakActivity}</p>\n            </div>\n            \n            <div>\n              <p className=\"text-sm text-muted-foreground mb-2\">Productivity tips</p>\n              <ul className=\"space-y-1\">\n                {aiInsights.productivityTips.map((tip, i) => (\n                  <li key={i} className=\"text-sm text-foreground flex items-start gap-2\">\n                    <span className=\"text-purple-500 mt-1\">â€¢</span>\n                    {tip}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Ambient Sounds */}\n      <div className=\"mt-6\">\n        <AmbientPlayer isActive={isRunning && mode === \"work\"} />\n      </div>\n\n      {/* Settings panel */}\n      {showSettings && (\n        <div className=\"mt-6 p-4 rounded-xl bg-card border border-border space-y-4\">\n          <h3 className=\"font-medium text-foreground\">Timer Settings</h3>\n          \n          <div className=\"grid grid-cols-3 gap-4\">\n            <div>\n              <label className=\"text-xs text-muted-foreground\">Focus (min)</label>\n              <input\n                type=\"number\"\n                value={settings.workDuration}\n                onChange={(e) => updateSettings({ workDuration: parseInt(e.target.value) || 25 })}\n                className=\"w-full mt-1 px-3 py-2 rounded-lg bg-muted border border-border text-foreground text-sm\"\n                min={1}\n                max={120}\n              />\n            </div>\n            <div>\n              <label className=\"text-xs text-muted-foreground\">Short Break</label>\n              <input\n                type=\"number\"\n                value={settings.shortBreakDuration}\n                onChange={(e) => updateSettings({ shortBreakDuration: parseInt(e.target.value) || 5 })}\n                className=\"w-full mt-1 px-3 py-2 rounded-lg bg-muted border border-border text-foreground text-sm\"\n                min={1}\n                max={30}\n              />\n            </div>\n            <div>\n              <label className=\"text-xs text-muted-foreground\">Long Break</label>\n              <input\n                type=\"number\"\n                value={settings.longBreakDuration}\n                onChange={(e) => updateSettings({ longBreakDuration: parseInt(e.target.value) || 15 })}\n                className=\"w-full mt-1 px-3 py-2 rounded-lg bg-muted border border-border text-foreground text-sm\"\n                min={1}\n                max={60}\n              />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={settings.autoStartBreaks}\n                onChange={(e) => updateSettings({ autoStartBreaks: e.target.checked })}\n                className=\"w-4 h-4 rounded\"\n              />\n              <span className=\"text-sm text-foreground\">Auto-start breaks</span>\n            </label>\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={settings.autoStartWork}\n                onChange={(e) => updateSettings({ autoStartWork: e.target.checked })}\n                className=\"w-4 h-4 rounded\"\n              />\n              <span className=\"text-sm text-foreground\">Auto-start focus after break</span>\n            </label>\n            <label className=\"flex items-center gap-3 cursor-pointer\">\n              <input\n                type=\"checkbox\"\n                checked={settings.notificationsEnabled}\n                onChange={(e) => updateSettings({ notificationsEnabled: e.target.checked })}\n                className=\"w-4 h-4 rounded\"\n              />\n              <span className=\"text-sm text-foreground\">Desktop notifications</span>\n            </label>\n          </div>\n        </div>\n      )}\n    </div>\n\n    {/* Visual Alert Overlay */}\n    {isAlertVisible && (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 pointer-events-none\">\n        <div className=\"bg-gradient-to-r from-green-500 to-blue-500 text-white px-8 py-4 rounded-2xl shadow-2xl animate-bounce max-w-md mx-4 text-center\">\n          <div className=\"text-4xl mb-2\">ðŸŽ‰</div>\n          <p className=\"text-lg font-semibold\">{alertMessage}</p>\n          <button\n            onClick={() => setIsAlertVisible(false)}\n            className=\"mt-3 px-4 py-2 bg-white/20 rounded-lg hover:bg-white/30 transition-colors pointer-events-auto\"\n          >\n            Dismiss\n          </button>\n        </div>\n      </div>\n    )}\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1967, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/avatar.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-muted\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,uBAAS,2KAAgB,MAG7B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;;AAGb,OAAO,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,+BAAiB,2KAAgB,OAGrC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,iLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,wEACA;QAED,GAAG,KAAK;;;;;;;AAGb,eAAe,WAAW,GAAG,iLAAwB,CAAC,WAAW"}},
    {"offset": {"line": 2032, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2273, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/theme-toggle.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport { Moon, Sun } from \"lucide-react\"\nimport { useTheme } from \"next-themes\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\n\nexport function ThemeToggle() {\n  const { setTheme } = useTheme()\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 px-0\">\n          <Sun className=\"rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n          <Moon className=\"absolute rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n          <span className=\"sr-only\">Toggle theme</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        <DropdownMenuItem onClick={() => setTheme(\"light\")}>\n          Light\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"dark\")}>\n          Dark\n        </DropdownMenuItem>\n        <DropdownMenuItem onClick={() => setTheme(\"system\")}>\n          System\n        </DropdownMenuItem>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAEA;AACA;;;AAPA;;;;;AAcO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAE7B,qBACE,6LAAC,wJAAY;;0BACX,6LAAC,+JAAmB;gBAAC,OAAO;0BAC1B,cAAA,6LAAC,wIAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAK,WAAU;;sCAC1C,6LAAC,0MAAG;4BAAC,WAAU;;;;;;sCACf,6LAAC,6MAAI;4BAAC,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,6LAAC,+JAAmB;gBAAC,OAAM;;kCACzB,6LAAC,4JAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAGpD,6LAAC,4JAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAGnD,6LAAC,4JAAgB;wBAAC,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAM7D;GAzBgB;;QACO,+JAAQ;;;KADf"}},
    {"offset": {"line": 2390, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/layout/Sidebar.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Home,\n  Calendar,\n  BookOpen,\n  Brain,\n  BarChart3,\n  Settings,\n  Users,\n  Target,\n  HelpCircle,\n  ChevronLeft,\n  ChevronRight,\n  LogOut\n} from \"lucide-react\"\nimport { onAuthStateChanged, signOut, type User as FirebaseUser } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { useRouter } from \"next/navigation\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuSeparator\n} from \"@/components/ui/dropdown-menu\"\nimport { ThemeToggle } from \"@/components/theme-toggle\"\n\nconst navigation = [\n  { name: \"Dashboard\", href: \"/dashboard\", icon: Home },\n  { name: \"Planner\", href: \"/planner\", icon: Calendar },\n  { name: \"Calendar\", href: \"/calendar\", icon: Calendar },\n  { name: \"Flashcards\", href: \"/flashcards\", icon: BookOpen },\n  { name: \"AI Learning\", href: \"/advanced-learning\", icon: Brain },\n  { name: \"Analytics\", href: \"/analytics\", icon: BarChart3 },\n]\n\nconst moreNavigation = [\n  { name: \"Groups\", href: \"/groups\", icon: Users },\n  { name: \"Habits\", href: \"/habits\", icon: Target },\n  { name: \"Support\", href: \"/support\", icon: HelpCircle },\n  { name: \"Settings\", href: \"/settings\", icon: Settings },\n]\n\nexport function Sidebar() {\n  const [isExpanded, setIsExpanded] = useState(false)\n  const [isMobileOpen, setIsMobileOpen] = useState(false)\n  const [user, setUser] = useState<FirebaseUser | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [showMore, setShowMore] = useState(false)\n  const pathname = usePathname()\n  const router = useRouter()\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser)\n      setLoading(false)\n    })\n    return () => unsubscribe()\n  }, [])\n\n  const handleLogout = async () => {\n    try {\n      await signOut(auth)\n      router.push(\"/\")\n    } catch (error) {\n      console.error(\"Logout error:\", error)\n    }\n  }\n\n  const isActive = (href: string) => {\n    if (href === \"/dashboard\") {\n      return pathname === \"/dashboard\"\n    }\n    return pathname.startsWith(href)\n  }\n\n  return (\n    <>\n      {/* Mobile Menu Button */}\n      <button\n        className=\"fixed top-4 left-4 z-50 lg:hidden bg-slate-800 border border-slate-700 rounded-lg p-2\"\n        onClick={() => setIsMobileOpen(!isMobileOpen)}\n        aria-label=\"Toggle menu\"\n      >\n        {isMobileOpen ? <ChevronLeft className=\"w-6 h-6 text-slate-100\" /> : <ChevronRight className=\"w-6 h-6 text-slate-100\" />}\n      </button>\n\n      {/* Mobile Overlay */}\n      {isMobileOpen && (\n        <div \n          className=\"fixed inset-0 bg-black/50 z-30 lg:hidden\"\n          onClick={() => setIsMobileOpen(false)}\n        />\n      )}\n\n      {/* Sidebar */}\n      <div\n        className={cn(\n          \"fixed left-0 top-0 z-40 h-full bg-slate-900 border-r border-slate-700 transition-all duration-300 ease-in-out\",\n          \"lg:translate-x-0\",\n          isMobileOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\",\n          isExpanded ? \"w-64\" : \"w-16\"\n        )}\n        onMouseEnter={() => !isMobileOpen && setIsExpanded(true)}\n        onMouseLeave={() => !isMobileOpen && setIsExpanded(false)}\n      >\n      {/* Header */}\n      <div className=\"flex items-center justify-between p-4 border-b border-slate-700\">\n        <Link href=\"/dashboard\" className=\"flex items-center gap-2\">\n          <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center flex-shrink-0\">\n            <span className=\"text-white font-bold text-sm\">SP</span>\n          </div>\n          {isExpanded && (\n            <span className=\"font-serif text-xl font-bold text-slate-100 truncate\">\n              StudyPal\n            </span>\n          )}\n        </Link>\n        <Button\n          variant=\"ghost\"\n          size=\"sm\"\n          className=\"w-6 h-6 p-0 text-slate-400 hover:text-slate-100 hover:bg-slate-700\"\n          onClick={() => setIsExpanded(!isExpanded)}\n        >\n          {isExpanded ? <ChevronLeft className=\"w-4 h-4\" /> : <ChevronRight className=\"w-4 h-4\" />}\n        </Button>\n      </div>\n\n      {/* Navigation */}\n      <nav className=\"flex-1 px-2 py-4 space-y-1\">\n        {navigation.map((item) => {\n          const Icon = item.icon\n          const active = isActive(item.href)\n\n          return (\n            <Link\n              key={item.name}\n              href={item.href}\n              className={cn(\n                \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\",\n                active\n                  ? \"bg-blue-600 text-white\"\n                  : \"text-slate-400 hover:text-slate-100 hover:bg-slate-700\",\n                !isExpanded && \"justify-center px-2\"\n              )}\n            >\n              <Icon className=\"w-5 h-5 flex-shrink-0\" />\n              {isExpanded && <span className=\"truncate\">{item.name}</span>}\n            </Link>\n          )\n        })}\n\n        {/* More Section */}\n        <div className=\"pt-4\">\n          <button\n            onClick={() => setShowMore(!showMore)}\n            className={cn(\n              \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium text-slate-400 hover:text-slate-100 hover:bg-slate-700 transition-all duration-200 w-full\",\n              !isExpanded && \"justify-center px-2\"\n            )}\n          >\n            <Settings className=\"w-5 h-5 flex-shrink-0\" />\n            {isExpanded && <span>More</span>}\n          </button>\n\n          {showMore && isExpanded && (\n            <div className=\"mt-2 space-y-1 ml-4\">\n              {moreNavigation.map((item) => {\n                const Icon = item.icon\n                const active = isActive(item.href)\n\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    className={cn(\n                      \"flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200\",\n                      active\n                        ? \"bg-blue-600 text-white\"\n                        : \"text-slate-400 hover:text-slate-100 hover:bg-slate-700\"\n                    )}\n                  >\n                    <Icon className=\"w-4 h-4 flex-shrink-0\" />\n                    <span className=\"truncate\">{item.name}</span>\n                  </Link>\n                )\n              })}\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* User Section */}\n      <div className=\"p-4 border-t border-slate-700\">\n        {loading ? (\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-8 h-8 bg-slate-700 animate-pulse rounded-full\" />\n            {isExpanded && <div className=\"w-24 h-4 bg-slate-700 animate-pulse rounded\" />}\n          </div>\n        ) : user ? (\n          <div className=\"flex items-center gap-3\">\n            <DropdownMenu>\n              <DropdownMenuTrigger asChild>\n                <button className=\"flex items-center gap-3 text-slate-400 hover:text-slate-100 transition-colors w-full\">\n                  <Avatar className=\"w-8 h-8 flex-shrink-0\">\n                    <AvatarImage src={user.photoURL || \"\"} />\n                    <AvatarFallback className=\"text-xs\">\n                      {user.displayName ? user.displayName.charAt(0).toUpperCase() : user.email?.charAt(0).toUpperCase()}\n                    </AvatarFallback>\n                  </Avatar>\n                  {isExpanded && (\n                    <div className=\"flex-1 text-left min-w-0\">\n                      <p className=\"text-sm font-medium text-slate-100 truncate\">\n                        {user.displayName || \"User\"}\n                      </p>\n                      <p className=\"text-xs text-slate-400 truncate\">\n                        {user.email}\n                      </p>\n                    </div>\n                  )}\n                </button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent align=\"end\" className=\"w-48\">\n                <DropdownMenuItem asChild>\n                  <Link href=\"/settings\" className=\"flex items-center gap-2\">\n                    <Settings className=\"w-4 h-4\" />\n                    Settings\n                  </Link>\n                </DropdownMenuItem>\n                <DropdownMenuSeparator />\n                <DropdownMenuItem onClick={handleLogout} className=\"flex items-center gap-2 text-red-600 focus:text-red-600\">\n                  <LogOut className=\"w-4 h-4\" />\n                  Sign out\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          </div>\n        ) : (\n          <div className=\"flex items-center gap-2\">\n            <Link href=\"/login\">\n              <Button variant=\"ghost\" size=\"sm\" className=\"text-slate-300 hover:text-slate-100 hover:bg-slate-700\">\n                Sign In\n              </Button>\n            </Link>\n          </div>\n        )}\n\n        {/* Theme Toggle */}\n        <div className=\"mt-3 flex justify-center\">\n          <ThemeToggle />\n        </div>\n      </div>\n      </div>\n    </>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2961, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/GreetingBlock.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { onAuthStateChanged, type User } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\n\nexport default function GreetingBlock() {\n  const [user, setUser] = useState<User | null>(null)\n  const [currentTime, setCurrentTime] = useState(new Date())\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (currentUser) => {\n      setUser(currentUser)\n    })\n    return () => unsubscribe()\n  }, [])\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 60000)\n    return () => clearInterval(timer)\n  }, [])\n\n  const getGreeting = () => {\n    const hour = currentTime.getHours()\n    if (hour < 12) return \"Good morning\"\n    if (hour < 17) return \"Good afternoon\"\n    return \"Good evening\"\n  }\n\n  const userName = user?.displayName || user?.email?.split(\"@\")[0] || \"Student\"\n\n  return (\n    <div className=\"greeting-block mb-6\">\n      <h1 className=\"text-2xl font-bold text-slate-100 mb-1\">\n        {getGreeting()}, {userName}!\n      </h1>\n      <p className=\"text-slate-400 text-sm\">\n        {currentTime.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' })}\n      </p>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC,IAAI;IAEnD,IAAA,0KAAS;mCAAC;YACR,MAAM,cAAc,IAAA,mLAAkB,EAAC,0HAAI;uDAAE,CAAC;oBAC5C,QAAQ;gBACV;;YACA;2CAAO,IAAM;;QACf;kCAAG,EAAE;IAEL,IAAA,0KAAS;mCAAC;YACR,MAAM,QAAQ;iDAAY,IAAM,eAAe,IAAI;gDAAS;YAC5D;2CAAO,IAAM,cAAc;;QAC7B;kCAAG,EAAE;IAEL,MAAM,cAAc;QAClB,MAAM,OAAO,YAAY,QAAQ;QACjC,IAAI,OAAO,IAAI,OAAO;QACtB,IAAI,OAAO,IAAI,OAAO;QACtB,OAAO;IACT;IAEA,MAAM,WAAW,MAAM,eAAe,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,IAAI;IAEpE,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;;oBACX;oBAAc;oBAAG;oBAAS;;;;;;;0BAE7B,6LAAC;gBAAE,WAAU;0BACV,YAAY,kBAAkB,CAAC,SAAS;oBAAE,SAAS;oBAAQ,OAAO;oBAAQ,KAAK;gBAAU;;;;;;;;;;;;AAIlG;GAnCwB;KAAA"}},
    {"offset": {"line": 3055, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,gLACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 3214, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,qHAAE,EACX,gWACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 3249, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKA,MAAM,yBAAW,2KAAgB,MAC/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IACxB,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,wSACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 3283, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 3331, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/quick-capture.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useRef } from \"react\"\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\nimport { Input } from \"@/components/ui/input\"\nimport { Textarea } from \"@/components/ui/textarea\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Plus, Zap, Calendar, Target, Book } from \"lucide-react\"\nimport { db } from \"@/lib/firebase\"\nimport { collection, addDoc, serverTimestamp } from \"firebase/firestore\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\nimport { useToast } from \"@/lib/hooks/useToast\"\n\ntype CaptureType = \"task\" | \"note\" | \"idea\" | \"reminder\"\n\nexport function QuickCapture() {\n  const [open, setOpen] = useState(false)\n  const [type, setType] = useState<CaptureType>(\"task\")\n  const [title, setTitle] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [loading, setLoading] = useState(false)\n  const inputRef = useRef<HTMLInputElement>(null)\n  const { user } = useAuth()\n  const { toast } = useToast()\n\n  useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      // Cmd/Ctrl + K to open quick capture\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault()\n        setOpen(true)\n      }\n      \n      // ESC to close\n      if (e.key === \"Escape\" && open) {\n        setOpen(false)\n      }\n    }\n\n    document.addEventListener(\"keydown\", handleKeyDown)\n    return () => document.removeEventListener(\"keydown\", handleKeyDown)\n  }, [open])\n\n  useEffect(() => {\n    if (open && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 100)\n    }\n  }, [open])\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    if (!user || !title.trim()) return\n\n    setLoading(true)\n\n    try {\n      if (type === \"task\") {\n        await addDoc(collection(db, \"tasks\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          completed: false,\n          priority: \"medium\",\n          status: \"pending\",\n          createdAt: serverTimestamp(),\n          dueDate: null,\n          course: \"Quick Capture\"\n        })\n      } else if (type === \"note\") {\n        await addDoc(collection(db, \"materials\"), {\n          userId: user.uid,\n          title: title.trim(),\n          content: description.trim(),\n          type: \"note\",\n          tags: [\"quick-capture\"],\n          createdAt: serverTimestamp()\n        })\n      } else if (type === \"idea\") {\n        await addDoc(collection(db, \"ideas\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          createdAt: serverTimestamp(),\n          status: \"new\"\n        })\n      } else if (type === \"reminder\") {\n        await addDoc(collection(db, \"reminders\"), {\n          userId: user.uid,\n          title: title.trim(),\n          description: description.trim(),\n          createdAt: serverTimestamp(),\n          completed: false\n        })\n      }\n\n      toast({\n        title: \"Captured!\",\n        description: `${type.charAt(0).toUpperCase() + type.slice(1)} saved successfully.`\n      })\n\n      setTitle(\"\")\n      setDescription(\"\")\n      setOpen(false)\n    } catch (error) {\n      console.error(\"Error saving:\", error)\n      toast({\n        title: \"Error\",\n        description: \"Failed to save. Please try again.\",\n        variant: \"destructive\"\n      })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <>\n      {/* Floating Action Button */}\n      <button\n        onClick={() => setOpen(true)}\n        className=\"fixed bottom-6 right-6 sm:bottom-8 sm:right-8 z-50 w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg hover:shadow-xl transition-all hover:scale-110 flex items-center justify-center group\"\n        aria-label=\"Quick Capture\"\n      >\n        <Plus className=\"w-5 h-5 sm:w-6 sm:h-6 group-hover:rotate-90 transition-transform duration-200\" />\n      </button>\n\n      <Dialog open={open} onOpenChange={setOpen}>\n        <DialogContent className=\"sm:max-w-[500px] max-w-[95vw]\">\n          <DialogHeader>\n            <DialogTitle className=\"flex items-center gap-2\">\n              <Zap className=\"w-5 h-5 text-blue-500\" />\n              Quick Capture\n              <Badge variant=\"outline\" className=\"text-xs\">âŒ˜K</Badge>\n            </DialogTitle>\n          </DialogHeader>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            {/* Type Selector */}\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={() => setType(\"task\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"task\"\n                    ? \"bg-blue-500 text-white border-blue-500\"\n                    : \"bg-background border-border hover:border-blue-500\"\n                }`}\n              >\n                <Target className=\"w-4 h-4 inline mr-1\" />\n                Task\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"note\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"note\"\n                    ? \"bg-green-500 text-white border-green-500\"\n                    : \"bg-background border-border hover:border-green-500\"\n                }`}\n              >\n                <Book className=\"w-4 h-4 inline mr-1\" />\n                Note\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"idea\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"idea\"\n                    ? \"bg-purple-500 text-white border-purple-500\"\n                    : \"bg-background border-border hover:border-purple-500\"\n                }`}\n              >\n                <Zap className=\"w-4 h-4 inline mr-1\" />\n                Idea\n              </button>\n              <button\n                type=\"button\"\n                onClick={() => setType(\"reminder\")}\n                className={`flex-1 py-2 px-3 rounded-lg border text-sm font-medium transition-all ${\n                  type === \"reminder\"\n                    ? \"bg-orange-500 text-white border-orange-500\"\n                    : \"bg-background border-border hover:border-orange-500\"\n                }`}\n              >\n                <Calendar className=\"w-4 h-4 inline mr-1\" />\n                Reminder\n              </button>\n            </div>\n\n            {/* Title Input */}\n            <div>\n              <Input\n                ref={inputRef}\n                placeholder={`What's on your mind?`}\n                value={title}\n                onChange={(e) => setTitle(e.target.value)}\n                className=\"text-lg\"\n                required\n              />\n            </div>\n\n            {/* Description */}\n            <div>\n              <Textarea\n                placeholder=\"Add more details (optional)...\"\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                rows={3}\n                className=\"resize-none\"\n              />\n            </div>\n\n            {/* Actions */}\n            <div className=\"flex gap-2 justify-end\">\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => setOpen(false)}\n                disabled={loading}\n              >\n                Cancel\n              </Button>\n              <Button type=\"submit\" disabled={loading || !title.trim()}>\n                {loading ? \"Saving...\" : \"Capture\"}\n              </Button>\n            </div>\n          </form>\n\n          {/* Quick Tips */}\n          <div className=\"pt-4 border-t text-xs text-muted-foreground\">\n            <p>ðŸ’¡ <strong>Pro tip:</strong> Press âŒ˜K anywhere to quickly capture your thoughts</p>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3742, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/Layout.tsx"],"sourcesContent":["\"use client\"\n\nimport { Sidebar } from \"@/components/layout/Sidebar\"\nimport GreetingBlock from \"@/components/GreetingBlock\"\nimport { QuickCapture } from \"@/components/quick-capture\"\n\ninterface LayoutProps {\n  children: React.ReactNode\n  title?: string\n  subtitle?: string\n  showGreeting?: boolean\n}\n\nexport default function Layout({\n  children,\n  title,\n  subtitle,\n  showGreeting = true\n}: LayoutProps) {\n  return (\n    <div className=\"min-h-screen bg-slate-900 text-slate-100 flex\">\n      <Sidebar />\n\n      <main className=\"flex-1 lg:ml-16 transition-all duration-300 w-full\">\n        <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 lg:py-8 pt-16 lg:pt-8\">\n          {showGreeting && <GreetingBlock />}\n\n          {title && (\n            <div className=\"mb-4 sm:mb-6\">\n              <h1 className=\"text-2xl sm:text-3xl font-bold text-slate-100 mb-2\">{title}</h1>\n              {subtitle && (\n                <p className=\"text-slate-400 text-base sm:text-lg\">{subtitle}</p>\n              )}\n            </div>\n          )}\n\n          {children}\n        </div>\n      </main>\n\n      {/* Quick Capture available globally */}\n      <QuickCapture />\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAae,SAAS,OAAO,EAC7B,QAAQ,EACR,KAAK,EACL,QAAQ,EACR,eAAe,IAAI,EACP;IACZ,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC,8IAAO;;;;;0BAER,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC;oBAAI,WAAU;;wBACZ,8BAAgB,6LAAC,0IAAa;;;;;wBAE9B,uBACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAsD;;;;;;gCACnE,0BACC,6LAAC;oCAAE,WAAU;8CAAuC;;;;;;;;;;;;wBAKzD;;;;;;;;;;;;0BAKL,6LAAC,kJAAY;;;;;;;;;;;AAGnB;KA/BwB"}},
    {"offset": {"line": 3833, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/lib/recommendations/scoreEngine.ts"],"sourcesContent":["\"use client\"\n\nimport { Task, Course, Habit, DailyStats } from \"@/lib/firestore\"\n\nexport interface RecommendationScore {\n  id: string\n  type: 'task' | 'flashcard_review' | 'habit' | 'focus_session' | 'study_planning'\n  title: string\n  description: string\n  score: number\n  urgency: number\n  importance: number\n  streakImpact: number\n  reasoning: string[]\n  action: {\n    type: string\n    data?: any\n  }\n}\n\nexport interface RecommendationContext {\n  tasks: Task[]\n  courses: Course[]\n  habits: Habit[]\n  dailyStats?: DailyStats\n  currentTime: Date\n  userStreak?: number\n}\n\nexport class RecommendationEngine {\n  private context: RecommendationContext\n  private cache: Map<string, { recommendations: RecommendationScore[], timestamp: number }>\n  private readonly CACHE_DURATION = 5 * 60 * 1000 // 5 minutes\n\n  constructor(context: RecommendationContext) {\n    this.context = context\n    this.cache = new Map()\n  }\n\n  updateContext(newContext: Partial<RecommendationContext>) {\n    this.context = { ...this.context, ...newContext }\n    // Invalidate cache when context changes\n    this.cache.clear()\n  }\n\n  getRecommendations(limit: number = 5): RecommendationScore[] {\n    const cacheKey = this.getCacheKey()\n    const cached = this.cache.get(cacheKey)\n\n    if (cached && Date.now() - cached.timestamp < this.CACHE_DURATION) {\n      return cached.recommendations.slice(0, limit)\n    }\n\n    const recommendations = this.calculateRecommendations()\n    const sorted = recommendations\n      .sort((a, b) => b.score - a.score)\n      .slice(0, limit)\n\n    this.cache.set(cacheKey, { recommendations: sorted, timestamp: Date.now() })\n    return sorted\n  }\n\n  private getCacheKey(): string {\n    const { tasks, habits, dailyStats, currentTime } = this.context\n    return `${tasks.length}-${habits.length}-${dailyStats?.totalStudyMinutes || 0}-${currentTime.getHours()}`\n  }\n\n  private calculateRecommendations(): RecommendationScore[] {\n    const recommendations: RecommendationScore[] = []\n\n    // Task-based recommendations\n    recommendations.push(...this.generateTaskRecommendations())\n\n    // Habit-based recommendations\n    recommendations.push(...this.generateHabitRecommendations())\n\n    // Study planning recommendations\n    recommendations.push(...this.generateStudyPlanningRecommendations())\n\n    // Focus session recommendations\n    recommendations.push(...this.generateFocusRecommendations())\n\n    return recommendations\n  }\n\n  private generateTaskRecommendations(): RecommendationScore[] {\n    const recommendations: RecommendationScore[] = []\n    const now = this.context.currentTime\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\n    for (const task of this.context.tasks) {\n      if (task.status === 'done') continue\n\n      const dueDate = task.dueDate ? new Date(task.dueDate) : null\n      const urgency = this.calculateUrgency(dueDate, now)\n      const importance = this.calculateTaskImportance(task)\n      const streakImpact = this.calculateStreakImpact(task)\n\n      const score = (urgency * 0.4) + (importance * 0.4) + (streakImpact * 0.2)\n\n      if (score > 0.3) { // Only include meaningful recommendations\n        const reasoning = []\n        if (urgency > 0.7) reasoning.push(\"Due soon\")\n        if (importance > 0.7) reasoning.push(\"High priority\")\n        if (streakImpact > 0.5) reasoning.push(\"Maintains study streak\")\n\n        recommendations.push({\n          id: `task-${task.id}`,\n          type: 'task',\n          title: `Complete: ${task.title}`,\n          description: task.description || \"Focus on this important task\",\n          score,\n          urgency,\n          importance,\n          streakImpact,\n          reasoning,\n          action: {\n            type: 'navigate',\n            data: { path: '/planner', filter: 'task', taskId: task.id }\n          }\n        })\n      }\n    }\n\n    return recommendations\n  }\n\n  private generateHabitRecommendations(): RecommendationScore[] {\n    const recommendations: RecommendationScore[] = []\n    const now = this.context.currentTime\n    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\n    for (const habit of this.context.habits) {\n      const todayCompletions = habit.completions.filter(\n        c => c.date === today.toISOString().split('T')[0] && c.completed\n      )\n\n      if (todayCompletions.length > 0) continue // Already completed today\n\n      const streakImpact = habit.currentStreak > 0 ? Math.min(habit.currentStreak / 7, 1) : 0\n      const importance = habit.frequency === 'daily' ? 0.8 : 0.6\n      const urgency = this.calculateHabitUrgency(habit, today)\n\n      const score = (urgency * 0.3) + (importance * 0.3) + (streakImpact * 0.4)\n\n      if (score > 0.4) {\n        const reasoning = []\n        if (streakImpact > 0.7) reasoning.push(`${habit.currentStreak} day streak at risk`)\n        if (urgency > 0.8) reasoning.push(\"Due today\")\n        if (importance > 0.7) reasoning.push(\"Daily habit\")\n\n        recommendations.push({\n          id: `habit-${habit.id}`,\n          type: 'habit',\n          title: `Complete: ${habit.name}`,\n          description: habit.description || \"Build consistency with this habit\",\n          score,\n          urgency,\n          importance,\n          streakImpact,\n          reasoning,\n          action: {\n            type: 'toggle_habit',\n            data: { habitId: habit.id }\n          }\n        })\n      }\n    }\n\n    return recommendations\n  }\n\n  private generateStudyPlanningRecommendations(): RecommendationScore[] {\n    const recommendations: RecommendationScore[] = []\n    const { dailyStats, tasks, currentTime } = this.context\n\n    // Check if user has studied enough today\n    const studyMinutes = dailyStats?.totalStudyMinutes || 0\n    const targetMinutes = 120 // 2 hours target\n\n    if (studyMinutes < targetMinutes * 0.5) { // Less than half target\n      const urgency = Math.max(0, 1 - (studyMinutes / targetMinutes))\n      const importance = 0.8\n      const streakImpact = this.context.userStreak ? Math.min(this.context.userStreak / 30, 1) : 0\n\n      const score = (urgency * 0.4) + (importance * 0.4) + (streakImpact * 0.2)\n\n      recommendations.push({\n        id: 'study-planning-today',\n        type: 'study_planning',\n        title: 'Plan study session for today',\n        description: `You've studied ${Math.round(studyMinutes / 60 * 10) / 10}h today. Aim for ${targetMinutes / 60}h total.`,\n        score,\n        urgency,\n        importance,\n        streakImpact,\n        reasoning: [\n          studyMinutes === 0 ? \"No study time logged today\" : \"Below daily study target\",\n          \"Consistent study builds better retention\"\n        ],\n        action: {\n          type: 'navigate',\n          data: { path: '/planner', action: 'schedule_study' }\n        }\n      })\n    }\n\n    // Check for upcoming deadlines\n    const upcomingTasks = tasks.filter(task => {\n      if (!task.dueDate) return false\n      const dueDate = new Date(task.dueDate)\n      const daysUntilDue = Math.ceil((dueDate.getTime() - currentTime.getTime()) / (1000 * 60 * 60 * 24))\n      return daysUntilDue <= 7 && daysUntilDue > 0\n    })\n\n    if (upcomingTasks.length > 0) {\n      recommendations.push({\n        id: 'upcoming-deadlines',\n        type: 'study_planning',\n        title: 'Review upcoming deadlines',\n        description: `${upcomingTasks.length} task${upcomingTasks.length > 1 ? 's' : ''} due in the next week`,\n        score: 0.7,\n        urgency: 0.6,\n        importance: 0.8,\n        streakImpact: 0.3,\n        reasoning: [\n          \"Prepare ahead for better performance\",\n          `${upcomingTasks.length} deadline${upcomingTasks.length > 1 ? 's' : ''} approaching`\n        ],\n        action: {\n          type: 'navigate',\n          data: { path: '/planner', filter: 'upcoming' }\n        }\n      })\n    }\n\n    return recommendations\n  }\n\n  private generateFocusRecommendations(): RecommendationScore[] {\n    const recommendations: RecommendationScore[] = []\n    const { dailyStats, currentTime } = this.context\n\n    const studyMinutes = dailyStats?.totalStudyMinutes || 0\n    const sessionsToday = dailyStats?.pomodoroCompleted || 0\n\n    // Recommend focus session if haven't had one recently\n    const hoursSinceLastSession = 2 // Simplified - in real app, track actual session times\n\n    if (hoursSinceLastSession >= 2 && studyMinutes < 180) { // Less than 3 hours total\n      const urgency = Math.min(hoursSinceLastSession / 4, 1) // Increases over time\n      const importance = 0.7\n      const streakImpact = 0.4\n\n      const score = (urgency * 0.4) + (importance * 0.4) + (streakImpact * 0.2)\n\n      recommendations.push({\n        id: 'focus-session',\n        type: 'focus_session',\n        title: 'Start a focus session',\n        description: '25 minutes of deep, distraction-free work',\n        score,\n        urgency,\n        importance,\n        streakImpact,\n        reasoning: [\n          hoursSinceLastSession >= 4 ? \"It's been a while since your last focus session\" : \"Ready for focused work\",\n          \"Deep work sessions improve learning efficiency\"\n        ],\n        action: {\n          type: 'start_focus',\n          data: { duration: 25 }\n        }\n      })\n    }\n\n    return recommendations\n  }\n\n  private calculateUrgency(dueDate: Date | null, now: Date): number {\n    if (!dueDate) return 0.3 // Default medium urgency for tasks without due dates\n\n    const timeDiff = dueDate.getTime() - now.getTime()\n    const hoursUntilDue = timeDiff / (1000 * 60 * 60)\n\n    if (hoursUntilDue < 0) return 1.0 // Overdue - maximum urgency\n    if (hoursUntilDue <= 24) return 0.9 // Due within 24 hours\n    if (hoursUntilDue <= 72) return 0.7 // Due within 3 days\n    if (hoursUntilDue <= 168) return 0.5 // Due within a week\n    return 0.2 // Due later\n  }\n\n  private calculateTaskImportance(task: Task): number {\n    let importance = 0.5 // Base importance\n\n    // Priority-based importance\n    switch (task.priority) {\n      case 'urgent': importance += 0.3; break\n      case 'high': importance += 0.2; break\n      case 'medium': importance += 0.1; break\n    }\n\n    // Course weight (if available)\n    if (task.course) {\n      // Could add course-based importance logic here if needed\n      importance += 0.05 // Slight boost for tasks with courses\n    }\n\n    return Math.min(importance, 1.0)\n  }\n\n  private calculateStreakImpact(task: Task): number {\n    // Simplified streak calculation - in real app, this would be more sophisticated\n    const userStreak = this.context.userStreak || 0\n    return userStreak > 0 ? Math.min(userStreak / 10, 0.5) : 0\n  }\n\n  private calculateHabitUrgency(habit: Habit, today: Date): number {\n    const todayStr = today.toISOString().split('T')[0]\n    const completedToday = habit.completions.some(\n      c => c.date === todayStr && c.completed\n    )\n\n    if (completedToday) return 0\n\n    // Higher urgency for daily habits and longer streaks\n    let urgency = habit.frequency === 'daily' ? 0.8 : 0.6\n    urgency += Math.min(habit.currentStreak / 7, 0.2) // Bonus for streaks\n\n    return Math.min(urgency, 1.0)\n  }\n}\n\n// Singleton instance for the app\nlet recommendationEngine: RecommendationEngine | null = null\n\nexport function getRecommendationEngine(context: RecommendationContext): RecommendationEngine {\n  if (!recommendationEngine) {\n    recommendationEngine = new RecommendationEngine(context)\n  } else {\n    recommendationEngine.updateContext(context)\n  }\n  return recommendationEngine\n}\n\nexport function invalidateRecommendationCache() {\n  if (recommendationEngine) {\n    recommendationEngine['cache'].clear()\n  }\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4143, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/NextActions.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Play, BookOpen, Plus, Zap, CheckCircle2, Target, Flame, Clock, Brain, Loader2 } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\nimport { getRecommendationEngine, RecommendationScore } from \"@/lib/recommendations/scoreEngine\"\nimport { getUserData } from \"@/lib/firestore\"\n\ninterface NextActionsProps {\n  onStartFocus: () => void\n}\n\nconst getActionIcon = (type: string) => {\n  switch (type) {\n    case 'task': return <CheckCircle2 className=\"w-5 h-5 text-blue-500\" />\n    case 'habit': return <Flame className=\"w-5 h-5 text-orange-500\" />\n    case 'focus_session': return <Play className=\"w-5 h-5 text-green-500\" />\n    case 'flashcard_review': return <BookOpen className=\"w-5 h-5 text-purple-500\" />\n    case 'study_planning': return <Target className=\"w-5 h-5 text-cyan-500\" />\n    default: return <Zap className=\"w-5 h-5 text-yellow-500\" />\n  }\n}\n\nconst getTimeOfDayGreeting = () => {\n  const hour = new Date().getHours()\n  if (hour < 12) return { greeting: \"Morning momentum\", suggestion: \"Start strong with a focus session\" }\n  if (hour < 17) return { greeting: \"Afternoon push\", suggestion: \"Great time for deep work\" }\n  if (hour < 21) return { greeting: \"Evening review\", suggestion: \"Review and consolidate learning\" }\n  return { greeting: \"Night owl mode\", suggestion: \"Light review before rest\" }\n}\n\nexport function NextActions({ onStartFocus }: NextActionsProps) {\n  const [recommendations, setRecommendations] = useState<RecommendationScore[]>([])\n  const [loading, setLoading] = useState(true)\n  const { user } = useAuth()\n  const timeContext = getTimeOfDayGreeting()\n\n  useEffect(() => {\n    if (user) {\n      loadRecommendations()\n    } else {\n      setLoading(false)\n    }\n  }, [user])\n\n  const loadRecommendations = async () => {\n    if (!user) return\n\n    try {\n      setLoading(true)\n      const userData = await getUserData(user.uid)\n\n      const context = {\n        tasks: userData.tasks || [],\n        courses: userData.courses || [],\n        habits: userData.habits || [],\n        dailyStats: userData.dailyStats || undefined,\n        currentTime: new Date(),\n        userStreak: userData.userStreak || 0\n      }\n\n      const engine = getRecommendationEngine(context)\n      const recs = engine.getRecommendations(3)\n      setRecommendations(recs)\n    } catch (error) {\n      console.error(\"Failed to load recommendations:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleAction = (rec: RecommendationScore) => {\n    if (rec.action.type === 'start_focus' || rec.type === 'focus_session') {\n      onStartFocus()\n    }\n    // Navigation handled by Link wrapper\n  }\n\n  // Fallback actions when no recommendations or loading\n  const defaultActions = [\n    {\n      id: 'default-focus',\n      type: 'focus_session' as const,\n      title: 'Start 25-min Focus',\n      description: 'Build momentum with deep work',\n      action: { type: 'start_focus' },\n      score: 0.9,\n      urgency: 0.8,\n      importance: 0.9,\n      streakImpact: 0.7,\n      reasoning: ['Perfect time for focused work']\n    },\n    {\n      id: 'default-flashcards',\n      type: 'flashcard_review' as const,\n      title: 'Review flashcards',\n      description: 'Strengthen your memory',\n      action: { type: 'navigate', data: { path: '/flashcards' } },\n      score: 0.8,\n      urgency: 0.6,\n      importance: 0.8,\n      streakImpact: 0.5,\n      reasoning: ['Spaced repetition boosts retention']\n    },\n    {\n      id: 'default-plan',\n      type: 'study_planning' as const,\n      title: 'Plan tomorrow',\n      description: 'Stay ahead of your schedule',\n      action: { type: 'navigate', data: { path: '/planner' } },\n      score: 0.7,\n      urgency: 0.5,\n      importance: 0.7,\n      streakImpact: 0.4,\n      reasoning: ['Planning reduces stress']\n    }\n  ]\n\n  const displayActions = recommendations.length > 0 ? recommendations : defaultActions\n\n  return (\n    <div className=\"mb-8 p-6 rounded-xl bg-gradient-to-br from-card via-card to-primary/5 border border-border\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Brain className=\"w-5 h-5 text-primary\" />\n          <h2 className=\"text-lg font-semibold text-foreground\">Next Best Actions</h2>\n        </div>\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <Clock className=\"w-4 h-4\" />\n          <span>{timeContext.greeting}</span>\n        </div>\n      </div>\n      \n      <p className=\"text-sm text-muted-foreground mb-4\">{timeContext.suggestion}</p>\n\n      {loading ? (\n        <div className=\"flex items-center justify-center py-8\">\n          <Loader2 className=\"w-6 h-6 animate-spin text-primary\" />\n          <span className=\"ml-2 text-sm text-muted-foreground\">Analyzing your best next steps...</span>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {displayActions.map((rec, index) => {\n            const isNavigation = rec.action.type === 'navigate' && rec.action.data?.path\n            const isFocus = rec.action.type === 'start_focus' || rec.type === 'focus_session'\n            \n            const content = (\n              <div \n                className={`p-4 rounded-lg bg-muted/30 hover:bg-muted/60 transition-all text-left border border-border/50 hover:border-primary/50 cursor-pointer group ${index === 0 ? 'ring-1 ring-primary/20' : ''}`}\n                onClick={isFocus ? onStartFocus : undefined}\n              >\n                <div className=\"flex items-start gap-3\">\n                  <div className=\"mt-0.5\">{getActionIcon(rec.type)}</div>\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"font-medium text-foreground group-hover:text-primary transition-colors truncate\">\n                      {rec.title}\n                    </p>\n                    <p className=\"text-sm text-muted-foreground line-clamp-2\">{rec.description}</p>\n                    {rec.reasoning && rec.reasoning.length > 0 && (\n                      <div className=\"mt-2 flex flex-wrap gap-1\">\n                        {rec.reasoning.slice(0, 2).map((reason, i) => (\n                          <span key={i} className=\"text-xs px-2 py-0.5 rounded-full bg-primary/10 text-primary\">\n                            {reason}\n                          </span>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                  {index === 0 && (\n                    <span className=\"text-xs px-2 py-1 rounded-full bg-green-500/10 text-green-500 font-medium\">\n                      Best\n                    </span>\n                  )}\n                </div>\n              </div>\n            )\n\n            if (isNavigation && !isFocus) {\n              return (\n                <Link key={rec.id} href={rec.action.data.path}>\n                  {content}\n                </Link>\n              )\n            }\n\n            return <div key={rec.id}>{content}</div>\n          })}\n        </div>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4558, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/FocusHero.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useMemo } from \"react\"\nimport { Play, Plus, Sparkles, Clock, Zap, Target } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Course, Task } from \"@/lib/firestore\"\n\ninterface FocusHeroProps {\n  courses: Course[]\n  todayTasks: Task[]\n  onStartFocus: (courseId: string, taskId: string) => void\n  onAddQuickTask: () => void\n}\n\n// AI-powered task priority scoring\nconst getTaskPriorityScore = (task: Task): number => {\n  let score = 0\n  \n  // Priority weight\n  if (task.priority === 'urgent') score += 40\n  else if (task.priority === 'high') score += 30\n  else if (task.priority === 'medium') score += 20\n  else score += 10\n  \n  // Due date urgency\n  if (task.dueDate) {\n    const hoursUntilDue = (new Date(task.dueDate).getTime() - Date.now()) / (1000 * 60 * 60)\n    if (hoursUntilDue < 0) score += 50 // Overdue\n    else if (hoursUntilDue < 24) score += 35\n    else if (hoursUntilDue < 48) score += 25\n    else if (hoursUntilDue < 168) score += 15 // Within a week\n  }\n  \n  // Time of day optimization\n  const hour = new Date().getHours()\n  const isDeepWorkTime = hour >= 9 && hour <= 11 || hour >= 14 && hour <= 16\n  if (isDeepWorkTime && task.estimatedMinutes && task.estimatedMinutes >= 45) {\n    score += 15 // Prefer longer tasks during optimal focus times\n  }\n  \n  // In-progress tasks get boost\n  if (task.status === 'in-progress') score += 20\n  \n  return score\n}\n\nconst getAISuggestion = (tasks: Task[], courses: Course[]) => {\n  if (tasks.length === 0) {\n    return {\n      message: \"No tasks scheduled. Add a quick task to start focusing!\",\n      suggestedTask: null,\n      suggestedCourse: courses[0] || null\n    }\n  }\n  \n  const scoredTasks = tasks.map(t => ({ task: t, score: getTaskPriorityScore(t) }))\n  scoredTasks.sort((a, b) => b.score - a.score)\n  \n  const topTask = scoredTasks[0].task\n  const hour = new Date().getHours()\n  \n  let message = \"\"\n  if (topTask.priority === 'urgent' || (topTask.dueDate && new Date(topTask.dueDate) < new Date(Date.now() + 24 * 60 * 60 * 1000))) {\n    message = `âš¡ \"${topTask.title}\" needs attention soon!`\n  } else if (hour >= 9 && hour <= 11) {\n    message = `ðŸ§  Morning peak focus â€” tackle \"${topTask.title}\" now`\n  } else if (hour >= 14 && hour <= 16) {\n    message = `ðŸ’ª Afternoon deep work â€” \"${topTask.title}\" is ready`\n  } else if (hour >= 20) {\n    message = `ðŸŒ™ Light review time â€” work on \"${topTask.title}\"`\n  } else {\n    message = `ðŸ“‹ Recommended: \"${topTask.title}\"`\n  }\n  \n  return {\n    message,\n    suggestedTask: topTask,\n    suggestedCourse: courses.find(c => c.id === topTask.course) || courses[0] || null\n  }\n}\n\nexport function FocusHero({ courses, todayTasks, onStartFocus, onAddQuickTask }: FocusHeroProps) {\n  const [selectedCourse, setSelectedCourse] = useState(\"\")\n  const [selectedTask, setSelectedTask] = useState(\"\")\n  const [showValidation, setShowValidation] = useState(false)\n  const [sessionLength, setSessionLength] = useState(25)\n\n  // AI suggestion\n  const aiSuggestion = useMemo(() => getAISuggestion(todayTasks, courses), [todayTasks, courses])\n\n  // Auto-select AI suggestion\n  useEffect(() => {\n    if (aiSuggestion.suggestedTask && !selectedTask) {\n      setSelectedTask(aiSuggestion.suggestedTask.id)\n    }\n    if (aiSuggestion.suggestedCourse && !selectedCourse) {\n      setSelectedCourse(aiSuggestion.suggestedCourse.id)\n    }\n  }, [aiSuggestion, selectedTask, selectedCourse])\n\n  const handleStartFocus = () => {\n    if (!selectedTask) {\n      setShowValidation(true)\n      return\n    }\n    setShowValidation(false)\n    onStartFocus(selectedCourse, selectedTask)\n  }\n\n  const handleQuickStart = () => {\n    if (aiSuggestion.suggestedTask) {\n      onStartFocus(\n        aiSuggestion.suggestedCourse?.id || \"\",\n        aiSuggestion.suggestedTask.id\n      )\n    } else {\n      onAddQuickTask()\n    }\n  }\n\n  return (\n    <div className=\"mb-8 p-6 rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent border border-primary/20\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"p-2 rounded-lg bg-primary/10\">\n            <Play className=\"w-5 h-5 text-primary\" />\n          </div>\n          <div>\n            <h2 className=\"text-lg font-semibold text-foreground\">Focus Mode</h2>\n            <p className=\"text-sm text-muted-foreground\">Deep work sessions tied to your tasks</p>\n          </div>\n        </div>\n        <div className=\"hidden md:flex items-center gap-2 text-sm\">\n          <Sparkles className=\"w-4 h-4 text-yellow-500\" />\n          <span className=\"text-muted-foreground\">AI-optimized</span>\n        </div>\n      </div>\n\n      {/* AI Suggestion Banner */}\n      {aiSuggestion.message && (\n        <div className=\"mb-4 p-3 rounded-lg bg-primary/5 border border-primary/10 flex items-center gap-3\">\n          <Sparkles className=\"w-4 h-4 text-primary flex-shrink-0\" />\n          <p className=\"text-sm text-foreground flex-1\">{aiSuggestion.message}</p>\n          {aiSuggestion.suggestedTask && (\n            <Button size=\"sm\" variant=\"ghost\" onClick={handleQuickStart} className=\"text-primary hover:bg-primary/10\">\n              Quick Start\n            </Button>\n          )}\n        </div>\n      )}\n\n      {showValidation && (\n        <div className=\"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/20\">\n          <p className=\"text-sm text-red-600 dark:text-red-400\">\n            Please select a task before starting focus mode.\n          </p>\n        </div>\n      )}\n\n      <div className=\"grid md:grid-cols-2 gap-4 mb-4\">\n        <div>\n          <label className=\"text-sm font-medium text-foreground mb-2 block\">Course (optional)</label>\n          <select\n            value={selectedCourse}\n            onChange={(e) => setSelectedCourse(e.target.value)}\n            className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:border-primary focus:ring-1 focus:ring-primary\"\n          >\n            <option value=\"\">Any course</option>\n            {courses.map(course => (\n              <option key={course.id} value={course.id}>{course.name}</option>\n            ))}\n          </select>\n        </div>\n\n        <div>\n          <label className=\"text-sm font-medium text-foreground mb-2 block\">Task to focus on</label>\n          <select\n            value={selectedTask}\n            onChange={(e) => setSelectedTask(e.target.value)}\n            className=\"w-full px-3 py-2 bg-background border border-border rounded-lg text-foreground focus:border-primary focus:ring-1 focus:ring-primary\"\n          >\n            <option value=\"\">Select a task...</option>\n            {todayTasks.map(task => (\n              <option key={task.id} value={task.id}>\n                {task.priority === 'urgent' ? 'ðŸ”´ ' : task.priority === 'high' ? 'ðŸŸ  ' : ''}\n                {task.title}\n              </option>\n            ))}\n          </select>\n        </div>\n      </div>\n\n      {/* Session Length */}\n      <div className=\"mb-4\">\n        <label className=\"text-sm font-medium text-foreground mb-2 block\">Session length</label>\n        <div className=\"flex gap-2\">\n          {[15, 25, 45, 60].map(mins => (\n            <button\n              key={mins}\n              onClick={() => setSessionLength(mins)}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-all ${\n                sessionLength === mins\n                  ? 'bg-primary text-primary-foreground'\n                  : 'bg-muted/50 text-muted-foreground hover:bg-muted'\n              }`}\n            >\n              {mins}m\n            </button>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"flex gap-3\">\n        <Button onClick={handleStartFocus} className=\"flex-1 h-11\">\n          <Play className=\"w-4 h-4 mr-2\" /> Start {sessionLength} min Focus\n        </Button>\n        <Button variant=\"outline\" className=\"px-4 h-11\" onClick={onAddQuickTask}>\n          <Plus className=\"w-4 h-4 mr-2\" /> Quick Task\n        </Button>\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5014, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/ui/EmptyState.tsx"],"sourcesContent":["\"use client\"\n\nimport { LucideIcon } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\n\ninterface EmptyStateProps {\n  icon: LucideIcon\n  title: string\n  description: string\n  action?: {\n    label: string\n    onClick: () => void\n  }\n}\n\nexport function EmptyState({ icon: Icon, title, description, action }: EmptyStateProps) {\n  return (\n    <div className=\"text-center py-8 text-muted-foreground\">\n      <Icon className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground/50\" />\n      <h3 className=\"text-lg font-semibold text-foreground mb-2\">{title}</h3>\n      <p className=\"text-sm mb-4\">{description}</p>\n      {action && (\n        <Button onClick={action.onClick} variant=\"outline\">\n          {action.label}\n        </Button>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAeO,SAAS,WAAW,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAmB;IACpF,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAK,WAAU;;;;;;0BAChB,6LAAC;gBAAG,WAAU;0BAA8C;;;;;;0BAC5D,6LAAC;gBAAE,WAAU;0BAAgB;;;;;;YAC5B,wBACC,6LAAC,wIAAM;gBAAC,SAAS,OAAO,OAAO;gBAAE,SAAQ;0BACtC,OAAO,KAAK;;;;;;;;;;;;AAKvB;KAbgB"}},
    {"offset": {"line": 5076, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/tasks/TaskItem.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { CheckCircle2, Circle, Loader2 } from \"lucide-react\"\nimport { Task, updateTask } from \"@/lib/firestore\"\nimport { useAuthContext } from \"@/components/auth-provider\"\nimport { toast } from \"sonner\"\n\ninterface TaskItemProps {\n  task: Task\n  onTaskUpdate?: (task: Task) => void\n  showPriority?: boolean\n  compact?: boolean\n}\n\nexport function TaskItem({ task, onTaskUpdate, showPriority = true, compact = false }: TaskItemProps) {\n  const { user } = useAuthContext()\n  const [isUpdating, setIsUpdating] = useState(false)\n  const [optimisticStatus, setOptimisticStatus] = useState<Task['status']>(task.status)\n\n  const getPriorityColor = (priority: Task[\"priority\"]) => {\n    switch (priority) {\n      case \"urgent\": return \"text-red-500 bg-red-500/10\"\n      case \"high\": return \"text-orange-500 bg-orange-500/10\"\n      case \"medium\": return \"text-yellow-500 bg-yellow-500/10\"\n      default: return \"text-blue-500 bg-blue-500/10\"\n    }\n  }\n\n  const handleToggleComplete = async () => {\n    if (!user || isUpdating) return\n\n    const newStatus: Task['status'] = optimisticStatus === 'done' ? 'todo' : 'done'\n    const previousStatus = optimisticStatus\n\n    // Optimistic update\n    setOptimisticStatus(newStatus)\n    setIsUpdating(true)\n\n    try {\n      const updatedTask = {\n        ...task,\n        status: newStatus,\n        completedAt: newStatus === 'done' ? new Date() : undefined\n      }\n\n      await updateTask(task.id, updatedTask)\n\n      // Show success feedback\n      toast.success(\n        newStatus === 'done' ? 'Task completed! ðŸŽ‰' : 'Task marked as pending',\n        { duration: 2000 }\n      )\n\n      // Notify parent component\n      onTaskUpdate?.(updatedTask)\n    } catch (error) {\n      // Revert optimistic update on failure\n      setOptimisticStatus(previousStatus)\n\n      toast.error('Failed to update task. Please try again.', {\n        duration: 3000,\n        action: {\n          label: 'Retry',\n          onClick: () => handleToggleComplete()\n        }\n      })\n\n      console.error('Error updating task:', error)\n    } finally {\n      setIsUpdating(false)\n    }\n  }\n\n  const isCompleted = optimisticStatus === 'done'\n  const isInProgress = optimisticStatus === 'in-progress'\n\n  return (\n    <div className={`p-4 rounded-xl bg-muted/50 hover:bg-muted transition-colors group ${\n      compact ? 'p-3' : ''\n    }`}>\n      <div className=\"flex items-start gap-3\">\n        <button\n          onClick={handleToggleComplete}\n          disabled={isUpdating}\n          className=\"mt-1.5 flex-shrink-0 transition-colors disabled:opacity-50\"\n        >\n          {isUpdating ? (\n            <Loader2 className=\"w-4 h-4 animate-spin text-muted-foreground\" />\n          ) : isCompleted ? (\n            <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n          ) : (\n            <Circle className={`w-4 h-4 ${\n              isInProgress ? 'text-blue-500 fill-blue-500/20' : 'text-muted-foreground'\n            }`} />\n          )}\n        </button>\n\n        <div className=\"flex-1 min-w-0\">\n          <p className={`font-medium text-foreground truncate ${\n            isCompleted ? 'line-through opacity-60' : ''\n          }`}>\n            {task.title}\n          </p>\n\n          {!compact && (\n            <div className=\"flex items-center gap-2 mt-1\">\n              {task.course && (\n                <span className=\"text-xs text-muted-foreground\">{task.course}</span>\n              )}\n              {task.estimatedMinutes && (\n                <span className=\"text-xs text-muted-foreground\">\n                  ~{task.estimatedMinutes}min\n                </span>\n              )}\n            </div>\n          )}\n        </div>\n\n        {showPriority && (\n          <span className={`px-2 py-0.5 rounded text-xs font-medium ${getPriorityColor(task.priority)}`}>\n            {task.priority}\n          </span>\n        )}\n      </div>\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AANA;;;;;;AAeO,SAAS,SAAS,EAAE,IAAI,EAAE,YAAY,EAAE,eAAe,IAAI,EAAE,UAAU,KAAK,EAAiB;;IAClG,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,oJAAc;IAC/B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAiB,KAAK,MAAM;IAEpF,MAAM,mBAAmB,CAAC;QACxB,OAAQ;YACN,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAQ,OAAO;YACpB,KAAK;gBAAU,OAAO;YACtB;gBAAS,OAAO;QAClB;IACF;IAEA,MAAM,uBAAuB;QAC3B,IAAI,CAAC,QAAQ,YAAY;QAEzB,MAAM,YAA4B,qBAAqB,SAAS,SAAS;QACzE,MAAM,iBAAiB;QAEvB,oBAAoB;QACpB,oBAAoB;QACpB,cAAc;QAEd,IAAI;YACF,MAAM,cAAc;gBAClB,GAAG,IAAI;gBACP,QAAQ;gBACR,aAAa,cAAc,SAAS,IAAI,SAAS;YACnD;YAEA,MAAM,IAAA,iIAAU,EAAC,KAAK,EAAE,EAAE;YAE1B,wBAAwB;YACxB,oJAAK,CAAC,OAAO,CACX,cAAc,SAAS,uBAAuB,0BAC9C;gBAAE,UAAU;YAAK;YAGnB,0BAA0B;YAC1B,eAAe;QACjB,EAAE,OAAO,OAAO;YACd,sCAAsC;YACtC,oBAAoB;YAEpB,oJAAK,CAAC,KAAK,CAAC,4CAA4C;gBACtD,UAAU;gBACV,QAAQ;oBACN,OAAO;oBACP,SAAS,IAAM;gBACjB;YACF;YAEA,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,cAAc;QAChB;IACF;IAEA,MAAM,cAAc,qBAAqB;IACzC,MAAM,eAAe,qBAAqB;IAE1C,qBACE,6LAAC;QAAI,WAAW,CAAC,kEAAkE,EACjF,UAAU,QAAQ,IAClB;kBACA,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,2BACC,6LAAC,+NAAO;wBAAC,WAAU;;;;;+BACjB,4BACF,6LAAC,wOAAY;wBAAC,WAAU;;;;;6CAExB,6LAAC,mNAAM;wBAAC,WAAW,CAAC,QAAQ,EAC1B,eAAe,mCAAmC,yBAClD;;;;;;;;;;;8BAIN,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAE,WAAW,CAAC,qCAAqC,EAClD,cAAc,4BAA4B,IAC1C;sCACC,KAAK,KAAK;;;;;;wBAGZ,CAAC,yBACA,6LAAC;4BAAI,WAAU;;gCACZ,KAAK,MAAM,kBACV,6LAAC;oCAAK,WAAU;8CAAiC,KAAK,MAAM;;;;;;gCAE7D,KAAK,gBAAgB,kBACpB,6LAAC;oCAAK,WAAU;;wCAAgC;wCAC5C,KAAK,gBAAgB;wCAAC;;;;;;;;;;;;;;;;;;;gBAOjC,8BACC,6LAAC;oBAAK,WAAW,CAAC,wCAAwC,EAAE,iBAAiB,KAAK,QAAQ,GAAG;8BAC1F,KAAK,QAAQ;;;;;;;;;;;;;;;;;AAM1B;GAhHgB;;QACG,oJAAc;;;KADjB"}},
    {"offset": {"line": 5264, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/TodayTasks.tsx"],"sourcesContent":["\"use client\"\n\nimport { Zap, CheckCircle2 } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { Task } from \"@/lib/firestore\"\nimport { EmptyState } from \"@/components/ui/EmptyState\"\nimport { TaskItem } from \"@/components/tasks/TaskItem\"\n\ninterface TodayTasksProps {\n  tasks: Task[]\n  onTaskClick: (task: Task) => void\n  onTaskUpdate?: (task: Task) => void\n}\n\nexport function TodayTasks({ tasks, onTaskClick, onTaskUpdate }: TodayTasksProps) {\n\n  return (\n    <div className=\"p-6 rounded-2xl bg-card border border-border\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <h3 className=\"text-display-sm text-foreground flex items-center gap-2\">\n          <Zap className=\"w-5 h-5 text-yellow-500\" />\n          Today's Tasks\n        </h3>\n        <Link href=\"/planner\" className=\"text-sm text-primary hover:underline\">\n          View all\n        </Link>\n      </div>\n\n      {tasks.length === 0 ? (\n        <EmptyState\n          icon={CheckCircle2}\n          title=\"No tasks for today\"\n          description=\"Let AI plan your day or add tasks manually to stay productive.\"\n          action={{\n            label: \"Let AI plan my day\",\n            onClick: () => {\n              // TODO: Open JARVIS with prefilled prompt for planning the day\n              console.log(\"Open JARVIS for day planning\")\n            }\n          }}\n        />\n      ) : (\n        <div className=\"space-y-3\">\n          {tasks.map(task => (\n            <div key={task.id} onClick={() => onTaskClick(task)} className=\"cursor-pointer\">\n              <TaskItem\n                task={task}\n                onTaskUpdate={onTaskUpdate}\n                showPriority={true}\n                compact={true}\n              />\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAEA;AACA;AANA;;;;;;AAcO,SAAS,WAAW,EAAE,KAAK,EAAE,WAAW,EAAE,YAAY,EAAmB;IAE9E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;;0CACZ,6LAAC,0MAAG;gCAAC,WAAU;;;;;;4BAA4B;;;;;;;kCAG7C,6LAAC,0KAAI;wBAAC,MAAK;wBAAW,WAAU;kCAAuC;;;;;;;;;;;;YAKxE,MAAM,MAAM,KAAK,kBAChB,6LAAC,gJAAU;gBACT,MAAM,wOAAY;gBAClB,OAAM;gBACN,aAAY;gBACZ,QAAQ;oBACN,OAAO;oBACP,SAAS;wBACP,+DAA+D;wBAC/D,QAAQ,GAAG,CAAC;oBACd;gBACF;;;;;qCAGF,6LAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAA,qBACT,6LAAC;wBAAkB,SAAS,IAAM,YAAY;wBAAO,WAAU;kCAC7D,cAAA,6LAAC,+IAAQ;4BACP,MAAM;4BACN,cAAc;4BACd,cAAc;4BACd,SAAS;;;;;;uBALH,KAAK,EAAE;;;;;;;;;;;;;;;;AAa7B;KA3CgB"}},
    {"offset": {"line": 5376, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/TodaySchedule.tsx"],"sourcesContent":["\"use client\"\n\nimport { Calendar, Clock, Sparkles, Plus, Zap } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { CalendarEvent } from \"@/lib/firestore\"\nimport { EmptyState } from \"@/components/ui/EmptyState\"\nimport { Button } from \"@/components/ui/button\"\nimport { useMemo } from \"react\"\n\ninterface TodayScheduleProps {\n  events: CalendarEvent[]\n}\n\n// AI-powered schedule analysis\nconst analyzeSchedule = (events: CalendarEvent[]) => {\n  const now = new Date()\n  const currentHour = now.getHours()\n  \n  // Find gaps in schedule for focus time suggestions\n  const gaps: { start: number; end: number; duration: number }[] = []\n  const sortedEvents = [...events].sort((a, b) => \n    new Date(a.startTime).getTime() - new Date(b.startTime).getTime()\n  )\n  \n  // Check morning gap (9am to first event)\n  if (sortedEvents.length > 0) {\n    const firstEventHour = new Date(sortedEvents[0].startTime).getHours()\n    if (firstEventHour > 9) {\n      gaps.push({ start: 9, end: firstEventHour, duration: firstEventHour - 9 })\n    }\n  }\n  \n  // Check gaps between events\n  for (let i = 0; i < sortedEvents.length - 1; i++) {\n    const endTime = new Date(sortedEvents[i].endTime).getHours()\n    const nextStartTime = new Date(sortedEvents[i + 1].startTime).getHours()\n    if (nextStartTime - endTime >= 1) {\n      gaps.push({ start: endTime, end: nextStartTime, duration: nextStartTime - endTime })\n    }\n  }\n  \n  // Check evening gap (last event to 9pm)\n  if (sortedEvents.length > 0) {\n    const lastEventEnd = new Date(sortedEvents[sortedEvents.length - 1].endTime).getHours()\n    if (lastEventEnd < 21) {\n      gaps.push({ start: lastEventEnd, end: 21, duration: 21 - lastEventEnd })\n    }\n  }\n  \n  // Find best focus slot based on time of day\n  const focusableGaps = gaps.filter(g => g.duration >= 1 && g.start > currentHour)\n  const bestGap = focusableGaps.find(g => \n    (g.start >= 9 && g.start <= 11) || // Morning peak\n    (g.start >= 14 && g.start <= 16)   // Afternoon peak\n  ) || focusableGaps[0]\n  \n  // Upcoming event\n  const nextEvent = sortedEvents.find(e => new Date(e.startTime) > now)\n  const minutesToNext = nextEvent \n    ? Math.round((new Date(nextEvent.startTime).getTime() - now.getTime()) / (1000 * 60))\n    : null\n\n  return {\n    gaps,\n    bestGap,\n    nextEvent,\n    minutesToNext,\n    suggestion: bestGap \n      ? `${bestGap.duration}h focus window at ${bestGap.start > 12 ? bestGap.start - 12 : bestGap.start}${bestGap.start >= 12 ? 'pm' : 'am'}`\n      : events.length === 0 \n        ? \"Wide open day - perfect for deep work!\"\n        : \"Busy day - squeeze in short sessions\"\n  }\n}\n\nexport function TodaySchedule({ events }: TodayScheduleProps) {\n  const analysis = useMemo(() => analyzeSchedule(events), [events])\n\n  const formatTime = (date: Date) => {\n    return date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })\n  }\n\n  const getEventTypeColor = (type: CalendarEvent[\"type\"]) => {\n    switch (type) {\n      case \"class\": return \"bg-blue-500\"\n      case \"exam\": return \"bg-red-500\"\n      case \"assignment\": return \"bg-orange-500\"\n      case \"focus\": return \"bg-purple-500\"\n      default: return \"bg-gray-500\"\n    }\n  }\n\n  const isEventNow = (event: CalendarEvent) => {\n    const now = new Date()\n    return new Date(event.startTime) <= now && new Date(event.endTime) >= now\n  }\n\n  const isEventSoon = (event: CalendarEvent) => {\n    const now = new Date()\n    const startTime = new Date(event.startTime)\n    const minutesUntil = (startTime.getTime() - now.getTime()) / (1000 * 60)\n    return minutesUntil > 0 && minutesUntil <= 30\n  }\n\n  return (\n    <div className=\"mb-8 p-6 rounded-2xl bg-card border border-border\">\n      <div className=\"flex items-center justify-between mb-4\">\n        <div className=\"flex items-center gap-2\">\n          <Calendar className=\"w-5 h-5 text-blue-500\" />\n          <h3 className=\"text-lg font-semibold text-foreground\">Today's Schedule</h3>\n        </div>\n        <Link href=\"/calendar\" className=\"text-sm text-primary hover:underline\">\n          Full calendar\n        </Link>\n      </div>\n\n      {/* AI Schedule Insight */}\n      {analysis.suggestion && (\n        <div className=\"mb-4 p-3 rounded-lg bg-primary/5 border border-primary/10 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Sparkles className=\"w-4 h-4 text-primary\" />\n            <span className=\"text-sm text-foreground\">{analysis.suggestion}</span>\n          </div>\n          {analysis.bestGap && (\n            <Button size=\"sm\" variant=\"ghost\" className=\"text-primary text-xs\">\n              Schedule Focus\n            </Button>\n          )}\n        </div>\n      )}\n\n      {/* Next Up Alert */}\n      {analysis.nextEvent && analysis.minutesToNext && analysis.minutesToNext <= 60 && (\n        <div className={`mb-4 p-3 rounded-lg flex items-center gap-3 ${\n          analysis.minutesToNext <= 15 \n            ? 'bg-orange-500/10 border border-orange-500/20' \n            : 'bg-muted/50'\n        }`}>\n          <Clock className={`w-4 h-4 ${analysis.minutesToNext <= 15 ? 'text-orange-500' : 'text-muted-foreground'}`} />\n          <span className=\"text-sm\">\n            <strong>{analysis.nextEvent.title}</strong> in {analysis.minutesToNext} min\n          </span>\n        </div>\n      )}\n\n      {events.length === 0 ? (\n        <EmptyState\n          icon={Clock}\n          title=\"Nothing scheduled today\"\n          description=\"Wide open for deep work! Add classes, exams, or focus sessions.\"\n          action={{\n            label: \"Add to Calendar\",\n            onClick: () => {\n              window.location.href = '/calendar'\n            }\n          }}\n        />\n      ) : (\n        <div className=\"space-y-2\">\n          {events.map(event => {\n            const isNow = isEventNow(event)\n            const isSoon = isEventSoon(event)\n            \n            return (\n              <div \n                key={event.id} \n                className={`flex items-center gap-4 p-3 rounded-xl transition-all ${\n                  isNow \n                    ? 'bg-primary/10 border border-primary/30 ring-1 ring-primary/20' \n                    : isSoon\n                      ? 'bg-orange-500/5 border border-orange-500/20'\n                      : 'bg-muted/30 hover:bg-muted/50'\n                }`}\n              >\n                <div className={`w-1 h-12 rounded-full ${getEventTypeColor(event.type)}`} />\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-center gap-2\">\n                    <p className=\"font-medium text-foreground truncate\">{event.title}</p>\n                    {isNow && (\n                      <span className=\"text-xs px-2 py-0.5 rounded-full bg-primary text-primary-foreground\">\n                        NOW\n                      </span>\n                    )}\n                    {isSoon && !isNow && (\n                      <span className=\"text-xs px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-500\">\n                        Soon\n                      </span>\n                    )}\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">\n                    {formatTime(event.startTime)} - {formatTime(event.endTime)}\n                    {event.location && ` â€¢ ${event.location}`}\n                  </p>\n                </div>\n                <span className={`text-xs px-2 py-1 rounded capitalize ${\n                  isNow ? 'bg-primary/20 text-primary' : 'bg-muted text-muted-foreground'\n                }`}>\n                  {event.type}\n                </span>\n              </div>\n            )\n          })}\n        </div>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5736, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/TodayAtGlance.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Clock, Target, Flame, TrendingUp, CheckCircle2, Play } from \"lucide-react\"\nimport { RecommendationEngine, RecommendationScore, getRecommendationEngine } from \"@/lib/recommendations/scoreEngine\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\nimport { getUserData } from \"@/lib/firestore\"\nimport { useRouter } from \"next/navigation\"\n\ninterface TodayAtGlanceProps {\n  className?: string\n}\n\nexport function TodayAtGlance({ className }: TodayAtGlanceProps) {\n  const [recommendations, setRecommendations] = useState<RecommendationScore[]>([])\n  const [loading, setLoading] = useState(true)\n  const [engine, setEngine] = useState<RecommendationEngine | null>(null)\n  const { user } = useAuth()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (user) {\n      loadRecommendations()\n    }\n  }, [user])\n\n  const loadRecommendations = async () => {\n    if (!user) return\n\n    try {\n      setLoading(true)\n      const userData = await getUserData(user.uid)\n\n      const context = {\n        tasks: userData.tasks || [],\n        courses: userData.courses || [],\n        habits: userData.habits || [],\n        dailyStats: userData.dailyStats || undefined,\n        currentTime: new Date(),\n        userStreak: userData.userStreak || 0\n      }\n\n      const recommendationEngine = getRecommendationEngine(context)\n      setEngine(recommendationEngine)\n\n      const recs = recommendationEngine.getRecommendations(4) // Show top 4\n      setRecommendations(recs)\n    } catch (error) {\n      console.error(\"Failed to load recommendations:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleRecommendationAction = (recommendation: RecommendationScore) => {\n    switch (recommendation.action.type) {\n      case 'navigate':\n        if (recommendation.action.data?.path) {\n          router.push(recommendation.action.data.path)\n        }\n        break\n      case 'toggle_habit':\n        // Handle habit toggle - would integrate with habit system\n        console.log(\"Toggle habit:\", recommendation.action.data?.habitId)\n        break\n      case 'start_focus':\n        // Handle focus session start\n        console.log(\"Start focus session:\", recommendation.action.data)\n        break\n      default:\n        console.log(\"Unknown action:\", recommendation.action)\n    }\n\n    // Refresh recommendations after action\n    if (engine) {\n      const recs = engine.getRecommendations(4)\n      setRecommendations(recs)\n    }\n  }\n\n  const getRecommendationIcon = (type: RecommendationScore['type']) => {\n    switch (type) {\n      case 'task': return <Target className=\"h-4 w-4\" />\n      case 'habit': return <Flame className=\"h-4 w-4\" />\n      case 'focus_session': return <Play className=\"h-4 w-4\" />\n      case 'study_planning': return <TrendingUp className=\"h-4 w-4\" />\n      default: return <CheckCircle2 className=\"h-4 w-4\" />\n    }\n  }\n\n  const getRecommendationColor = (score: number) => {\n    if (score >= 0.8) return \"bg-red-100 text-red-800 border-red-200\"\n    if (score >= 0.6) return \"bg-orange-100 text-orange-800 border-orange-200\"\n    if (score >= 0.4) return \"bg-yellow-100 text-yellow-800 border-yellow-200\"\n    return \"bg-green-100 text-green-800 border-green-200\"\n  }\n\n  if (loading) {\n    return (\n      <Card className={className}>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Clock className=\"h-5 w-5\" />\n            Today at a Glance\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-3\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"animate-pulse\">\n                <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n              </div>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Clock className=\"h-5 w-5\" />\n          Today at a Glance\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        {recommendations.length === 0 ? (\n          <div className=\"text-center py-6 text-muted-foreground\">\n            <CheckCircle2 className=\"h-8 w-8 mx-auto mb-2 opacity-50\" />\n            <p>All caught up! Great job staying on top of your studies.</p>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {recommendations.map((rec) => (\n              <div\n                key={rec.id}\n                className=\"flex items-start gap-3 p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors\"\n              >\n                <div className=\"flex-shrink-0 mt-0.5\">\n                  {getRecommendationIcon(rec.type)}\n                </div>\n                <div className=\"flex-1 min-w-0\">\n                  <div className=\"flex items-start justify-between gap-2\">\n                    <div className=\"flex-1\">\n                      <h4 className=\"font-medium text-sm leading-tight\">\n                        {rec.title}\n                      </h4>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        {rec.description}\n                      </p>\n                    </div>\n                    <Badge\n                      variant=\"outline\"\n                      className={`text-xs ${getRecommendationColor(rec.score)}`}\n                    >\n                      {Math.round(rec.score * 100)}%\n                    </Badge>\n                  </div>\n\n                  {rec.reasoning.length > 0 && (\n                    <div className=\"flex flex-wrap gap-1 mt-2\">\n                      {rec.reasoning.slice(0, 2).map((reason, index) => (\n                        <Badge key={index} variant=\"secondary\" className=\"text-xs\">\n                          {reason}\n                        </Badge>\n                      ))}\n                    </div>\n                  )}\n\n                  <Button\n                    size=\"sm\"\n                    variant=\"ghost\"\n                    className=\"mt-2 h-7 px-2 text-xs\"\n                    onClick={() => handleRecommendationAction(rec)}\n                  >\n                    Take Action\n                  </Button>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n\n        <div className=\"mt-4 pt-3 border-t\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"w-full\"\n            onClick={() => router.push('/planner')}\n          >\n            View Full Planner\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6158, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/HabitsBlock.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Target, Flame, Plus, CheckCircle2 } from \"lucide-react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Card } from \"@/components/ui/card\"\nimport { Habit } from \"@/lib/firestore\"\n\ninterface HabitsBlockProps {\n  habits: Habit[]\n  onToggleHabit: (habitId: string) => void\n  onManageHabits: () => void\n  onAddHabit: () => void\n}\n\nconst HABIT_TEMPLATES = [\n  { name: \"Read for 30 minutes\", description: \"Build consistent reading habits\", color: \"#3b82f6\" },\n  { name: \"Exercise daily\", description: \"Stay active and healthy\", color: \"#10b981\" },\n  { name: \"Meditate 10 minutes\", description: \"Mental clarity and focus\", color: \"#8b5cf6\" },\n  { name: \"Review flashcards\", description: \"Reinforce learning\", color: \"#f59e0b\" },\n  { name: \"Plan tomorrow\", description: \"Stay organized and prepared\", color: \"#ef4444\" },\n  { name: \"No phone after 9 PM\", description: \"Better sleep quality\", color: \"#06b6d4\" }\n]\n\nexport function HabitsBlock({ habits, onToggleHabit, onManageHabits, onAddHabit }: HabitsBlockProps) {\n  const [showTemplates, setShowTemplates] = useState(false)\n  const todayDateStr = new Date().toISOString().split('T')[0]\n\n  const todayHabitsCompleted = habits.filter(h =>\n    h.completions.some(c => c.date === todayDateStr && c.completed)\n  ).length\n\n  const handleTemplateSelect = (template: typeof HABIT_TEMPLATES[0]) => {\n    // This would typically create the habit, but for now we'll just close the modal\n    setShowTemplates(false)\n    onAddHabit()\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3\">\n          <Target className=\"w-6 h-6 text-primary\" />\n          <h2 className=\"text-display-sm text-foreground\">Daily Habits</h2>\n          {habits.length > 0 && (\n            <span className=\"text-sm text-muted-foreground\">\n              {todayHabitsCompleted}/{habits.length} completed\n            </span>\n          )}\n        </div>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" size=\"sm\" onClick={onManageHabits}>\n            Manage\n          </Button>\n          <Button variant=\"outline\" size=\"sm\" onClick={() => setShowTemplates(true)}>\n            <Plus className=\"w-4 h-4 mr-1\" />\n            Add\n          </Button>\n        </div>\n      </div>\n\n      {habits.length === 0 ? (\n        <Card className=\"p-6 text-center\">\n          <Target className=\"w-12 h-12 mx-auto mb-4 text-muted-foreground\" />\n          <h3 className=\"text-lg font-semibold text-foreground mb-2\">Start Building Habits</h3>\n          <p className=\"text-sm text-muted-foreground mb-4\">\n            Small daily actions compound into big results. Start with one habit today.\n          </p>\n          <Button onClick={() => setShowTemplates(true)}>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Add Your First Habit\n          </Button>\n        </Card>\n      ) : (\n        <div className=\"space-y-2\">\n          {habits.slice(0, 5).map(habit => {\n            const isCompletedToday = habit.completions.some(\n              c => c.date === todayDateStr && c.completed\n            )\n            return (\n              <Card\n                key={habit.id}\n                className={`p-4 cursor-pointer transition-all hover:shadow-md ${\n                  isCompletedToday ? 'bg-green-500/5 border-green-500/20' : 'hover:bg-muted/50'\n                }`}\n                onClick={() => onToggleHabit(habit.id)}\n              >\n                <div className=\"flex items-center gap-3\">\n                  <div\n                    className={`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${\n                      isCompletedToday\n                        ? 'bg-green-500 border-green-500'\n                        : 'border-muted-foreground hover:border-primary'\n                    }`}\n                  >\n                    {isCompletedToday && <CheckCircle2 className=\"w-4 h-4 text-white\" />}\n                  </div>\n                  <div className=\"flex-1\">\n                    <span className={`font-medium ${isCompletedToday ? 'text-green-600 dark:text-green-400' : 'text-foreground'}`}>\n                      {habit.name}\n                    </span>\n                    {habit.description && (\n                      <p className=\"text-xs text-muted-foreground\">{habit.description}</p>\n                    )}\n                  </div>\n                  {habit.currentStreak > 0 && (\n                    <div className=\"flex items-center gap-1 text-orange-500\">\n                      <Flame className=\"w-4 h-4\" />\n                      <span className=\"text-sm font-medium\">{habit.currentStreak}</span>\n                    </div>\n                  )}\n                </div>\n              </Card>\n            )\n          })}\n        </div>\n      )}\n\n      {/* Habit Templates Modal */}\n      {showTemplates && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <Card className=\"w-full max-w-md max-h-[80vh] overflow-y-auto\">\n            <div className=\"p-6\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold\">Choose a Habit Template</h3>\n                <Button variant=\"ghost\" size=\"sm\" onClick={() => setShowTemplates(false)}>\n                  Ã—\n                </Button>\n              </div>\n              <div className=\"space-y-3\">\n                {HABIT_TEMPLATES.map((template, index) => (\n                  <div\n                    key={index}\n                    className=\"p-3 rounded-lg border border-border hover:border-primary cursor-pointer transition-colors\"\n                    onClick={() => handleTemplateSelect(template)}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <div\n                        className=\"w-4 h-4 rounded-full\"\n                        style={{ backgroundColor: template.color }}\n                      />\n                      <div>\n                        <h4 className=\"font-medium text-sm\">{template.name}</h4>\n                        <p className=\"text-xs text-muted-foreground\">{template.description}</p>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n              <div className=\"mt-4 pt-4 border-t\">\n                <Button variant=\"outline\" className=\"w-full\" onClick={onAddHabit}>\n                  Create Custom Habit\n                </Button>\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n    </div>\n  )\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6587, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/StreakTracker.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { Card } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Flame, Trophy, Target, TrendingUp, Calendar, Award } from \"lucide-react\"\nimport { db } from \"@/lib/firebase\"\nimport { collection, query, where, getDocs, doc, setDoc, getDoc } from \"firebase/firestore\"\nimport { useAuth } from \"@/lib/hooks/useAuth\"\n\ninterface StreakData {\n  currentStreak: number\n  longestStreak: number\n  totalDays: number\n  lastActiveDate: string\n  milestones: number[]\n}\n\nexport function StreakTracker() {\n  const { user } = useAuth()\n  const [streak, setStreak] = useState<StreakData>({\n    currentStreak: 0,\n    longestStreak: 0,\n    totalDays: 0,\n    lastActiveDate: \"\",\n    milestones: []\n  })\n  const [loading, setLoading] = useState(true)\n  const [showCelebration, setShowCelebration] = useState(false)\n\n  useEffect(() => {\n    if (user) {\n      loadStreakData()\n    }\n  }, [user])\n\n  const loadStreakData = async () => {\n    if (!user) return\n\n    try {\n      const streakRef = doc(db, \"streaks\", user.uid)\n      const streakDoc = await getDoc(streakRef)\n\n      if (streakDoc.exists()) {\n        const data = streakDoc.data() as StreakData\n        setStreak(data)\n        \n        // Check if we need to update streak for today\n        await updateDailyStreak(data)\n      } else {\n        // Initialize streak data\n        const newStreak: StreakData = {\n          currentStreak: 0,\n          longestStreak: 0,\n          totalDays: 0,\n          lastActiveDate: \"\",\n          milestones: []\n        }\n        await setDoc(streakRef, newStreak)\n        setStreak(newStreak)\n      }\n    } catch (error) {\n      console.error(\"Error loading streak:\", error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const updateDailyStreak = async (currentData: StreakData) => {\n    if (!user) return\n\n    const today = new Date().toDateString()\n    const lastActive = new Date(currentData.lastActiveDate).toDateString()\n\n    // Already updated today\n    if (today === lastActive) return\n\n    const yesterday = new Date()\n    yesterday.setDate(yesterday.getDate() - 1)\n    const yesterdayStr = yesterday.toDateString()\n\n    let newStreak = currentData.currentStreak\n    \n    // Check if streak continues or breaks\n    if (lastActive === yesterdayStr) {\n      // Streak continues\n      newStreak = currentData.currentStreak + 1\n    } else if (currentData.lastActiveDate) {\n      // Streak broken, restart\n      newStreak = 1\n    } else {\n      // First day\n      newStreak = 1\n    }\n\n    const newLongestStreak = Math.max(newStreak, currentData.longestStreak)\n    const newTotalDays = currentData.totalDays + 1\n    const newMilestones = [...currentData.milestones]\n\n    // Check for milestone achievements\n    const milestones = [7, 30, 60, 100, 365]\n    for (const milestone of milestones) {\n      if (newStreak === milestone && !newMilestones.includes(milestone)) {\n        newMilestones.push(milestone)\n        setShowCelebration(true)\n        setTimeout(() => setShowCelebration(false), 5000)\n      }\n    }\n\n    const updatedStreak: StreakData = {\n      currentStreak: newStreak,\n      longestStreak: newLongestStreak,\n      totalDays: newTotalDays,\n      lastActiveDate: today,\n      milestones: newMilestones\n    }\n\n    const streakRef = doc(db, \"streaks\", user.uid)\n    await setDoc(streakRef, updatedStreak)\n    setStreak(updatedStreak)\n  }\n\n  const getMilestoneMessage = () => {\n    const { currentStreak } = streak\n    if (currentStreak >= 365) return \"ðŸŒŸ You're unstoppable! 1 year streak!\"\n    if (currentStreak >= 100) return \"ðŸ”¥ Century club! 100+ days!\"\n    if (currentStreak >= 60) return \"ðŸ’ª Two months strong!\"\n    if (currentStreak >= 30) return \"ðŸŽ¯ One month streak!\"\n    if (currentStreak >= 7) return \"âš¡ Week warrior!\"\n    if (currentStreak >= 3) return \"ðŸš€ Building momentum!\"\n    return \"ðŸ’« Keep going!\"\n  }\n\n  const getNextMilestone = () => {\n    const milestones = [7, 30, 60, 100, 365]\n    return milestones.find(m => m > streak.currentStreak) || 365\n  }\n\n  const getStreakColor = () => {\n    if (streak.currentStreak >= 30) return \"text-orange-500\"\n    if (streak.currentStreak >= 7) return \"text-yellow-500\"\n    return \"text-gray-400\"\n  }\n\n  if (loading) {\n    return (\n      <Card className=\"p-6 bg-gradient-to-br from-orange-500/5 to-red-500/5 border-orange-500/20\">\n        <div className=\"animate-pulse\">\n          <div className=\"h-8 w-32 bg-gray-200 dark:bg-gray-700 rounded mb-2\"></div>\n          <div className=\"h-4 w-48 bg-gray-200 dark:bg-gray-700 rounded\"></div>\n        </div>\n      </Card>\n    )\n  }\n\n  return (\n    <>\n      <Card className=\"p-6 bg-gradient-to-br from-orange-500/5 to-red-500/5 border-orange-500/20 relative overflow-hidden\">\n        {showCelebration && (\n          <div className=\"absolute inset-0 bg-gradient-to-r from-orange-500/20 via-yellow-500/20 to-orange-500/20 animate-pulse z-10 flex items-center justify-center\">\n            <div className=\"text-center\">\n              <Trophy className=\"w-16 h-16 text-yellow-500 mx-auto mb-2 animate-bounce\" />\n              <p className=\"text-2xl font-bold text-orange-500\">New Milestone!</p>\n              <p className=\"text-lg\">{streak.currentStreak} days strong! ðŸŽ‰</p>\n            </div>\n          </div>\n        )}\n\n        <div className=\"flex items-start justify-between mb-4\">\n          <div>\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Flame className={`w-6 h-6 ${getStreakColor()}`} />\n              <h3 className=\"text-2xl font-bold\">{streak.currentStreak} Day Streak</h3>\n            </div>\n            <p className=\"text-sm text-muted-foreground\">{getMilestoneMessage()}</p>\n          </div>\n          <Badge variant=\"outline\" className=\"gap-1\">\n            <Target className=\"w-3 h-3\" />\n            Next: {getNextMilestone()}\n          </Badge>\n        </div>\n\n        <div className=\"grid grid-cols-3 gap-4 mb-4\">\n          <div className=\"text-center\">\n            <TrendingUp className=\"w-4 h-4 mx-auto mb-1 text-muted-foreground\" />\n            <p className=\"text-2xl font-bold\">{streak.longestStreak}</p>\n            <p className=\"text-xs text-muted-foreground\">Best Streak</p>\n          </div>\n          <div className=\"text-center\">\n            <Calendar className=\"w-4 h-4 mx-auto mb-1 text-muted-foreground\" />\n            <p className=\"text-2xl font-bold\">{streak.totalDays}</p>\n            <p className=\"text-xs text-muted-foreground\">Total Days</p>\n          </div>\n          <div className=\"text-center\">\n            <Award className=\"w-4 h-4 mx-auto mb-1 text-muted-foreground\" />\n            <p className=\"text-2xl font-bold\">{streak.milestones.length}</p>\n            <p className=\"text-xs text-muted-foreground\">Milestones</p>\n          </div>\n        </div>\n\n        {streak.milestones.length > 0 && (\n          <div className=\"pt-4 border-t border-orange-500/20\">\n            <p className=\"text-xs text-muted-foreground mb-2\">Achievements</p>\n            <div className=\"flex flex-wrap gap-2\">\n              {streak.milestones.sort((a, b) => b - a).map((milestone) => (\n                <Badge key={milestone} variant=\"secondary\" className=\"gap-1\">\n                  <Trophy className=\"w-3 h-3\" />\n                  {milestone}d\n                </Badge>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Progress to next milestone */}\n        <div className=\"mt-4\">\n          <div className=\"flex justify-between text-xs text-muted-foreground mb-1\">\n            <span>{streak.currentStreak} days</span>\n            <span>{getNextMilestone()} days</span>\n          </div>\n          <div className=\"w-full h-2 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden\">\n            <div \n              className=\"h-full bg-gradient-to-r from-orange-500 to-red-500 transition-all duration-500\"\n              style={{ width: `${(streak.currentStreak / getNextMilestone()) * 100}%` }}\n            />\n          </div>\n        </div>\n      </Card>\n    </>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7116, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/lib/api.ts"],"sourcesContent":["/**\n * API Client for StudyPal AI Backend\n * Connects to the FastAPI backend at localhost:8000\n */\n\n// Get API URL from environment or use localhost\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\"\n\n// Request timeout in milliseconds\nconst REQUEST_TIMEOUT = 200000 // 200 seconds for AI operations\n\n/**\n * Custom error for API failures\n */\nexport class APIError extends Error {\n  constructor(\n    message: string,\n    public status?: number,\n    public data?: any\n  ) {\n    super(message)\n    this.name = \"APIError\"\n  }\n}\n\n/**\n * Make an API request with timeout and error handling\n */\nasync function apiRequest<T>(\n  endpoint: string,\n  options: RequestInit = {}\n): Promise<T> {\n  const controller = new AbortController()\n  const timeoutId = setTimeout(() => controller.abort(), REQUEST_TIMEOUT)\n\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`, {\n      ...options,\n      signal: controller.signal,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options.headers,\n      },\n    })\n\n    clearTimeout(timeoutId)\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}))\n      throw new APIError(\n        error.detail || error.message || `Request failed with status ${response.status}`,\n        response.status,\n        error\n      )\n    }\n\n    return await response.json()\n  } catch (error: any) {\n    clearTimeout(timeoutId)\n    \n    if (error.name === \"AbortError\") {\n      throw new APIError(\"Request timeout - the AI is taking too long to respond\")\n    }\n    \n    if (error instanceof APIError) {\n      throw error\n    }\n    \n    throw new APIError(\n      error.message || \"Network error - please check your connection\"\n    )\n  }\n}\n\n// ============================================================================\n// HEALTH CHECK\n// ============================================================================\n\nexport interface HealthResponse {\n  backend: string\n  status: string\n  services: {\n    qdrant?: {\n      status: string\n      connected: boolean\n      collection?: string\n      vectors_count?: number\n      url?: string\n    }\n    ollama?: {\n      status: string\n      connected: boolean\n      models?: string[]\n      url?: string\n    }\n    whisper?: {\n      status: string\n      loaded: boolean\n      model?: string\n    }\n  }\n}\n\nexport async function checkHealth(): Promise<HealthResponse> {\n  return apiRequest<HealthResponse>(\"/health\")\n}\n\n// ============================================================================\n// MATERIALS\n// ============================================================================\n\nexport interface AddMaterialRequest {\n  text: string\n  course?: string\n  topic?: string\n  source?: string\n  metadata?: Record<string, any>\n}\n\nexport interface AddMaterialResponse {\n  success: boolean\n  message: string\n  point_id: string\n}\n\nexport async function addMaterial(data: AddMaterialRequest): Promise<AddMaterialResponse> {\n  return apiRequest<AddMaterialResponse>(\"/materials/add\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\nexport interface MaterialStats {\n  collection_name: string\n  vectors_count: number\n  points_count: number\n  status: string\n}\n\nexport async function getMaterialStats(): Promise<{ success: boolean; stats: MaterialStats }> {\n  return apiRequest(\"/materials/stats\")\n}\n\n// ============================================================================\n// AUDIO UPLOAD\n// ============================================================================\n\nexport interface AudioUploadResponse {\n  transcript: string\n  stored_chunks: number\n  language: string\n  chunks?: string[]\n}\n\nexport async function uploadAudio(\n  file: File,\n  options?: {\n    course?: string\n    topic?: string\n    store_in_memory?: boolean\n  }\n): Promise<AudioUploadResponse> {\n  const formData = new FormData()\n  formData.append(\"file\", file)\n  \n  if (options?.course) formData.append(\"course\", options.course)\n  if (options?.topic) formData.append(\"topic\", options.topic)\n  if (options?.store_in_memory !== undefined) {\n    formData.append(\"store_in_memory\", String(options.store_in_memory))\n  }\n\n  const controller = new AbortController()\n  const timeoutId = setTimeout(() => controller.abort(), REQUEST_TIMEOUT)\n\n  try {\n    const response = await fetch(`${API_BASE_URL}/audio/upload`, {\n      method: \"POST\",\n      body: formData,\n      signal: controller.signal,\n    })\n\n    clearTimeout(timeoutId)\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({}))\n      throw new APIError(\n        error.detail || `Upload failed with status ${response.status}`,\n        response.status,\n        error\n      )\n    }\n\n    return await response.json()\n  } catch (error: any) {\n    clearTimeout(timeoutId)\n    \n    if (error.name === \"AbortError\") {\n      throw new APIError(\"Audio processing timeout\")\n    }\n    \n    if (error instanceof APIError) {\n      throw error\n    }\n    \n    throw new APIError(error.message || \"Audio upload failed\")\n  }\n}\n\n// ============================================================================\n// ASK AI (RAG)\n// ============================================================================\n\nexport interface AskRequest {\n  question: string\n  use_memory?: boolean\n  top_k?: number\n}\n\nexport interface AskResponse {\n  answer: string\n  context_used: boolean\n  sources_count: number\n  sources?: Array<{\n    text_preview: string\n    metadata: Record<string, any>\n    relevance_score: number\n  }>\n}\n\nexport async function askAI(data: AskRequest): Promise<AskResponse> {\n  return apiRequest<AskResponse>(\"/ai/ask\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// FLASHCARDS\n// ============================================================================\n\nexport interface GenerateFlashcardsRequest {\n  text?: string\n  topic?: string\n  num_cards?: number\n  use_memory?: boolean\n}\n\nexport interface Flashcard {\n  question: string\n  answer: string\n}\n\nexport interface GenerateFlashcardsResponse {\n  flashcards: Flashcard[]\n  count: number\n  source: string\n}\n\nexport async function generateFlashcards(\n  data: GenerateFlashcardsRequest\n): Promise<GenerateFlashcardsResponse> {\n  return apiRequest<GenerateFlashcardsResponse>(\"/ai/flashcards/generate\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// STUDY PLAN\n// ============================================================================\n\nexport interface CreateStudyPlanRequest {\n  subject: string\n  days: number\n  current_knowledge?: string\n  retrieve_materials?: boolean\n}\n\nexport interface CreateStudyPlanResponse {\n  plan: string\n  subject: string\n  days: number\n  materials_used: number\n}\n\nexport async function createStudyPlan(\n  data: CreateStudyPlanRequest\n): Promise<CreateStudyPlanResponse> {\n  return apiRequest<CreateStudyPlanResponse>(\"/ai/plan/create\", {\n    method: \"POST\",\n    body: JSON.stringify(data),\n  })\n}\n\n// ============================================================================\n// HELPER UTILITIES\n// ============================================================================\n\n/**\n * Check if the backend is available\n */\nexport async function isBackendAvailable(): Promise<boolean> {\n  try {\n    const health = await checkHealth()\n    return health.backend === \"online\" || health.status === \"healthy\"\n  } catch {\n    return false\n  }\n}\n\n/**\n * Get backend service status summary\n */\nexport async function getServiceStatus(): Promise<{\n  backend: boolean\n  qdrant: boolean\n  ollama: boolean\n  whisper: boolean\n}> {\n  try {\n    const health = await checkHealth()\n    return {\n      backend: health.backend === \"online\",\n      qdrant: health.services.qdrant?.connected ?? false,\n      ollama: health.services.ollama?.connected ?? false,\n      whisper: health.services.whisper?.loaded ?? false,\n    }\n  } catch {\n    return {\n      backend: false,\n      qdrant: false,\n      ollama: false,\n      whisper: false,\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7282, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/components/dashboard/AISystemHealth.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Activity, Database, Brain, Mic, AlertCircle, CheckCircle, Loader2 } from \"lucide-react\"\nimport { checkHealth, type HealthResponse } from \"@/lib/api\"\n\nexport function AISystemHealth() {\n  const [health, setHealth] = useState<HealthResponse | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    loadHealth()\n    // Refresh every 30 seconds\n    const interval = setInterval(loadHealth, 30000)\n    return () => clearInterval(interval)\n  }, [])\n\n  const loadHealth = async () => {\n    try {\n      const data = await checkHealth()\n      setHealth(data)\n      setError(null)\n    } catch (err) {\n      setError(\"Backend offline\")\n      setHealth(null)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  if (loading) {\n    return (\n      <Card className=\"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 border-blue-200 dark:border-blue-900\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <Activity className=\"w-5 h-5\" />\n            AI System Status\n          </CardTitle>\n        </CardHeader>\n        <CardContent className=\"flex items-center justify-center py-8\">\n          <Loader2 className=\"w-6 h-6 animate-spin text-blue-500\" />\n        </CardContent>\n      </Card>\n    )\n  }\n\n  if (error || !health) {\n    return (\n      <Card className=\"bg-gradient-to-br from-red-50 to-orange-50 dark:from-red-950/20 dark:to-orange-950/20 border-red-200 dark:border-red-900\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2 text-lg\">\n            <AlertCircle className=\"w-5 h-5 text-red-500\" />\n            AI System Status\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg\">\n              <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400\" />\n            </div>\n            <div>\n              <p className=\"font-medium text-red-900 dark:text-red-100\">Backend Offline</p>\n              <p className=\"text-sm text-red-700 dark:text-red-300\">Start backend to enable AI features</p>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    )\n  }\n\n  const isHealthy = health.status === \"healthy\"\n  const services = health.services\n\n  return (\n    <Card className={`bg-gradient-to-br ${\n      isHealthy \n        ? \"from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 border-green-200 dark:border-green-900\" \n        : \"from-yellow-50 to-orange-50 dark:from-yellow-950/20 dark:to-orange-950/20 border-yellow-200 dark:border-yellow-900\"\n    }`}>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2 text-lg\">\n          <Activity className={`w-5 h-5 ${isHealthy ? \"text-green-600\" : \"text-yellow-600\"}`} />\n          AI System Status\n          <Badge variant={isHealthy ? \"default\" : \"secondary\"} className=\"ml-auto\">\n            {isHealthy ? \"Healthy\" : \"Degraded\"}\n          </Badge>\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-3\">\n        {/* Qdrant */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className={`p-2 rounded-lg ${\n              services.qdrant?.connected \n                ? \"bg-green-100 dark:bg-green-900/30\" \n                : \"bg-red-100 dark:bg-red-900/30\"\n            }`}>\n              <Database className={`w-4 h-4 ${\n                services.qdrant?.connected \n                  ? \"text-green-600 dark:text-green-400\" \n                  : \"text-red-600 dark:text-red-400\"\n              }`} />\n            </div>\n            <div>\n              <p className=\"font-medium text-sm\">Vector Memory</p>\n              <p className=\"text-xs text-muted-foreground\">\n                {services.qdrant?.vectors_count || 0} items stored\n              </p>\n            </div>\n          </div>\n          <Badge variant={services.qdrant?.connected ? \"default\" : \"destructive\"} className=\"text-xs\">\n            {services.qdrant?.connected ? \"Online\" : \"Offline\"}\n          </Badge>\n        </div>\n\n        {/* Ollama */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className={`p-2 rounded-lg ${\n              services.ollama?.connected \n                ? \"bg-green-100 dark:bg-green-900/30\" \n                : \"bg-red-100 dark:bg-red-900/30\"\n            }`}>\n              <Brain className={`w-4 h-4 ${\n                services.ollama?.connected \n                  ? \"text-green-600 dark:text-green-400\" \n                  : \"text-red-600 dark:text-red-400\"\n              }`} />\n            </div>\n            <div>\n              <p className=\"font-medium text-sm\">AI Models</p>\n              <p className=\"text-xs text-muted-foreground\">\n                {services.ollama?.models?.length || 0} models\n              </p>\n            </div>\n          </div>\n          <Badge variant={services.ollama?.connected ? \"default\" : \"destructive\"} className=\"text-xs\">\n            {services.ollama?.connected ? \"Online\" : \"Offline\"}\n          </Badge>\n        </div>\n\n        {/* Whisper */}\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className={`p-2 rounded-lg ${\n              services.whisper?.loaded \n                ? \"bg-green-100 dark:bg-green-900/30\" \n                : \"bg-red-100 dark:bg-red-900/30\"\n            }`}>\n              <Mic className={`w-4 h-4 ${\n                services.whisper?.loaded \n                  ? \"text-green-600 dark:text-green-400\" \n                  : \"text-red-600 dark:text-red-400\"\n              }`} />\n            </div>\n            <div>\n              <p className=\"font-medium text-sm\">Speech-to-Text</p>\n              <p className=\"text-xs text-muted-foreground\">\n                {services.whisper?.model || \"Not loaded\"}\n              </p>\n            </div>\n          </div>\n          <Badge variant={services.whisper?.loaded ? \"default\" : \"destructive\"} className=\"text-xs\">\n            {services.whisper?.loaded ? \"Ready\" : \"Offline\"}\n          </Badge>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7732, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/lib/hooks/usePersistentTasks.ts"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect, useCallback } from 'react'\nimport { useAuth } from '@/lib/hooks/useAuth'\nimport { useToast } from '@/lib/hooks/useToast'\nimport { useLoading } from '@/components/ui/loading'\nimport {\n  getTasks, updateTask, createTask, deleteTask, toggleSubtask,\n  getStudyTasks, createStudyTask, toggleTaskComplete, deleteStudyTask,\n  type Task, type StudyTask\n} from '@/lib/firestore'\n\ninterface TaskState {\n  tasks: Task[]\n  studyTasks: { [planId: string]: StudyTask[] }\n  loading: boolean\n  saving: boolean\n  error: string | null\n}\n\ninterface OptimisticUpdate {\n  id: string\n  type: 'task' | 'studyTask'\n  planId?: string\n  previousState: any\n  newState: any\n}\n\nexport function usePersistentTasks() {\n  const { user } = useAuth()\n  const { toast } = useToast()\n  const { setLoading } = useLoading()\n  const [state, setState] = useState<TaskState>({\n    tasks: [],\n    studyTasks: {},\n    loading: true,\n    saving: false,\n    error: null\n  })\n\n  const [pendingUpdates, setPendingUpdates] = useState<OptimisticUpdate[]>([])\n\n  // Load all tasks on mount\n  useEffect(() => {\n    if (!user) return\n\n    const loadTasks = async () => {\n      try {\n        setState(prev => ({ ...prev, loading: true, error: null }))\n\n        const regularTasks = await getTasks(user.uid)\n        setState(prev => ({\n          ...prev,\n          tasks: regularTasks,\n          loading: false\n        }))\n      } catch (error) {\n        console.error('Error loading tasks:', error)\n        setState(prev => ({\n          ...prev,\n          loading: false,\n          error: 'Failed to load tasks'\n        }))\n      }\n    }\n\n    loadTasks()\n  }, [user])\n\n  // Load study tasks for a specific plan\n  const loadStudyTasks = useCallback(async (planId: string) => {\n    if (!user) return\n\n    try {\n      const tasks = await getStudyTasks(user.uid, planId)\n      setState(prev => ({\n        ...prev,\n        studyTasks: { ...prev.studyTasks, [planId]: tasks }\n      }))\n    } catch (error) {\n      console.error('Error loading study tasks:', error)\n      setState(prev => ({ ...prev, error: 'Failed to load study tasks' }))\n    }\n  }, [user])\n\n  // Optimistic update helper\n  const optimisticUpdate = useCallback(async (\n    updateFn: () => Promise<void>,\n    optimisticChange: () => void,\n    rollbackChange: () => void,\n    updateId: string,\n    updateType: 'task' | 'studyTask',\n    planId?: string\n  ) => {\n    // Apply optimistic change\n    optimisticChange()\n    setState(prev => ({ ...prev, saving: true, error: null }))\n    setLoading(true, 'Saving...')\n\n    try {\n      await updateFn()\n      setState(prev => ({ ...prev, saving: false }))\n      setLoading(false)\n      toast({\n        title: \"Success\",\n        description: \"Changes saved successfully\",\n        variant: \"success\"\n      })\n    } catch (error) {\n      console.error('Error saving task:', error)\n\n      // Rollback optimistic change\n      rollbackChange()\n      setState(prev => ({\n        ...prev,\n        saving: false,\n        error: 'Failed to save changes'\n      }))\n      setLoading(false)\n      toast({\n        title: \"Error\",\n        description: \"Failed to save changes. Please try again.\",\n        variant: \"destructive\"\n      })\n    }\n  }, [toast, setLoading])\n\n  // Task completion toggle with optimistic updates\n  const toggleTask = useCallback(async (taskId: string, completed: boolean) => {\n    const task = state.tasks.find((t: Task) => t.id === taskId)\n    if (!task) return\n\n    const previousTask = { ...task }\n    const updatedTask: Task = { ...task, status: completed ? 'done' : 'todo' }\n\n    await optimisticUpdate(\n      () => updateTask(taskId, { status: updatedTask.status as Task['status'] }),\n      () => setState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map((t: Task) => t.id === taskId ? updatedTask : t)\n      })),\n      () => setState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map((t: Task) => t.id === taskId ? previousTask : t)\n      })),\n      taskId,\n      'task'\n    )\n  }, [state.tasks, optimisticUpdate])\n\n  // Study task completion toggle\n  const toggleStudyTask = useCallback(async (taskId: string, completed: boolean, planId: string) => {\n    const planTasks = state.studyTasks[planId] || []\n    const task = planTasks.find((t: StudyTask) => t.id === taskId)\n    if (!task) return\n\n    const previousTask = { ...task }\n    const updatedTask = { ...task, completed }\n\n    await optimisticUpdate(\n      () => toggleTaskComplete(taskId, completed, planId),\n      () => setState(prev => ({\n        ...prev,\n        studyTasks: {\n          ...prev.studyTasks,\n          [planId]: prev.studyTasks[planId]?.map((t: StudyTask) => t.id === taskId ? updatedTask : t) || []\n        }\n      })),\n      () => setState(prev => ({\n        ...prev,\n        studyTasks: {\n          ...prev.studyTasks,\n          [planId]: prev.studyTasks[planId]?.map((t: StudyTask) => t.id === taskId ? previousTask : t) || []\n        }\n      })),\n      taskId,\n      'studyTask',\n      planId\n    )\n  }, [state.studyTasks, optimisticUpdate])\n\n  // Create new task\n  const addTask = useCallback(async (taskData: Omit<Task, 'id' | 'createdAt' | 'updatedAt'>) => {\n    if (!user) return\n\n    const tempId = `temp-${Date.now()}`\n    const tempTask: Task = {\n      id: tempId,\n      ...taskData,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    }\n\n    // Optimistic add\n    setState(prev => ({\n      ...prev,\n      tasks: [...prev.tasks, tempTask],\n      saving: true\n    }))\n\n    try {\n      const realId = await createTask(taskData)\n      setState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map((t: Task) => t.id === tempId ? { ...t, id: realId } : t),\n        saving: false\n      }))\n    } catch (error) {\n      console.error('Error creating task:', error)\n      // Remove temp task on error\n      setState(prev => ({\n        ...prev,\n        tasks: prev.tasks.filter((t: Task) => t.id !== tempId),\n        saving: false,\n        error: 'Failed to create task'\n      }))\n    }\n  }, [user])\n\n  // Delete task\n  const removeTask = useCallback(async (taskId: string) => {\n    const task = state.tasks.find((t: Task) => t.id === taskId)\n    if (!task) return\n\n    // Optimistic remove\n    setState(prev => ({\n      ...prev,\n      tasks: prev.tasks.filter((t: Task) => t.id !== taskId),\n      saving: true\n    }))\n\n    try {\n      await deleteTask(taskId)\n      setState(prev => ({ ...prev, saving: false }))\n    } catch (error) {\n      console.error('Error deleting task:', error)\n      // Restore task on error\n      setState(prev => ({\n        ...prev,\n        tasks: [...prev.tasks, task],\n        saving: false,\n        error: 'Failed to delete task'\n      }))\n    }\n  }, [state.tasks])\n\n  return {\n    ...state,\n    loadStudyTasks,\n    toggleTask,\n    toggleStudyTask,\n    addTask,\n    removeTask\n  }\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;;AANA;;;;;;AA4BO,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,uIAAQ;IAC1B,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,6IAAU;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAY;QAC5C,OAAO,EAAE;QACT,YAAY,CAAC;QACb,SAAS;QACT,QAAQ;QACR,OAAO;IACT;IAEA,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAqB,EAAE;IAE3E,0BAA0B;IAC1B,IAAA,0KAAS;wCAAC;YACR,IAAI,CAAC,MAAM;YAEX,MAAM;0DAAY;oBAChB,IAAI;wBACF;sEAAS,CAAA,OAAQ,CAAC;oCAAE,GAAG,IAAI;oCAAE,SAAS;oCAAM,OAAO;gCAAK,CAAC;;wBAEzD,MAAM,eAAe,MAAM,IAAA,+HAAQ,EAAC,KAAK,GAAG;wBAC5C;sEAAS,CAAA,OAAQ,CAAC;oCAChB,GAAG,IAAI;oCACP,OAAO;oCACP,SAAS;gCACX,CAAC;;oBACH,EAAE,OAAO,OAAO;wBACd,QAAQ,KAAK,CAAC,wBAAwB;wBACtC;sEAAS,CAAA,OAAQ,CAAC;oCAChB,GAAG,IAAI;oCACP,SAAS;oCACT,OAAO;gCACT,CAAC;;oBACH;gBACF;;YAEA;QACF;uCAAG;QAAC;KAAK;IAET,uCAAuC;IACvC,MAAM,iBAAiB,IAAA,4KAAW;0DAAC,OAAO;YACxC,IAAI,CAAC,MAAM;YAEX,IAAI;gBACF,MAAM,QAAQ,MAAM,IAAA,oIAAa,EAAC,KAAK,GAAG,EAAE;gBAC5C;sEAAS,CAAA,OAAQ,CAAC;4BAChB,GAAG,IAAI;4BACP,YAAY;gCAAE,GAAG,KAAK,UAAU;gCAAE,CAAC,OAAO,EAAE;4BAAM;wBACpD,CAAC;;YACH,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C;sEAAS,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,OAAO;wBAA6B,CAAC;;YACpE;QACF;yDAAG;QAAC;KAAK;IAET,2BAA2B;IAC3B,MAAM,mBAAmB,IAAA,4KAAW;4DAAC,OACnC,UACA,kBACA,gBACA,UACA,YACA;YAEA,0BAA0B;YAC1B;YACA;oEAAS,CAAA,OAAQ,CAAC;wBAAE,GAAG,IAAI;wBAAE,QAAQ;wBAAM,OAAO;oBAAK,CAAC;;YACxD,WAAW,MAAM;YAEjB,IAAI;gBACF,MAAM;gBACN;wEAAS,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,QAAQ;wBAAM,CAAC;;gBAC5C,WAAW;gBACX,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,sBAAsB;gBAEpC,6BAA6B;gBAC7B;gBACA;wEAAS,CAAA,OAAQ,CAAC;4BAChB,GAAG,IAAI;4BACP,QAAQ;4BACR,OAAO;wBACT,CAAC;;gBACD,WAAW;gBACX,MAAM;oBACJ,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;YACF;QACF;2DAAG;QAAC;QAAO;KAAW;IAEtB,iDAAiD;IACjD,MAAM,aAAa,IAAA,4KAAW;sDAAC,OAAO,QAAgB;YACpD,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI;mEAAC,CAAC,IAAY,EAAE,EAAE,KAAK;;YACpD,IAAI,CAAC,MAAM;YAEX,MAAM,eAAe;gBAAE,GAAG,IAAI;YAAC;YAC/B,MAAM,cAAoB;gBAAE,GAAG,IAAI;gBAAE,QAAQ,YAAY,SAAS;YAAO;YAEzE,MAAM;8DACJ,IAAM,IAAA,iIAAU,EAAC,QAAQ;wBAAE,QAAQ,YAAY,MAAM;oBAAmB;;8DACxE,IAAM;sEAAS,CAAA,OAAQ,CAAC;gCACtB,GAAG,IAAI;gCACP,OAAO,KAAK,KAAK,CAAC,GAAG;kFAAC,CAAC,IAAY,EAAE,EAAE,KAAK,SAAS,cAAc;;4BACrE,CAAC;;;8DACD,IAAM;sEAAS,CAAA,OAAQ,CAAC;gCACtB,GAAG,IAAI;gCACP,OAAO,KAAK,KAAK,CAAC,GAAG;kFAAC,CAAC,IAAY,EAAE,EAAE,KAAK,SAAS,eAAe;;4BACtE,CAAC;;6DACD,QACA;QAEJ;qDAAG;QAAC,MAAM,KAAK;QAAE;KAAiB;IAElC,+BAA+B;IAC/B,MAAM,kBAAkB,IAAA,4KAAW;2DAAC,OAAO,QAAgB,WAAoB;YAC7E,MAAM,YAAY,MAAM,UAAU,CAAC,OAAO,IAAI,EAAE;YAChD,MAAM,OAAO,UAAU,IAAI;wEAAC,CAAC,IAAiB,EAAE,EAAE,KAAK;;YACvD,IAAI,CAAC,MAAM;YAEX,MAAM,eAAe;gBAAE,GAAG,IAAI;YAAC;YAC/B,MAAM,cAAc;gBAAE,GAAG,IAAI;gBAAE;YAAU;YAEzC,MAAM;mEACJ,IAAM,IAAA,yIAAkB,EAAC,QAAQ,WAAW;;mEAC5C,IAAM;2EAAS,CAAA,OAAQ,CAAC;gCACtB,GAAG,IAAI;gCACP,YAAY;oCACV,GAAG,KAAK,UAAU;oCAClB,CAAC,OAAO,EAAE,KAAK,UAAU,CAAC,OAAO,EAAE;2FAAI,CAAC,IAAiB,EAAE,EAAE,KAAK,SAAS,cAAc;6FAAM,EAAE;gCACnG;4BACF,CAAC;;;mEACD,IAAM;2EAAS,CAAA,OAAQ,CAAC;gCACtB,GAAG,IAAI;gCACP,YAAY;oCACV,GAAG,KAAK,UAAU;oCAClB,CAAC,OAAO,EAAE,KAAK,UAAU,CAAC,OAAO,EAAE;2FAAI,CAAC,IAAiB,EAAE,EAAE,KAAK,SAAS,eAAe;6FAAM,EAAE;gCACpG;4BACF,CAAC;;kEACD,QACA,aACA;QAEJ;0DAAG;QAAC,MAAM,UAAU;QAAE;KAAiB;IAEvC,kBAAkB;IAClB,MAAM,UAAU,IAAA,4KAAW;mDAAC,OAAO;YACjC,IAAI,CAAC,MAAM;YAEX,MAAM,SAAS,CAAC,KAAK,EAAE,KAAK,GAAG,IAAI;YACnC,MAAM,WAAiB;gBACrB,IAAI;gBACJ,GAAG,QAAQ;gBACX,WAAW,IAAI;gBACf,WAAW,IAAI;YACjB;YAEA,iBAAiB;YACjB;2DAAS,CAAA,OAAQ,CAAC;wBAChB,GAAG,IAAI;wBACP,OAAO;+BAAI,KAAK,KAAK;4BAAE;yBAAS;wBAChC,QAAQ;oBACV,CAAC;;YAED,IAAI;gBACF,MAAM,SAAS,MAAM,IAAA,iIAAU,EAAC;gBAChC;+DAAS,CAAA,OAAQ,CAAC;4BAChB,GAAG,IAAI;4BACP,OAAO,KAAK,KAAK,CAAC,GAAG;2EAAC,CAAC,IAAY,EAAE,EAAE,KAAK,SAAS;wCAAE,GAAG,CAAC;wCAAE,IAAI;oCAAO,IAAI;;4BAC5E,QAAQ;wBACV,CAAC;;YACH,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,4BAA4B;gBAC5B;+DAAS,CAAA,OAAQ,CAAC;4BAChB,GAAG,IAAI;4BACP,OAAO,KAAK,KAAK,CAAC,MAAM;2EAAC,CAAC,IAAY,EAAE,EAAE,KAAK;;4BAC/C,QAAQ;4BACR,OAAO;wBACT,CAAC;;YACH;QACF;kDAAG;QAAC;KAAK;IAET,cAAc;IACd,MAAM,aAAa,IAAA,4KAAW;sDAAC,OAAO;YACpC,MAAM,OAAO,MAAM,KAAK,CAAC,IAAI;mEAAC,CAAC,IAAY,EAAE,EAAE,KAAK;;YACpD,IAAI,CAAC,MAAM;YAEX,oBAAoB;YACpB;8DAAS,CAAA,OAAQ,CAAC;wBAChB,GAAG,IAAI;wBACP,OAAO,KAAK,KAAK,CAAC,MAAM;0EAAC,CAAC,IAAY,EAAE,EAAE,KAAK;;wBAC/C,QAAQ;oBACV,CAAC;;YAED,IAAI;gBACF,MAAM,IAAA,iIAAU,EAAC;gBACjB;kEAAS,CAAA,OAAQ,CAAC;4BAAE,GAAG,IAAI;4BAAE,QAAQ;wBAAM,CAAC;;YAC9C,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,wBAAwB;gBACxB;kEAAS,CAAA,OAAQ,CAAC;4BAChB,GAAG,IAAI;4BACP,OAAO;mCAAI,KAAK,KAAK;gCAAE;6BAAK;4BAC5B,QAAQ;4BACR,OAAO;wBACT,CAAC;;YACH;QACF;qDAAG;QAAC,MAAM,KAAK;KAAC;IAEhB,OAAO;QACL,GAAG,KAAK;QACR;QACA;QACA;QACA;QACA;IACF;AACF;GAlOgB;;QACG,qIAAO;QACN,uIAAQ;QACH,6IAAU"}},
    {"offset": {"line": 8088, "column": 0}, "map": {"version":3,"sources":["file:///Users/hridey/Desktop/Studyassistant/app/dashboard/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { onAuthStateChanged, type User } from \"firebase/auth\"\nimport { auth } from \"@/lib/firebase\"\nimport { \n  getCalendarEvents, getHabits, getDailyStats, getCourses, toggleHabitCompletion,\n  type Task, type CalendarEvent, type Habit, type DailyStats, type Course\n} from \"@/lib/firestore\"\nimport { PomodoroTimer } from \"@/components/pomodoro-timer\"\nimport { Button } from \"@/components/ui/button\"\nimport Layout from \"@/components/Layout\"\nimport { NextActions } from \"@/components/dashboard/NextActions\"\nimport { FocusHero } from \"@/components/dashboard/FocusHero\"\nimport { TodayTasks } from \"@/components/dashboard/TodayTasks\"\nimport { TodaySchedule } from \"@/components/dashboard/TodaySchedule\"\nimport { TodayAtGlance } from \"@/components/dashboard/TodayAtGlance\"\nimport { HabitsBlock } from \"@/components/dashboard/HabitsBlock\"\nimport { StreakTracker } from \"@/components/dashboard/StreakTracker\"\nimport { AISystemHealth } from \"@/components/dashboard/AISystemHealth\"\nimport { JarvisAssistant } from \"@/components/jarvis-assistant\"\nimport { usePersistentTasks } from \"@/lib/hooks/usePersistentTasks\"\n\nexport default function DashboardPage() {\n  const router = useRouter()\n  const [user, setUser] = useState<User | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [upcomingEvents, setUpcomingEvents] = useState<CalendarEvent[]>([])\n  const [habits, setHabits] = useState<Habit[]>([])\n  const [dailyStats, setDailyStats] = useState<DailyStats | null>(null)\n  const [courses, setCourses] = useState<Course[]>([])\n  const [currentTime, setCurrentTime] = useState(new Date())\n  const [showPomodoro, setShowPomodoro] = useState(false)\n  const [focusTask, setFocusTask] = useState<Task | null>(null)\n\n  const { tasks: allTasks, toggleTask } = usePersistentTasks()\n\n  useEffect(() => {\n    const timer = setInterval(() => setCurrentTime(new Date()), 60000)\n    return () => clearInterval(timer)\n  }, [])\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n      setUser(currentUser)\n      if (currentUser) {\n        await loadDashboardData(currentUser.uid)\n      } else {\n        router.push(\"/login\")\n      }\n      setLoading(false)\n    })\n    return () => unsubscribe()\n  }, [router, allTasks])\n\n  const loadDashboardData = async (userId: string) => {\n    try {\n      const today = new Date()\n      const todayStr = today.toISOString().split('T')[0]\n      const endOfDay = new Date(today)\n      endOfDay.setHours(23, 59, 59, 999)\n\n      const [events, userHabits, stats, userCourses] = await Promise.all([\n        getCalendarEvents(userId, { start: today, end: endOfDay }),\n        getHabits(userId),\n        getDailyStats(userId, todayStr),\n        getCourses(userId)\n      ])\n\n      // Filter today's tasks from the persistent tasks hook\n      const todaysTasks = allTasks.filter(t =>\n        t.status !== 'done' &&\n        (t.scheduledDate?.toDateString() === today.toDateString() ||\n         t.dueDate?.toDateString() === today.toDateString() ||\n         t.priority === 'urgent')\n      ).slice(0, 5)\n\n      setUpcomingEvents(events.slice(0, 4))\n      setHabits(userHabits)\n      setDailyStats(stats)\n      setCourses(userCourses)\n\n      // Set focus task to highest priority incomplete task\n      const highPriorityTask = todaysTasks.find(t => t.status === 'in-progress') || todaysTasks[0]\n      if (highPriorityTask) setFocusTask(highPriorityTask)\n    } catch (error) {\n      console.error(\"Error loading dashboard:\", error)\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-background flex items-center justify-center\">\n        <div className=\"animate-spin w-8 h-8 border-2 border-primary border-t-transparent rounded-full\" />\n      </div>\n    )\n  }\n\n  const todayDateStr = new Date().toISOString().split('T')[0]\n  const todayHabitsCompleted = habits.filter(h => \n    h.completions.some(c => c.date === todayDateStr && c.completed)\n  ).length\n\n  return (\n    <Layout \n      title=\"Dashboard\" \n      subtitle=\"Your study command center â€“ track progress, start sessions, and get AI-powered insights\"\n    >\n      {/* 2. Today at a Glance */}\n      <TodayAtGlance />\n\n      {/* Streak Tracker */}\n      <StreakTracker />\n\n      {/* 3. Next Best Actions */}\n      <NextActions onStartFocus={() => setShowPomodoro(true)} />\n\n      {/* 4. Focus Mode */}\n      <FocusHero\n        courses={courses}\n        todayTasks={allTasks.filter((t: Task) =>\n          t.status !== 'done' &&\n          (t.scheduledDate?.toDateString() === new Date().toDateString() ||\n           t.dueDate?.toDateString() === new Date().toDateString() ||\n           t.priority === 'urgent')\n        ).slice(0, 5)}\n        onStartFocus={(courseId, taskId) => {\n          const filteredTasks = allTasks.filter((t: Task) =>\n            t.status !== 'done' &&\n            (t.scheduledDate?.toDateString() === new Date().toDateString() ||\n             t.dueDate?.toDateString() === new Date().toDateString() ||\n             t.priority === 'urgent')\n          ).slice(0, 5)\n          const selectedTask = filteredTasks.find((t: Task) => t.id === taskId)\n          setFocusTask(selectedTask || null)\n          setShowPomodoro(true)\n        }}\n        onAddQuickTask={() => setFocusTask(null)}\n      />\n\n      {/* 5. Today Tasks */}\n      <TodayTasks\n        tasks={allTasks.filter(t =>\n          t.status !== 'done' &&\n          (t.scheduledDate?.toDateString() === new Date().toDateString() ||\n           t.dueDate?.toDateString() === new Date().toDateString() ||\n           t.priority === 'urgent')\n        ).slice(0, 5)}\n        onTaskClick={setFocusTask}\n        onTaskUpdate={async (updatedTask) => {\n          // Use the persistent tasks hook to update\n          if (updatedTask.status === 'done') {\n            await toggleTask(updatedTask.id, true)\n          } else {\n            await toggleTask(updatedTask.id, false)\n          }\n        }}\n      />\n\n      {/* 6. Today Schedule */}\n      <TodaySchedule events={upcomingEvents} />\n\n      {/* 7. Habits */}\n      <HabitsBlock\n        habits={habits}\n        onToggleHabit={async (habitId) => {\n          if (!user) return\n          try {\n            await toggleHabitCompletion(user.uid, habitId)\n            // Refresh habits\n            const updatedHabits = await getHabits(user.uid)\n            setHabits(updatedHabits)\n          } catch (error) {\n            console.error(\"Error toggling habit:\", error)\n          }\n        }}\n        onManageHabits={() => router.push('/habits')}\n        onAddHabit={() => router.push('/habits')}\n      />\n\n      {/* 8. AI System Health */}\n      <AISystemHealth />\n\n      {/* 9. JARVIS Dock */}\n      <JarvisAssistant\n        context={{\n          currentPage: 'dashboard',\n          todayTasks: allTasks.filter(t =>\n            t.status !== 'done' &&\n            (t.scheduledDate?.toDateString() === new Date().toDateString() ||\n             t.dueDate?.toDateString() === new Date().toDateString() ||\n             t.priority === 'urgent')\n          ),\n          courses,\n          habits,\n          dailyStats: dailyStats || undefined\n        }}\n      />\n\n      {/* Pomodoro Timer Modal */}\n      {showPomodoro && (\n        <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-slate-800 rounded-xl border border-slate-700 shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto\">\n            <PomodoroTimer\n              task={focusTask}\n              onClose={() => setShowPomodoro(false)}\n            />\n          </div>\n        </div>\n      )}\n    </Layout>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}