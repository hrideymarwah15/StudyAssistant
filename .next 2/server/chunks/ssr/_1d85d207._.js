module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},53722,60246,1027,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>c],53722);let d=(0,b.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>d],60246);let e=(0,b.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>e],1027)},24669,a=>{"use strict";let b=(0,a.i(70106).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);a.s(["TrendingUp",()=>b],24669)},11630,a=>{"use strict";var b=a.i(87924),c=a.i(27508),d=a.i(40695),e=a.i(15618),f=a.i(33441),g=a.i(33508),h=a.i(50429),i=a.i(24669),j=a.i(16106),k=a.i(96221),l=a.i(72131),m=a.i(50944);a.i(30485);var n=a.i(31052),o=a.i(18740),p=a.i(19337);function q(){let a=(0,m.useRouter)(),[q,r]=(0,l.useState)(null),[s,t]=(0,l.useState)(!0),[u,v]=(0,l.useState)([]),[w,x]=(0,l.useState)(!1),[y,z]=(0,l.useState)(!1),[A,B]=(0,l.useState)({name:"",description:"",frequency:"daily",targetCount:1,color:"#3b82f6"});(0,l.useEffect)(()=>{let b=(0,n.onAuthStateChanged)(o.auth,async b=>{if(r(b),b)try{let a=await (0,p.getHabits)(b.uid);if(0===a.length){for(let a of[{name:"Daily Study Session",description:"Complete at least 1 hour of focused study",frequency:"daily",targetCount:1,color:"#3b82f6",userId:b.uid,isArchived:!1},{name:"Review Flashcards",description:"Review 10 flashcards using spaced repetition",frequency:"daily",targetCount:1,color:"#10b981",userId:b.uid,isArchived:!1},{name:"Practice Problems",description:"Solve 5 practice problems in your subject",frequency:"daily",targetCount:1,color:"#f59e0b",userId:b.uid,isArchived:!1}])await (0,p.createHabit)(a);a=await (0,p.getHabits)(b.uid)}v(a)}catch(a){console.error("Error loading habits:",a)}else a.push("/login");t(!1)});return()=>b()},[a]);let C=async()=>{if(q&&A.name.trim()){z(!0);try{await (0,p.createHabit)({userId:q.uid,name:A.name.trim(),description:A.description.trim(),frequency:A.frequency,targetCount:A.targetCount,color:A.color,isArchived:!1});let a=await (0,p.getHabits)(q.uid);v(a),B({name:"",description:"",frequency:"daily",targetCount:1,color:"#3b82f6"}),x(!1)}catch(a){console.error("Error creating habit:",a)}finally{z(!1)}}},D=async a=>{let b=new Date().toISOString().split("T")[0];try{await (0,p.toggleHabitCompletion)(a,b);let c=await (0,p.getHabits)(q.uid);v(c)}catch(a){console.error("Error toggling habit completion:",a)}},E=a=>{let b=new Date().toISOString().split("T")[0];return a.completions?.some(a=>a.date===b&&a.completed)||!1},F=a=>a.completions&&0!==a.completions.length?Math.round(a.completions.filter(a=>a.completed).length/a.completions.length*100):0;return s?(0,b.jsx)(c.default,{children:(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,b.jsx)(k.Loader2,{className:"w-8 h-8 animate-spin text-slate-400"})})}):(0,b.jsxs)(c.default,{title:"Habits",subtitle:"Build and maintain consistent study routines",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-slate-400",children:"Build consistent study routines and track your progress"})}),(0,b.jsxs)(d.Button,{onClick:()=>x(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"}),"New Habit"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(h.Target,{className:"w-5 h-5 text-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Total Habits"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:u.length})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(f.Check,{className:"w-5 h-5 text-green-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Completed Today"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:u.filter(a=>E(a)).length})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(i.TrendingUp,{className:"w-5 h-5 text-purple-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Avg Completion"})]}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-slate-100",children:[u.length>0?Math.round(u.reduce((a,b)=>a+F(b),0)/u.length):0,"%"]})]}),(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(j.Flame,{className:"w-5 h-5 text-orange-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-400",children:"Longest Streak"})]}),(0,b.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:u.length>0?Math.max(...u.map(a=>a.longestStreak||0)):0})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:0===u.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(h.Target,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"Getting Started with Habits"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"We've added some sample habits to help you get started. Complete them daily to build streaks and improve your study routine!"}),(0,b.jsxs)("div",{className:"bg-slate-800/30 rounded-lg p-4 mb-6 max-w-md mx-auto",children:[(0,b.jsx)("p",{className:"text-sm text-slate-300 mb-2",children:"ðŸ’¡ Pro tip: Building streaks increases motivation!"}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Studies show that maintaining habits for 21+ days significantly improves long-term retention."})]})]}):u.map(a=>(0,b.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>D(a.id),className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-colors ${E(a)?"bg-green-500 border-green-500 text-white":"border-slate-600 hover:border-slate-500"}`,children:E(a)&&(0,b.jsx)(f.Check,{className:"w-4 h-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-slate-100",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-sm text-slate-400",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[(0,b.jsx)("span",{children:a.frequency}),(0,b.jsx)("span",{children:"â€¢"}),(0,b.jsxs)("span",{children:["Target: ",(a=>{let{targetCount:b,frequency:c}=a;return 1===b?"daily"===c?"Once per day":"Once per week":"daily"===c?`${b} times per day`:`${b} times per week`})(a)]})]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(j.Flame,{className:"w-4 h-4 text-orange-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-slate-100",children:a.currentStreak||0})]}),(0,b.jsx)("p",{className:"text-xs text-slate-400",children:"Current streak"})]})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[(0,b.jsx)("span",{children:"Completion Rate"}),(0,b.jsxs)("span",{children:[F(a),"%"]})]}),(0,b.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${F(a)}%`}})})]})]},a.id))}),w&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"w-full max-w-md bg-slate-800 border border-slate-700 rounded-xl shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-slate-100",children:"Create New Habit"}),(0,b.jsx)("button",{onClick:()=>x(!1),className:"p-2 hover:bg-slate-700 rounded-lg",children:(0,b.jsx)(g.X,{className:"w-5 h-5"})})]}),(0,b.jsxs)("div",{className:"p-6 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Habit Name"}),(0,b.jsx)("input",{type:"text",value:A.name,onChange:a=>B(b=>({...b,name:a.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400",placeholder:"e.g., Study for 1 hour daily"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Description (optional)"}),(0,b.jsx)("textarea",{value:A.description,onChange:a=>B(b=>({...b,description:a.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400 resize-none",rows:3,placeholder:"Describe your habit..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Frequency"}),(0,b.jsxs)("select",{value:A.frequency,onChange:a=>B(b=>({...b,frequency:a.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100",children:[(0,b.jsx)("option",{value:"daily",children:"Daily"}),(0,b.jsx)("option",{value:"weekly",children:"Weekly"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Target Count"}),(0,b.jsx)("input",{type:"number",min:1,value:A.targetCount,onChange:a=>B(b=>({...b,targetCount:parseInt(a.target.value)||1})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100"})]})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(d.Button,{variant:"outline",onClick:()=>x(!1),className:"flex-1",children:"Cancel"}),(0,b.jsxs)(d.Button,{onClick:C,disabled:!A.name.trim()||y,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[y?(0,b.jsx)(k.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):(0,b.jsx)(e.Plus,{className:"w-4 h-4 mr-2"}),"Create Habit"]})]})]})]})})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=_1d85d207._.js.map