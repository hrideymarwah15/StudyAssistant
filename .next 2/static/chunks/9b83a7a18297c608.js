(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,a,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},10980,61911,39312,e=>{"use strict";var a=e.i(75254);let s=(0,a.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>s],10980);let r=(0,a.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>r],61911);let t=(0,a.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>t],39312)},70065,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(47163);let t=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",e),...s}));t.displayName="Card";let i=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let l=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("h3",{ref:t,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...s}));l.displayName="CardTitle",s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let n=s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...s}));n.displayName="CardContent",s.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>n,"CardHeader",()=>i,"CardTitle",()=>l])},27341,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(81140),t=e.i(30030),i=e.i(42727),l=e.i(96626),n=e.i(48425),d=e.i(86318),o=e.i(69340),c=e.i(10772),u="Tabs",[m,x]=(0,t.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[h,f]=m(u),b=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:t,onValueChange:i,defaultValue:l,orientation:u="horizontal",dir:m,activationMode:x="automatic",...p}=e,f=(0,d.useDirection)(m),[b,g]=(0,o.useControllableState)({prop:t,onChange:i,defaultProp:l});return(0,a.jsx)(h,{scope:r,baseId:(0,c.useId)(),value:b,onValueChange:g,orientation:u,dir:f,activationMode:x,children:(0,a.jsx)(n.Primitive.div,{dir:f,"data-orientation":u,...p,ref:s})})});b.displayName=u;var g="TabsList",j=s.forwardRef((e,s)=>{let{__scopeTabs:r,loop:t=!0,...l}=e,d=f(g,r),o=p(r);return(0,a.jsx)(i.Root,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:t,children:(0,a.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:s})})});j.displayName=g;var y="TabsTrigger",v=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,disabled:d=!1,...o}=e,c=f(y,t),u=p(t),m=C(c.baseId,l),x=M(c.baseId,l),h=l===c.value;return(0,a.jsx)(i.Item,{asChild:!0,...u,focusable:!d,active:h,children:(0,a.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:m,...o,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||d||!e||c.onValueChange(l)})})})});v.displayName=y;var N="TabsContent",w=s.forwardRef((e,r)=>{let{__scopeTabs:t,value:i,forceMount:d,children:o,...c}=e,u=f(N,t),m=C(u.baseId,i),x=M(u.baseId,i),p=i===u.value,h=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(l.Presence,{present:d||p,children:({present:s})=>(0,a.jsx)(n.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:x,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&o})})});function C(e,a){return`${e}-trigger-${a}`}function M(e,a){return`${e}-content-${a}`}w.displayName=N;var k=e.i(47163);let T=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(j,{ref:r,className:(0,k.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));T.displayName=j.displayName;let S=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(v,{ref:r,className:(0,k.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));S.displayName=v.displayName;let R=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(w,{ref:r,className:(0,k.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));R.displayName=w.displayName,e.s(["Tabs",()=>b,"TabsContent",()=>R,"TabsList",()=>T,"TabsTrigger",()=>S],27341)},55436,e=>{"use strict";let a=(0,e.i(75254).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);e.s(["Search",()=>a],55436)},94983,e=>{"use strict";let a=(0,e.i(75254).default)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);e.s(["MessageCircle",()=>a],94983)},64030,e=>{"use strict";let a=(0,e.i(75254).default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>a],64030)},10708,e=>{"use strict";var a=e.i(43476),s=e.i(71645),r=e.i(48425),t=s.forwardRef((e,s)=>(0,a.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));t.displayName="Label";var i=e.i(25913),l=e.i(47163);let n=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t,{ref:r,className:(0,l.cn)(n(),e),...s}));d.displayName=t.displayName,e.s(["Label",()=>d],10708)},17918,e=>{"use strict";var a=e.i(43476),s=e.i(59015),r=e.i(71645),t=e.i(67881),i=e.i(70065),l=e.i(23750),n=e.i(84762),d=e.i(94179),o=e.i(63270),c=e.i(27341),u=e.i(30374),m=e.i(10708),x=e.i(61911),p=e.i(94983),h=e.i(87316),f=e.i(64030),b=e.i(7233),g=e.i(55436),j=e.i(75254);let y=(0,j.default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),v=(0,j.default)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);e.i(51718);var N=e.i(18357),w=e.i(76009),C=e.i(71898);function M({className:e=""}){let[s,d]=(0,r.useState)(null),[o,p]=(0,r.useState)([]),[h,f]=(0,r.useState)(!0),[j,y]=(0,r.useState)(!1),[v,M]=(0,r.useState)(""),[T,S]=(0,r.useState)({name:"",description:"",subject:"",maxMembers:10,isPrivate:!1});(0,r.useEffect)(()=>{let e=(0,N.onAuthStateChanged)(w.auth,async e=>{if(d(e),e)try{let e=await (0,C.getStudyGroups)();p(e)}catch(e){console.error("Error loading study groups:",e)}f(!1)});return()=>e()},[]);let R=async()=>{if(s&&T.name.trim())try{await (0,C.createStudyGroup)({name:T.name.trim(),description:T.description.trim(),subject:T.subject.trim(),maxMembers:T.maxMembers,isPrivate:T.isPrivate,createdBy:s.uid,members:[{userId:s.uid,displayName:s.displayName||s.email||"Anonymous",email:s.email||"",role:"admin",joinedAt:new Date,avatarUrl:s.photoURL||""}]});let e=await (0,C.getStudyGroups)();p(e),S({name:"",description:"",subject:"",maxMembers:10,isPrivate:!1}),y(!1)}catch(e){console.error("Error creating group:",e)}},D=async e=>{if(s)try{await (0,C.joinGroup)(e,{userId:s.uid,displayName:s.displayName||s.email||"Anonymous",email:s.email||"",role:"member",joinedAt:new Date,avatarUrl:s.photoURL||""});let a=await (0,C.getStudyGroups)();p(a)}catch(e){console.error("Error joining group:",e)}},G=o.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.subject.toLowerCase().includes(v.toLowerCase())||e.description.toLowerCase().includes(v.toLowerCase())),I=G.filter(e=>e.members.some(e=>e.userId===s?.uid)),L=G.filter(e=>!e.members.some(e=>e.userId===s?.uid)&&!e.isPrivate),P=o.filter(e=>e.members.some(e=>e.userId===s?.uid)),A=o.filter(e=>!e.members.some(e=>e.userId===s?.uid)&&!e.isPrivate);return h?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:`space-y-6 ${e}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,a.jsx)(x.Users,{className:"w-6 h-6"}),"Study Groups"]}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Collaborate and learn with peers"})]}),(0,a.jsxs)(u.Dialog,{open:j,onOpenChange:y,children:[(0,a.jsx)(u.DialogTrigger,{asChild:!0,children:(0,a.jsxs)(t.Button,{children:[(0,a.jsx)(b.Plus,{className:"w-4 h-4 mr-2"}),"Create Group"]})}),(0,a.jsxs)(u.DialogContent,{children:[(0,a.jsx)(u.DialogHeader,{children:(0,a.jsx)(u.DialogTitle,{children:"Create Study Group"})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Label,{htmlFor:"group-name",children:"Group Name"}),(0,a.jsx)(l.Input,{id:"group-name",value:T.name,onChange:e=>S(a=>({...a,name:e.target.value})),placeholder:"e.g., Calculus Study Group"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Label,{htmlFor:"group-subject",children:"Subject"}),(0,a.jsx)(l.Input,{id:"group-subject",value:T.subject,onChange:e=>S(a=>({...a,subject:e.target.value})),placeholder:"e.g., Mathematics"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Label,{htmlFor:"group-description",children:"Description"}),(0,a.jsx)(n.Textarea,{id:"group-description",value:T.description,onChange:e=>S(a=>({...a,description:e.target.value})),placeholder:"Describe your study group...",rows:3})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(m.Label,{htmlFor:"max-members",children:"Max Members"}),(0,a.jsx)(l.Input,{id:"max-members",type:"number",value:T.maxMembers,onChange:e=>S(a=>({...a,maxMembers:parseInt(e.target.value)||10})),min:2,max:50})]}),(0,a.jsx)(t.Button,{onClick:R,className:"w-full",children:"Create Group"})]})]})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(g.Search,{className:"w-4 h-4 absolute left-3 top-3 text-muted-foreground"}),(0,a.jsx)(l.Input,{placeholder:"Search groups...",value:v,onChange:e=>M(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(c.Tabs,{defaultValue:"my-groups",className:"space-y-4",children:[(0,a.jsxs)(c.TabsList,{children:[(0,a.jsxs)(c.TabsTrigger,{value:"my-groups",children:["My Groups (",P.length,")"]}),(0,a.jsxs)(c.TabsTrigger,{value:"available",children:["Available Groups (",A.length,")"]})]}),(0,a.jsx)(c.TabsContent,{value:"my-groups",className:"space-y-4",children:0===I.length?(0,a.jsx)(i.Card,{children:(0,a.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(x.Users,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No groups yet"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:"Join existing groups or create your own to start collaborating with peers."}),(0,a.jsxs)(t.Button,{onClick:()=>y(!0),children:[(0,a.jsx)(b.Plus,{className:"w-4 h-4 mr-2"}),"Create Your First Group"]})]})}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:I.map(e=>(0,a.jsx)(k,{group:e,user:s,isMember:!0},e.id))})}),(0,a.jsx)(c.TabsContent,{value:"available",className:"space-y-4",children:0===L.length?(0,a.jsx)(i.Card,{children:(0,a.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center py-8",children:[(0,a.jsx)(g.Search,{className:"w-12 h-12 text-muted-foreground mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No available groups"}),(0,a.jsx)("p",{className:"text-muted-foreground text-center",children:"Be the first to create a study group in your subject area!"})]})}):(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(e=>(0,a.jsx)(k,{group:e,user:s,isMember:!1,onJoin:()=>D(e.id)},e.id))})})]})]})}function k({group:e,user:s,isMember:r,onJoin:l}){let n=e.members.find(e=>e.userId===s?.uid)?.role;return(0,a.jsxs)(i.Card,{className:"hover:shadow-md transition-shadow",children:[(0,a.jsx)(i.CardHeader,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(i.CardTitle,{className:"text-lg",children:e.name}),(0,a.jsx)(d.Badge,{variant:"secondary",className:"mt-1",children:e.subject})]}),"admin"===n&&(0,a.jsx)(v,{className:"w-4 h-4 text-yellow-500"})]})}),(0,a.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Users,{className:"w-4 h-4 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.members.length,"/",e.maxMembers," members"]})]}),(0,a.jsxs)("div",{className:"flex -space-x-2",children:[e.members.slice(0,3).map((e,s)=>(0,a.jsxs)(o.Avatar,{className:"w-6 h-6 border-2 border-background",children:[(0,a.jsx)(o.AvatarImage,{src:e.avatarUrl}),(0,a.jsx)(o.AvatarFallback,{className:"text-xs",children:e.displayName.charAt(0).toUpperCase()})]},s)),e.members.length>3&&(0,a.jsx)("div",{className:"w-6 h-6 rounded-full bg-muted border-2 border-background flex items-center justify-center",children:(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:["+",e.members.length-3]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(p.MessageCircle,{className:"w-4 h-4 mx-auto mb-1 text-blue-500"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Discussions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.Calendar,{className:"w-4 h-4 mx-auto mb-1 text-green-500"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Sessions"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(f.Trophy,{className:"w-4 h-4 mx-auto mb-1 text-yellow-500"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:"Goals"})]})]}),r?(0,a.jsxs)(t.Button,{variant:"outline",className:"w-full",children:[(0,a.jsx)(p.MessageCircle,{className:"w-4 h-4 mr-2"}),"Open Group"]}):e.members.length>=(e.maxMembers||10)?(0,a.jsxs)(t.Button,{disabled:!0,className:"w-full",children:[(0,a.jsx)(x.Users,{className:"w-4 h-4 mr-2"}),"Group Full"]}):(0,a.jsxs)(t.Button,{onClick:l,className:"w-full",children:[(0,a.jsx)(y,{className:"w-4 h-4 mr-2"}),"Join Group"]})]})]})}function T(){return(0,a.jsx)(s.default,{title:"Study Groups",subtitle:"Connect with fellow students and study together",children:(0,a.jsx)(M,{})})}e.s(["default",()=>T],17918)}]);