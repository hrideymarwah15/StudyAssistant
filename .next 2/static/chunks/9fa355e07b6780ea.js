(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,398,(e,t,r)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},48362,(e,t,r)=>{"use strict";var a=e.r(398);function n(){}function s(){}s.resetWarningCache=n,t.exports=function(){function e(e,t,r,n,s,i){if(i!==a){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:n};return r.PropTypes=r,r}},21290,(e,t,r)=>{t.exports=e.r(48362)()},16474,(e,t,r)=>{"use strict";r.__esModule=!0,r.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(0===r.length)return!0;var a=e.name||"",n=(e.type||"").toLowerCase(),s=n.replace(/\/.*$/,"");return r.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?a.toLowerCase().endsWith(t):t.endsWith("/*")?s===t.replace(/\/.*$/,""):n===t})}return!0}},89523,e=>{"use strict";var t=e.i(43476),r=e.i(59015),a=e.i(67881),n=e.i(69074),s=e.i(55436),i=e.i(10980),l=e.i(78583),o=e.i(75254);let c=(0,o.default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var d=e.i(31278),u=e.i(27612);let p=(0,o.default)("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),m=(0,o.default)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),f=(0,o.default)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);var h=e.i(71689),x=e.i(37727),g=e.i(55711),b=e.i(83086);let y=(0,o.default)("FileBox",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]),v=(0,o.default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),j=(0,o.default)("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);var w=e.i(3116),N=e.i(71645),k=e.i(18566);e.i(51718);var C=e.i(18357),D=e.i(76009),A=e.i(71898),O=e.i(21290),F=e.i(90571),S=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function P(e,t){var r=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var r=t.split(".").pop().toLowerCase(),a=S.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!=typeof r.path){var a=e.webkitRelativePath;Object.defineProperty(r,"path",{value:"string"==typeof t?t:"string"==typeof a&&a.length>0?a:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}var E=[".DS_Store","Thumbs.db"];function M(e){return"object"==typeof e&&null!==e}function _(e){return e.filter(function(e){return -1===E.indexOf(e.name)})}function T(e){if(null===e)return[];for(var t=[],r=0;r<e.length;r++){var a=e[r];t.push(a)}return t}function z(e){if("function"!=typeof e.webkitGetAsEntry)return L(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?R(t):L(e)}function L(e){var t=e.getAsFile();return t?Promise.resolve(P(t)):Promise.reject("".concat(e," is not a File"))}function I(e){return(0,F.__awaiter)(this,void 0,void 0,function(){return(0,F.__generator)(this,function(t){return[2,e.isDirectory?R(e):function(e){return(0,F.__awaiter)(this,void 0,void 0,function(){return(0,F.__generator)(this,function(t){return[2,new Promise(function(t,r){e.file(function(r){t(P(r,e.fullPath))},function(e){r(e)})})]})})}(e)]})})}function R(e){var t=e.createReader();return new Promise(function(e,r){var a=[];!function n(){var s=this;t.readEntries(function(t){return(0,F.__awaiter)(s,void 0,void 0,function(){var s;return(0,F.__generator)(this,function(i){switch(i.label){case 0:if(t.length)return[3,5];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return e(i.sent()),[3,4];case 3:return r(i.sent()),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(I)),a.push(s),n(),i.label=6;case 6:return[2]}})})},function(e){r(e)})}()})}var B=e.i(16474);function $(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||W(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){G(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function G(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return s}}(e,t)||W(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}var q=function(e){var t=Array.isArray(e=Array.isArray(e)&&1===e.length?e[0]:e)?"one of ".concat(e.join(", ")):e;return{code:"file-invalid-type",message:"File type must be ".concat(t)}},X=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Z=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Y={code:"too-many-files",message:"Too many files"};function J(e,t){var r="application/x-moz-file"===e.type||(0,B.default)(e,t);return[r,r?null:q(t)]}function Q(e,t,r){if(ee(e.size)){if(ee(t)&&ee(r)){if(e.size>r)return[!1,X(r)];if(e.size<t)return[!1,Z(t)]}else if(ee(t)&&e.size<t)return[!1,Z(t)];else if(ee(r)&&e.size>r)return[!1,X(r)]}return[!0,null]}function ee(e){return null!=e}function et(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function er(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function ea(e){e.preventDefault()}function en(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,a=Array(r>1?r-1:0),n=1;n<r;n++)a[n-1]=arguments[n];return t.some(function(t){return!et(e)&&t&&t.apply(void 0,[e].concat(a)),et(e)})}}function es(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)}function ei(e){return/^.*\.[\w]+$/.test(e)}var el=["children"],eo=["open"],ec=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ed=["refKey","onChange","onClick"];function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,a,n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return s}}(e,t)||ep(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ep(e,t){if(e){if("string"==typeof e)return em(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return em(e,t)}}function em(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a}function ef(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(r),!0).forEach(function(t){ex(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ex(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eg(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var eb=(0,N.forwardRef)(function(e,t){var r=e.children,a=ej(eg(e,el)),n=a.open,s=eg(a,eo);return(0,N.useImperativeHandle)(t,function(){return{open:n}},[n]),N.default.createElement(N.Fragment,null,r(eh(eh({},s),{},{open:n})))});eb.displayName="Dropzone";var ey={disabled:!1,getFilesFromEvent:function(e){return(0,F.__awaiter)(this,void 0,void 0,function(){return(0,F.__generator)(this,function(t){var r;if(M(e)&&M(e.dataTransfer))return[2,function(e,t){return(0,F.__awaiter)(this,void 0,void 0,function(){var r;return(0,F.__generator)(this,function(a){switch(a.label){case 0:if(!e.items)return[3,2];if(r=T(e.items).filter(function(e){return"file"===e.kind}),"drop"!==t)return[2,r];return[4,Promise.all(r.map(z))];case 1:return[2,_(function e(t){return t.reduce(function(t,r){return(0,F.__spreadArray)((0,F.__spreadArray)([],(0,F.__read)(t),!1),(0,F.__read)(Array.isArray(r)?e(r):[r]),!1)},[])}(a.sent()))];case 2:return[2,_(T(e.files).map(function(e){return P(e)}))]}})})}(e.dataTransfer,e.type)];if(M(r=e)&&M(r.target))return[2,T(e.target.files).map(function(e){return P(e)})];return Array.isArray(e)&&e.every(function(e){return"getFile"in e&&"function"==typeof e.getFile})?[2,function(e){return(0,F.__awaiter)(this,void 0,void 0,function(){return(0,F.__generator)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.getFile()}))];case 1:return[2,t.sent().map(function(e){return P(e)})]}})})}(e)]:[2,[]]})})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};eb.defaultProps=ey,eb.propTypes={children:O.default.func,accept:O.default.objectOf(O.default.arrayOf(O.default.string)),multiple:O.default.bool,preventDropOnDocument:O.default.bool,noClick:O.default.bool,noKeyboard:O.default.bool,noDrag:O.default.bool,noDragEventsBubbling:O.default.bool,minSize:O.default.number,maxSize:O.default.number,maxFiles:O.default.number,disabled:O.default.bool,getFilesFromEvent:O.default.func,onFileDialogCancel:O.default.func,onFileDialogOpen:O.default.func,useFsAccessApi:O.default.bool,autoFocus:O.default.bool,onDragEnter:O.default.func,onDragLeave:O.default.func,onDragOver:O.default.func,onDrop:O.default.func,onDropAccepted:O.default.func,onDropRejected:O.default.func,onError:O.default.func,validator:O.default.func};var ev={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ej(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=eh(eh({},ey),e),r=t.accept,a=t.disabled,n=t.getFilesFromEvent,s=t.maxSize,i=t.minSize,l=t.multiple,o=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,u=t.onDragOver,p=t.onDrop,m=t.onDropAccepted,f=t.onDropRejected,h=t.onFileDialogCancel,x=t.onFileDialogOpen,g=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,v=t.noClick,j=t.noKeyboard,w=t.noDrag,k=t.noDragEventsBubbling,C=t.onError,D=t.validator,A=(0,N.useMemo)(function(){return ee(r)?Object.entries(r).reduce(function(e,t){var r=H(t,2),a=r[0],n=r[1];return[].concat($(e),[a],$(n))},[]).filter(function(e){return es(e)||ei(e)}).join(","):void 0},[r]),O=(0,N.useMemo)(function(){return ee(r)?[{description:"Files",accept:Object.entries(r).filter(function(e){var t=H(e,2),r=t[0],a=t[1],n=!0;return es(r)||(console.warn('Skipped "'.concat(r,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),n=!1),Array.isArray(a)&&a.every(ei)||(console.warn('Skipped "'.concat(r,'" because an invalid file extension was provided.')),n=!1),n}).reduce(function(e,t){var r=H(t,2),a=r[0],n=r[1];return K(K({},e),{},G({},a,n))},{})}]:r},[r]),F=(0,N.useMemo)(function(){return"function"==typeof x?x:eN},[x]),S=(0,N.useMemo)(function(){return"function"==typeof h?h:eN},[h]),P=(0,N.useRef)(null),E=(0,N.useRef)(null),M=eu((0,N.useReducer)(ew,ev),2),_=M[0],T=M[1],z=_.isFocused,L=_.isFileDialogActive,I=(0,N.useRef)("undefined"!=typeof window&&window.isSecureContext&&g&&"showOpenFilePicker"in window),R=function(){!I.current&&L&&setTimeout(function(){E.current&&(E.current.files.length||(T({type:"closeDialog"}),S()))},300)};(0,N.useEffect)(function(){return window.addEventListener("focus",R,!1),function(){window.removeEventListener("focus",R,!1)}},[E,L,S,I]);var B=(0,N.useRef)([]),U=function(e){P.current&&P.current.contains(e.target)||(e.preventDefault(),B.current=[])};(0,N.useEffect)(function(){return y&&(document.addEventListener("dragover",ea,!1),document.addEventListener("drop",U,!1)),function(){y&&(document.removeEventListener("dragover",ea),document.removeEventListener("drop",U))}},[P,y]),(0,N.useEffect)(function(){return!a&&b&&P.current&&P.current.focus(),function(){}},[P,b,a]);var W=(0,N.useCallback)(function(e){C?C(e):console.error(e)},[C]),V=(0,N.useCallback)(function(e){var t;e.preventDefault(),e.persist(),eO(e),B.current=[].concat(function(e){if(Array.isArray(e))return em(e)}(t=B.current)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||ep(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[e.target]),er(e)&&Promise.resolve(n(e)).then(function(t){if(!et(e)||k){var r,a,n,d,u,p,m,f,h=t.length,x=h>0&&(a=(r={files:t,accept:A,minSize:i,maxSize:s,multiple:l,maxFiles:o,validator:D}).files,n=r.accept,d=r.minSize,u=r.maxSize,p=r.multiple,m=r.maxFiles,f=r.validator,(!!p||!(a.length>1))&&(!p||!(m>=1)||!(a.length>m))&&a.every(function(e){var t=H(J(e,n),1)[0],r=H(Q(e,d,u),1)[0],a=f?f(e):null;return t&&r&&!a}));T({isDragAccept:x,isDragReject:h>0&&!x,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}}).catch(function(e){return W(e)})},[n,c,W,k,A,i,s,l,o,D]),q=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),eO(e);var t=er(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(e){}return t&&u&&u(e),!1},[u,k]),X=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),eO(e);var t=B.current.filter(function(e){return P.current&&P.current.contains(e)}),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),B.current=t,!(t.length>0)&&(T({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),er(e)&&d&&d(e))},[P,d,k]),Z=(0,N.useCallback)(function(e,t){var r=[],a=[];e.forEach(function(e){var t=eu(J(e,A),2),n=t[0],l=t[1],o=eu(Q(e,i,s),2),c=o[0],d=o[1],u=D?D(e):null;if(n&&c&&!u)r.push(e);else{var p=[l,d];u&&(p=p.concat(u)),a.push({file:e,errors:p.filter(function(e){return e})})}}),(!l&&r.length>1||l&&o>=1&&r.length>o)&&(r.forEach(function(e){a.push({file:e,errors:[Y]})}),r.splice(0)),T({acceptedFiles:r,fileRejections:a,type:"setFiles"}),p&&p(r,a,t),a.length>0&&f&&f(a,t),r.length>0&&m&&m(r,t)},[T,l,A,i,s,o,p,m,f,D]),el=(0,N.useCallback)(function(e){e.preventDefault(),e.persist(),eO(e),B.current=[],er(e)&&Promise.resolve(n(e)).then(function(t){(!et(e)||k)&&Z(t,e)}).catch(function(e){return W(e)}),T({type:"reset"})},[n,Z,W,k]),eo=(0,N.useCallback)(function(){if(I.current){T({type:"openDialog"}),F(),window.showOpenFilePicker({multiple:l,types:O}).then(function(e){return n(e)}).then(function(e){Z(e,null),T({type:"closeDialog"})}).catch(function(e){e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)?(S(e),T({type:"closeDialog"})):e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)?(I.current=!1,E.current?(E.current.value=null,E.current.click()):W(Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):W(e)});return}E.current&&(T({type:"openDialog"}),F(),E.current.value=null,E.current.click())},[T,F,S,g,Z,W,O,l]),ef=(0,N.useCallback)(function(e){P.current&&P.current.isEqualNode(e.target)&&(" "===e.key||"Enter"===e.key||32===e.keyCode||13===e.keyCode)&&(e.preventDefault(),eo())},[P,eo]),eb=(0,N.useCallback)(function(){T({type:"focus"})},[]),ej=(0,N.useCallback)(function(){T({type:"blur"})},[]),ek=(0,N.useCallback)(function(){v||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return -1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")||-1!==e.indexOf("Edge/")}()?setTimeout(eo,0):eo())},[v,eo]),eC=function(e){return a?null:e},eD=function(e){return j?null:eC(e)},eA=function(e){return w?null:eC(e)},eO=function(e){k&&e.stopPropagation()},eF=(0,N.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.role,n=e.onKeyDown,s=e.onFocus,i=e.onBlur,l=e.onClick,o=e.onDragEnter,c=e.onDragOver,d=e.onDragLeave,u=e.onDrop,p=eg(e,ec);return eh(eh(ex({onKeyDown:eD(en(n,ef)),onFocus:eD(en(s,eb)),onBlur:eD(en(i,ej)),onClick:eC(en(l,ek)),onDragEnter:eA(en(o,V)),onDragOver:eA(en(c,q)),onDragLeave:eA(en(d,X)),onDrop:eA(en(u,el)),role:"string"==typeof r&&""!==r?r:"presentation"},void 0===t?"ref":t,P),a||j?{}:{tabIndex:0}),p)}},[P,ef,eb,ej,ek,V,q,X,el,j,w,a]),eS=(0,N.useCallback)(function(e){e.stopPropagation()},[]),eP=(0,N.useMemo)(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=e.onChange,a=e.onClick,n=eg(e,ed);return eh(eh({},ex({accept:A,multiple:l,type:"file",style:{display:"none"},onChange:eC(en(r,el)),onClick:eC(en(a,eS)),tabIndex:-1},void 0===t?"ref":t,E)),n)}},[E,r,l,el,a]);return eh(eh({},_),{},{isFocused:z&&!a,getRootProps:eF,getInputProps:eP,rootRef:P,inputRef:E,open:eC(eo)})}function ew(e,t){switch(t.type){case"focus":return eh(eh({},e),{},{isFocused:!0});case"blur":return eh(eh({},e),{},{isFocused:!1});case"openDialog":return eh(eh({},ev),{},{isFileDialogActive:!0});case"closeDialog":return eh(eh({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return eh(eh({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return eh(eh({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return eh({},ev);default:return e}}function eN(){}var ek=e.i(70065),eC=e.i(87336),eD=e.i(94179),eA=e.i(69638),eO=e.i(63209),eF=e.i(87951),eS=e.i(54858),eP=e.i(46696);function eE({onMaterialProcessed:e,subject:r,topic:a}){let[s,i]=(0,N.useState)([]),[o,c]=(0,N.useState)(!1),[u,p]=(0,N.useState)("text"),m=(0,N.useCallback)(async e=>{let t=e.map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:e.size,type:e.type,status:"uploading",progress:0}));for(let r of(i(e=>[...e,...t]),t))await f(r,e.find(e=>e.name===r.name))},[]),f=async(t,n)=>{try{if(n.type.startsWith("audio/")||n.name.match(/\.(mp3|wav|m4a|ogg|flac)$/i)){p("audio"),i(e=>e.map(e=>e.id===t.id?{...e,status:"processing",progress:25}:e)),eP.toast.loading("Transcribing audio...",{id:t.id});let s=await (0,eS.uploadAudio)(n,{course:r||"General",topic:a||t.name,store_in_memory:!0});i(e=>e.map(e=>e.id===t.id?{...e,progress:75}:e));let l={...t,status:"completed",progress:100,transcript:s.transcript,chunksStored:s.stored_chunks,summary:`Transcribed ${s.language} audio with ${s.stored_chunks} chunks stored in memory.`};i(e=>e.map(e=>e.id===t.id?l:e)),eP.toast.success(`Audio transcribed! ${s.stored_chunks} chunks stored.`,{id:t.id}),e?.(l)}else{p("text"),i(e=>e.map(e=>e.id===t.id?{...e,status:"processing",progress:25}:e)),eP.toast.loading("Processing text...",{id:t.id});let s=await n.text();i(e=>e.map(e=>e.id===t.id?{...e,progress:50}:e));let l=await (0,eS.addMaterial)({text:s,course:r||"General",topic:a||t.name,source:t.name});i(e=>e.map(e=>e.id===t.id?{...e,progress:75}:e));let o={...t,status:"completed",progress:100,summary:`Stored in AI memory with ID: ${l.point_id.substring(0,8)}...`};i(e=>e.map(e=>e.id===t.id?o:e)),eP.toast.success("Material stored in AI memory!",{id:t.id}),e?.(o)}}catch(r){let e=r instanceof eS.APIError||r instanceof Error?r.message:"Processing failed";i(r=>r.map(r=>r.id===t.id?{...r,status:"error",progress:0,error:e}:r)),eP.toast.error(e,{id:t.id})}},{getRootProps:h,getInputProps:x,isDragActive:b}=ej({onDrop:m,accept:{"text/plain":[".txt"],"application/pdf":[".pdf"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"audio/*":[".mp3",".wav",".m4a",".ogg",".flac"]},multiple:!0});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(ek.Card,{children:[(0,t.jsx)(ek.CardHeader,{children:(0,t.jsxs)(ek.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Upload,{className:"w-5 h-5"}),"Upload Study Materials"]})}),(0,t.jsx)(ek.CardContent,{children:(0,t.jsxs)("div",{...h(),className:`border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors ${b?"border-primary bg-primary/5":"border-gray-300 hover:border-primary"}`,children:[(0,t.jsx)("input",{...x()}),(0,t.jsx)(n.Upload,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),b?(0,t.jsx)("p",{className:"text-lg font-medium",children:"Drop your study materials here..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"Drag & drop study materials here, or click to select"}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:[(0,t.jsx)("strong",{children:"Text:"})," PDF, DOC, DOCX, TXT"]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground flex items-center justify-center gap-2",children:[(0,t.jsx)(eF.Mic,{className:"w-4 h-4"}),(0,t.jsx)("strong",{children:"Audio:"})," MP3, WAV, M4A, OGG, FLAC (auto-transcribed)"]})]})]})})]}),s.length>0&&(0,t.jsxs)(ek.Card,{children:[(0,t.jsx)(ek.CardHeader,{children:(0,t.jsx)(ek.CardTitle,{children:"Processing Queue"})}),(0,t.jsx)(ek.CardContent,{children:(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(e=>{switch(e){case"uploading":case"processing":return(0,t.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin text-blue-500"});case"completed":return(0,t.jsx)(eA.CheckCircle,{className:"w-4 h-4 text-green-500"});case"error":return(0,t.jsx)(eO.AlertCircle,{className:"w-4 h-4 text-red-500"})}})(e.status),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(e.size/1024).toFixed(1)," KB"]})]})]}),(0,t.jsx)(eD.Badge,{className:(e=>{switch(e){case"uploading":case"processing":return"text-blue-600";case"completed":return"text-green-600";case"error":return"text-red-600"}})(e.status),children:e.status})]}),"uploading"===e.status||"processing"===e.status?(0,t.jsx)(eC.Progress,{value:e.progress,className:"mb-2"}):null,e.error&&(0,t.jsx)("p",{className:"text-sm text-red-600 mt-2",children:e.error}),"completed"===e.status&&(0,t.jsxs)("div",{className:"mt-4 space-y-3",children:[e.summary&&(0,t.jsxs)("div",{className:"p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(eA.CheckCircle,{className:"w-4 h-4 text-green-500"}),"Result"]}),(0,t.jsx)("p",{className:"text-sm",children:e.summary})]}),e.transcript&&(0,t.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(eF.Mic,{className:"w-4 h-4 text-blue-500"}),"Transcript ",e.chunksStored&&`(${e.chunksStored} chunks stored)`]}),(0,t.jsx)("p",{className:"text-sm max-h-40 overflow-y-auto whitespace-pre-wrap",children:e.transcript})]}),e.keyPoints&&e.keyPoints.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"font-medium text-sm flex items-center gap-2",children:[(0,t.jsx)(g.Brain,{className:"w-4 h-4"}),"Key Points"]}),e.keyPoints.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 p-3 bg-muted rounded-lg",children:[(0,t.jsxs)("span",{className:"text-primary font-medium",children:[r+1,"."]}),(0,t.jsx)("span",{className:"text-sm",children:e})]},r))]}),e.flashcards&&e.flashcards.length>0&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("h4",{className:"font-medium text-sm flex items-center gap-2",children:[(0,t.jsx)(l.FileText,{className:"w-4 h-4"}),"Flashcards"]}),e.flashcards.map((e,r)=>(0,t.jsx)(ek.Card,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.question}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.answer})]})},r))]})]})]},e.id))})})]})]})}async function eM(e,t={}){let r=await fetch(`/api${e}`,{headers:{"Content-Type":"application/json",...t.headers},...t});if(!r.ok)throw Error((await r.json()).message||"API call failed");return r.json()}async function e_(e,t={}){return eM("/api/materials/process",{method:"POST",body:JSON.stringify({content:e,options:t})})}let eT=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316"];function ez(){let e=(0,k.useRouter)(),[o,O]=(0,N.useState)(null),[F,S]=(0,N.useState)(!0),[P,E]=(0,N.useState)([]),[M,_]=(0,N.useState)([]),[T,z]=(0,N.useState)(null),[L,I]=(0,N.useState)(!1),[R,B]=(0,N.useState)(""),[$,U]=(0,N.useState)(!1),[K,G]=(0,N.useState)(""),[H,W]=(0,N.useState)(eT[0]),[V,q]=(0,N.useState)(null),[X,Z]=(0,N.useState)({}),[Y,J]=(0,N.useState)(null),[Q,ee]=(0,N.useState)(null),[et,er]=(0,N.useState)(null),[ea,en]=(0,N.useState)("grid"),[es,ei]=(0,N.useState)("recent"),[el,eo]=(0,N.useState)("all"),ec=(0,N.useRef)(null),ed=async e=>{if(!e.content)return void eP.toast.error("No content to store");ee(e.id);try{await (0,eS.addMaterial)({text:e.content,course:e.subject,topic:e.title,source:"materials"}),eP.toast.success("Stored to AI memory",{description:"This material is now available for AI-assisted learning"})}catch(e){console.error("Error storing to memory:",e),eP.toast.error("Failed to store",{description:"Backend may be offline. Try again later."})}finally{ee(null)}},eu=async t=>{if(!t.content)return void eP.toast.error("No content to generate flashcards from");er(t.id);try{let r=await (0,eS.generateFlashcards)({text:t.content,topic:t.title,num_cards:5});eP.toast.success(`Generated ${r.count} flashcards!`,{description:"Go to Flashcards to review them",action:{label:"View",onClick:()=>e.push("/flashcards")}})}catch(e){console.error("Error generating flashcards:",e),eP.toast.error("Failed to generate flashcards",{description:"Backend may be offline. Try again later."})}finally{er(null)}},ep=async e=>{if(!e.content)return void eP.toast.error("No content to summarize");J(e.id);try{let t=await e_(e.content,{generateSummary:!0});Z(r=>({...r,[e.id]:t.summary||"No summary generated"})),eP.toast.success("Summary generated!")}catch(e){console.error("Error generating summary:",e),eP.toast.error("Failed to generate summary")}finally{J(null)}};(0,N.useEffect)(()=>{let t=(0,C.onAuthStateChanged)(D.auth,async t=>{O(t),t?await em(t.uid):e.push("/login"),S(!1)});return()=>t()},[e]);let em=async(e,t)=>{try{let[r,a]=await Promise.all([(0,A.getMaterials)(e,t),(0,A.getMaterialFolders)(e)]);E(r),_(a)}catch(e){console.error("Error loading data:",e)}},ef=async e=>{z(e),o&&E(await (0,A.getMaterials)(o.uid,e.id))},eh=async()=>{z(null),o&&E(await (0,A.getMaterials)(o.uid,null))},ex=async()=>{if(o&&K.trim())try{await (0,A.createMaterialFolder)({name:K.trim(),color:H,userId:o.uid});let e=await (0,A.getMaterialFolders)(o.uid);_(e),U(!1),G(""),W(eT[0])}catch(e){console.error("Error creating folder:",e)}},eg=async e=>{if(confirm("Delete this folder? Materials inside will be moved to root."))try{await (0,A.deleteMaterialFolder)(e),o&&await em(o.uid,T?.id||null)}catch(e){console.error("Error deleting folder:",e)}},eb=async e=>{if(V&&o)try{await (0,A.updateMaterialFolder)(V.id,e),await em(o.uid,T?.id||null),q(null)}catch(e){console.error("Error moving material:",e)}},ey=async e=>{let t=e.target.files;if(t&&o){I(!0);try{for(let e of Array.from(t)){let t=e.type.includes("pdf")?"pdf":e.type.includes("image")?"image":"other";await (0,A.addMaterial)({title:e.name.replace(/\.[^/.]+$/,""),type:t,subject:"General",folderId:T?.id,userId:o.uid})}await em(o.uid,T?.id||null)}catch(e){console.error("Error saving material:",e),alert("Failed to save material. Please try again.")}finally{I(!1),ec.current&&(ec.current.value="")}}},ev=async e=>{if(confirm("Are you sure you want to delete this material?"))try{await (0,A.deleteMaterial)(e),E(P.filter(t=>t.id!==e))}catch(e){console.error("Error deleting material:",e)}},ej=e=>{switch(e){case"pdf":return(0,t.jsx)(l.FileText,{className:"w-4 h-4"});case"image":return(0,t.jsx)(c,{className:"w-4 h-4"});default:return(0,t.jsx)(i.BookOpen,{className:"w-4 h-4"})}},ew=[...P.filter(e=>{let t=e.title.toLowerCase().includes(R.toLowerCase())||e.subject.toLowerCase().includes(R.toLowerCase()),r="all"===el||e.type===el;return t&&r})].sort((e,t)=>{switch(es){case"name":return e.title.localeCompare(t.title);case"type":return e.type.localeCompare(t.type);default:return t.createdAt.getTime()-e.createdAt.getTime()}}),eN=M.filter(e=>e.name.toLowerCase().includes(R.toLowerCase()));return F?(0,t.jsx)("main",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,t.jsx)(d.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}):o?(0,t.jsxs)(r.default,{title:"Study Materials",subtitle:"Upload, organize, and access all your study files and notes",children:[(0,t.jsx)("div",{className:"mb-12",children:(0,t.jsxs)("p",{className:"text-slate-400",children:["Welcome, ",o.displayName||o.email,"! Organize and access all your study materials in one place."]})}),T&&(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsxs)("button",{onClick:eh,className:"flex items-center gap-1 text-blue-500 hover:text-blue-400 hover:underline",children:[(0,t.jsx)(h.ArrowLeft,{className:"w-4 h-4"}),"All Materials"]}),(0,t.jsx)("span",{className:"text-slate-400",children:"/"}),(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:T.color}}),T.name]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-[200px] p-6 border-2 border-dashed border-blue-500/30 rounded-xl bg-blue-500/5 text-center hover:bg-blue-500/10 transition-colors cursor-pointer",onClick:()=>ec.current?.click(),children:[(0,t.jsx)("input",{ref:ec,type:"file",multiple:!0,accept:".pdf,.png,.jpg,.jpeg,.doc,.docx,.txt",className:"hidden",onChange:ey}),L?(0,t.jsx)(d.Loader2,{className:"w-8 h-8 text-blue-500 mx-auto mb-2 animate-spin"}):(0,t.jsx)(n.Upload,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-slate-100 mb-1",children:L?"Uploading...":"Upload Files"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:T?`Upload to ${T.name}`:"Upload to root"})]}),!T&&(0,t.jsxs)("div",{className:"flex-1 min-w-[200px] p-6 border-2 border-dashed border-slate-600 rounded-xl bg-slate-700/30 text-center hover:bg-slate-700/50 transition-colors cursor-pointer",onClick:()=>U(!0),children:[(0,t.jsx)(p,{className:"w-8 h-8 text-slate-400 mx-auto mb-2"}),(0,t.jsx)("h3",{className:"font-semibold text-slate-100 mb-1",children:"New Folder"}),(0,t.jsx)("p",{className:"text-sm text-slate-400",children:"Organize materials"})]})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(eE,{onMaterialProcessed:e=>{console.log("Material processed:",e)}})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(s.Search,{className:"w-5 h-5 absolute left-3 top-3 text-slate-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Search materials and folders...",value:R,onChange:e=>B(e.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:border-slate-500 outline-none transition-colors text-slate-100"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center bg-slate-700 rounded-lg p-1",children:[(0,t.jsx)("button",{onClick:()=>en("grid"),className:`p-2 rounded ${"grid"===ea?"bg-slate-600 text-white":"text-slate-400 hover:text-slate-200"}`,title:"Grid view",children:(0,t.jsx)(v,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>en("list"),className:`p-2 rounded ${"list"===ea?"bg-slate-600 text-white":"text-slate-400 hover:text-slate-200"}`,title:"List view",children:(0,t.jsx)(j,{className:"w-4 h-4"})})]}),(0,t.jsxs)("select",{value:es,onChange:e=>ei(e.target.value),className:"px-3 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 text-sm",children:[(0,t.jsx)("option",{value:"recent",children:"Recent"}),(0,t.jsx)("option",{value:"name",children:"Name"}),(0,t.jsx)("option",{value:"type",children:"Type"})]})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2 mb-8 border-b border-slate-700 pb-4",children:[{key:"all",label:"All Files",icon:y,count:P.length},{key:"pdf",label:"PDFs",icon:l.FileText,count:P.filter(e=>"pdf"===e.type).length},{key:"image",label:"Images",icon:c,count:P.filter(e=>"image"===e.type).length},{key:"text",label:"Text",icon:i.BookOpen,count:P.filter(e=>"text"===e.type).length}].map(e=>(0,t.jsxs)("button",{onClick:()=>eo(e.key),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${el===e.key?"bg-blue-500/20 text-blue-400 border border-blue-500/30":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:[(0,t.jsx)(e.icon,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label}),e.count>0&&(0,t.jsx)("span",{className:`text-xs px-1.5 py-0.5 rounded-full ${el===e.key?"bg-blue-500/30":"bg-slate-600"}`,children:e.count})]},e.key))}),!T&&eN.length>0&&(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Folders"}),(0,t.jsx)("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:eN.map(e=>(0,t.jsx)("div",{className:"p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:border-slate-600 hover:shadow-md transition-all cursor-pointer group",onClick:()=>ef(e),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${e.color}20`},children:(0,t.jsx)(m,{className:"w-5 h-5",style:{color:e.color}})}),(0,t.jsx)("span",{className:"font-medium text-slate-100",children:e.name})]}),(0,t.jsx)("button",{onClick:t=>{t.stopPropagation(),eg(e.id)},className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-400 transition-all",children:(0,t.jsx)(u.Trash2,{className:"w-4 h-4"})})]})},e.id))})]}),(0,t.jsxs)("div",{children:[!T&&(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-100 mb-4",children:eN.length>0?"Files":"All Materials"}),0===ew.length&&0===eN.length?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)(i.BookOpen,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-100 mb-2",children:T?"This folder is empty":"all"!==el?`No ${el} files`:"No materials yet"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:T?"Upload files to this folder":"Upload your first study material to get started!"}),(0,t.jsxs)(a.Button,{onClick:()=>ec.current?.click(),children:[(0,t.jsx)(n.Upload,{className:"w-4 h-4 mr-2"}),"Upload Materials"]})]}):0===ew.length?(0,t.jsx)("div",{className:"text-center py-8 text-slate-400",children:"all"!==el?`No ${el} files`:`No files in ${T?"this folder":"root"}`}):"grid"===ea?(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ew.map(e=>(0,t.jsxs)("div",{className:"p-6 rounded-lg bg-slate-800/50 border border-slate-700 hover:border-slate-600 hover:shadow-lg transition-all group",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-500",children:ej(e.type)}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[!T&&M.length>0&&(0,t.jsx)("button",{onClick:()=>q(e),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-blue-500 transition-all p-1",title:"Move to folder",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ev(e.id),className:"opacity-0 group-hover:opacity-100 text-slate-400 hover:text-red-400 transition-all p-1",children:(0,t.jsx)(u.Trash2,{className:"w-4 h-4"})})]})]}),(0,t.jsx)("h3",{className:"font-semibold text-slate-100 mb-2 truncate",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm text-slate-400 mb-4",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-slate-700 rounded",children:e.subject}),(0,t.jsx)("span",{children:e.createdAt.toLocaleDateString()})]}),e.content&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>ed(e),disabled:Q===e.id,className:"text-xs border-slate-600 text-slate-300 hover:bg-slate-700",children:Q===e.id?(0,t.jsx)(d.Loader2,{className:"w-3 h-3 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Brain,{className:"w-3 h-3 mr-1"})," Store to AI"]})}),(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>eu(e),disabled:et===e.id,className:"text-xs border-slate-600 text-slate-300 hover:bg-slate-700",children:et===e.id?(0,t.jsx)(d.Loader2,{className:"w-3 h-3 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.Sparkles,{className:"w-3 h-3 mr-1"})," Flashcards"]})})]}),(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>ep(e),disabled:Y===e.id,className:"w-full text-xs border-slate-600 text-slate-300 hover:bg-slate-700",children:Y===e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Loader2,{className:"w-3 h-3 mr-2 animate-spin"})," Generating..."]}):(0,t.jsx)(t.Fragment,{children:"AI Summary"})}),X[e.id]&&(0,t.jsx)("div",{className:"p-3 bg-slate-700/50 rounded text-sm text-slate-400",children:X[e.id]})]}),e.fileUrl&&(0,t.jsx)(a.Button,{size:"sm",variant:"outline",className:"w-full border-slate-600 text-slate-300 hover:bg-slate-700",onClick:()=>window.open(e.fileUrl,"_blank"),children:"View File"})]},e.id))}):(0,t.jsx)("div",{className:"space-y-2",children:ew.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-lg bg-slate-800/50 border border-slate-700 hover:border-slate-600 transition-all group",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center text-blue-500 flex-shrink-0",children:ej(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-100 truncate",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-slate-400",children:[(0,t.jsx)("span",{className:"px-2 py-0.5 bg-slate-700 rounded text-xs",children:e.subject}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(w.Clock,{className:"w-3 h-3"}),e.createdAt.toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.content&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>ed(e),disabled:Q===e.id,className:"text-xs text-slate-400 hover:text-blue-400",title:"Store to AI memory",children:Q===e.id?(0,t.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(g.Brain,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{size:"sm",variant:"ghost",onClick:()=>eu(e),disabled:et===e.id,className:"text-xs text-slate-400 hover:text-purple-400",title:"Generate flashcards",children:et===e.id?(0,t.jsx)(d.Loader2,{className:"w-4 h-4 animate-spin"}):(0,t.jsx)(b.Sparkles,{className:"w-4 h-4"})})]}),!T&&M.length>0&&(0,t.jsx)("button",{onClick:()=>q(e),className:"text-slate-400 hover:text-blue-500 transition-all p-1",title:"Move to folder",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)("button",{onClick:()=>ev(e.id),className:"text-slate-400 hover:text-red-400 transition-all p-1",children:(0,t.jsx)(u.Trash2,{className:"w-4 h-4"})})]})]},e.id))})]}),$&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold text-slate-100 flex items-center gap-2",children:[(0,t.jsx)(p,{className:"w-5 h-5 text-blue-500"}),"Create Folder"]}),(0,t.jsx)("button",{onClick:()=>U(!1),className:"text-slate-400 hover:text-slate-100",children:(0,t.jsx)(x.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-1 block",children:"Folder Name"}),(0,t.jsx)("input",{type:"text",placeholder:"e.g., Physics Notes, Exam Prep...",value:K,onChange:e=>G(e.target.value),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 focus:border-slate-500 outline-none text-slate-100"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Folder Color"}),(0,t.jsx)("div",{className:"flex gap-2 flex-wrap",children:eT.map(e=>(0,t.jsx)("button",{onClick:()=>W(e),className:`w-8 h-8 rounded-lg transition-all ${H===e?"ring-2 ring-offset-2 ring-blue-500":""}`,style:{backgroundColor:e}},e))})]}),(0,t.jsx)(a.Button,{className:"w-full",onClick:ex,disabled:!K.trim(),children:"Create Folder"})]})]})}),V&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-slate-800 rounded-xl p-6 w-full max-w-md border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-slate-100",children:"Move to Folder"}),(0,t.jsx)("button",{onClick:()=>q(null),className:"text-slate-400 hover:text-slate-100",children:(0,t.jsx)(x.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("p",{className:"text-sm text-slate-400 mb-4",children:["Moving: ",(0,t.jsx)("span",{className:"text-slate-100 font-medium",children:V.title})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>eb(null),className:"w-full p-3 rounded-lg border border-slate-600 hover:border-slate-500 text-left flex items-center gap-3 text-slate-100 hover:bg-slate-700",children:[(0,t.jsx)(i.BookOpen,{className:"w-5 h-5 text-slate-400"}),(0,t.jsx)("span",{children:"Root (No folder)"})]}),M.map(e=>(0,t.jsxs)("button",{onClick:()=>eb(e.id),className:"w-full p-3 rounded-lg border border-slate-600 hover:border-slate-500 text-left flex items-center gap-3 text-slate-100 hover:bg-slate-700",children:[(0,t.jsx)(m,{className:"w-5 h-5",style:{color:e.color}}),(0,t.jsx)("span",{children:e.name})]},e.id))]})]})})]}):null}e.s(["default",()=>ez],89523)}]);