(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},10980,61911,39312,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>s],10980);let r=(0,t.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>r],61911);let a=(0,t.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>a],39312)},70065,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(47163);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h3",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",e),...s}));i.displayName="CardTitle",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("p",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s})).displayName="CardDescription";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));l.displayName="CardContent",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>l,"CardHeader",()=>n,"CardTitle",()=>i])},3116,e=>{"use strict";let t=(0,e.i(75254).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);e.s(["Clock",()=>t],3116)},27341,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(81140),a=e.i(30030),n=e.i(42727),i=e.i(96626),l=e.i(48425),o=e.i(86318),d=e.i(69340),c=e.i(10772),u="Tabs",[m,h]=(0,a.createContextScope)(u,[n.createRovingFocusGroupScope]),p=(0,n.createRovingFocusGroupScope)(),[x,g]=m(u),f=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:u="horizontal",dir:m,activationMode:h="automatic",...p}=e,g=(0,o.useDirection)(m),[f,y]=(0,d.useControllableState)({prop:a,onChange:n,defaultProp:i});return(0,t.jsx)(x,{scope:r,baseId:(0,c.useId)(),value:f,onValueChange:y,orientation:u,dir:g,activationMode:h,children:(0,t.jsx)(l.Primitive.div,{dir:g,"data-orientation":u,...p,ref:s})})});f.displayName=u;var y="TabsList",b=s.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...i}=e,o=g(y,r),d=p(r);return(0,t.jsx)(n.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:a,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:s})})});b.displayName=y;var v="TabsTrigger",j=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:i,disabled:o=!1,...d}=e,c=g(v,a),u=p(a),m=T(c.baseId,i),h=k(c.baseId,i),x=i===c.value;return(0,t.jsx)(n.Item,{asChild:!0,...u,focusable:!o,active:x,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...d,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||o||!e||c.onValueChange(i)})})})});j.displayName=v;var N="TabsContent",w=s.forwardRef((e,r)=>{let{__scopeTabs:a,value:n,forceMount:o,children:d,...c}=e,u=g(N,a),m=T(u.baseId,n),h=k(u.baseId,n),p=n===u.value,x=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(i.Presence,{present:o||p,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:h,tabIndex:0,...c,ref:r,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&d})})});function T(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}w.displayName=N;var C=e.i(47163);let D=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(b,{ref:r,className:(0,C.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));D.displayName=b.displayName;let S=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(j,{ref:r,className:(0,C.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));S.displayName=j.displayName;let M=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(w,{ref:r,className:(0,C.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));M.displayName=w.displayName,e.s(["Tabs",()=>f,"TabsContent",()=>M,"TabsList",()=>D,"TabsTrigger",()=>S],27341)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},21218,e=>{"use strict";let t=(0,e.i(75254).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>t],21218)},28231,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(81140),a=e.i(20783),n=e.i(30030),i=e.i(26330),l=e.i(10772),o=e.i(53660),d=(e.i(74606),e.i(96626)),c=e.i(48425),u=e.i(91918),m=e.i(69340),h=e.i(59411),[p,x]=(0,n.createContextScope)("Tooltip",[o.createPopperScope]),g=(0,o.createPopperScope)(),f="TooltipProvider",y="tooltip.open",[b,v]=p(f),j=e=>{let{__scopeTooltip:r,delayDuration:a=700,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:l}=e,[o,d]=s.useState(!0),c=s.useRef(!1),u=s.useRef(0);return s.useEffect(()=>{let e=u.current;return()=>window.clearTimeout(e)},[]),(0,t.jsx)(b,{scope:r,isOpenDelayed:o,delayDuration:a,onOpen:s.useCallback(()=>{window.clearTimeout(u.current),d(!1)},[]),onClose:s.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>d(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:s.useCallback(e=>{c.current=e},[]),disableHoverableContent:i,children:l})};j.displayName=f;var N="Tooltip",[w,T]=p(N),k=e=>{let{__scopeTooltip:r,children:a,open:n,defaultOpen:i=!1,onOpenChange:d,disableHoverableContent:c,delayDuration:u}=e,h=v(N,e.__scopeTooltip),p=g(r),[x,f]=s.useState(null),b=(0,l.useId)(),j=s.useRef(0),T=c??h.disableHoverableContent,k=u??h.delayDuration,C=s.useRef(!1),[D=!1,S]=(0,m.useControllableState)({prop:n,defaultProp:i,onChange:e=>{e?(h.onOpen(),document.dispatchEvent(new CustomEvent(y))):h.onClose(),d?.(e)}}),M=s.useMemo(()=>D?C.current?"delayed-open":"instant-open":"closed",[D]),A=s.useCallback(()=>{window.clearTimeout(j.current),j.current=0,C.current=!1,S(!0)},[S]),P=s.useCallback(()=>{window.clearTimeout(j.current),j.current=0,S(!1)},[S]),R=s.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{C.current=!0,S(!0),j.current=0},k)},[k,S]);return s.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),(0,t.jsx)(o.Root,{...p,children:(0,t.jsx)(w,{scope:r,contentId:b,open:D,stateAttribute:M,trigger:x,onTriggerChange:f,onTriggerEnter:s.useCallback(()=>{h.isOpenDelayed?R():A()},[h.isOpenDelayed,R,A]),onTriggerLeave:s.useCallback(()=>{T?P():(window.clearTimeout(j.current),j.current=0)},[P,T]),onOpen:A,onClose:P,disableHoverableContent:T,children:a})})};k.displayName=N;var C="TooltipTrigger",D=s.forwardRef((e,n)=>{let{__scopeTooltip:i,...l}=e,d=T(C,i),u=v(C,i),m=g(i),h=s.useRef(null),p=(0,a.useComposedRefs)(n,h,d.onTriggerChange),x=s.useRef(!1),f=s.useRef(!1),y=s.useCallback(()=>x.current=!1,[]);return s.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),(0,t.jsx)(o.Anchor,{asChild:!0,...m,children:(0,t.jsx)(c.Primitive.button,{"aria-describedby":d.open?d.contentId:void 0,"data-state":d.stateAttribute,...l,ref:p,onPointerMove:(0,r.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(f.current||u.isPointerInTransitRef.current||(d.onTriggerEnter(),f.current=!0))}),onPointerLeave:(0,r.composeEventHandlers)(e.onPointerLeave,()=>{d.onTriggerLeave(),f.current=!1}),onPointerDown:(0,r.composeEventHandlers)(e.onPointerDown,()=>{x.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{x.current||d.onOpen()}),onBlur:(0,r.composeEventHandlers)(e.onBlur,d.onClose),onClick:(0,r.composeEventHandlers)(e.onClick,d.onClose)})})});D.displayName=C;var[S,M]=p("TooltipPortal",{forceMount:void 0}),A="TooltipContent",P=s.forwardRef((e,s)=>{let r=M(A,e.__scopeTooltip),{forceMount:a=r.forceMount,side:n="top",...i}=e,l=T(A,e.__scopeTooltip);return(0,t.jsx)(d.Presence,{present:a||l.open,children:l.disableHoverableContent?(0,t.jsx)(H,{side:n,...i,ref:s}):(0,t.jsx)(R,{side:n,...i,ref:s})})}),R=s.forwardRef((e,r)=>{let n=T(A,e.__scopeTooltip),i=v(A,e.__scopeTooltip),l=s.useRef(null),o=(0,a.useComposedRefs)(r,l),[d,c]=s.useState(null),{trigger:u,onClose:m}=n,h=l.current,{onPointerInTransitChange:p}=i,x=s.useCallback(()=>{c(null),p(!1)},[p]),g=s.useCallback((e,t)=>{let s,r=e.currentTarget,a={x:e.clientX,y:e.clientY},n=function(e,t){let s=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(s,r,a,n)){case n:return"left";case a:return"right";case s:return"top";case r:return"bottom";default:throw Error("unreachable")}}(a,r.getBoundingClientRect());c(((s=[...function(e,t,s=5){let r=[];switch(t){case"top":r.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":r.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":r.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":r.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s})}return r}(a,n),...function(e){let{top:t,right:s,bottom:r,left:a}=e;return[{x:a,y:t},{x:s,y:t},{x:s,y:r},{x:a,y:r}]}(t.getBoundingClientRect())].slice()).sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let s=0;s<e.length;s++){let r=e[s];for(;t.length>=2;){let e=t[t.length-1],s=t[t.length-2];if((e.x-s.x)*(r.y-s.y)>=(e.y-s.y)*(r.x-s.x))t.pop();else break}t.push(r)}t.pop();let s=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;s.length>=2;){let e=s[s.length-1],t=s[s.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))s.pop();else break}s.push(r)}return(s.pop(),1===t.length&&1===s.length&&t[0].x===s[0].x&&t[0].y===s[0].y)?t:t.concat(s)}(s))),p(!0)},[p]);return s.useEffect(()=>()=>x(),[x]),s.useEffect(()=>{if(u&&h){let e=e=>g(e,h),t=e=>g(e,u);return u.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{u.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[u,h,g,x]),s.useEffect(()=>{if(d){let e=e=>{let t=e.target,s={x:e.clientX,y:e.clientY},r=u?.contains(t)||h?.contains(t),a=!function(e,t){let{x:s,y:r}=e,a=!1;for(let e=0,n=t.length-1;e<t.length;n=e++){let i=t[e].x,l=t[e].y,o=t[n].x,d=t[n].y;l>r!=d>r&&s<(o-i)*(r-l)/(d-l)+i&&(a=!a)}return a}(s,d);r?x():a&&(x(),m())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[u,h,d,m,x]),(0,t.jsx)(H,{...e,ref:o})}),[E,I]=p(N,{isInside:!1}),H=s.forwardRef((e,r)=>{let{__scopeTooltip:a,children:n,"aria-label":l,onEscapeKeyDown:d,onPointerDownOutside:c,...m}=e,p=T(A,a),x=g(a),{onClose:f}=p;return s.useEffect(()=>(document.addEventListener(y,f),()=>document.removeEventListener(y,f)),[f]),s.useEffect(()=>{if(p.trigger){let e=e=>{let t=e.target;t?.contains(p.trigger)&&f()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[p.trigger,f]),(0,t.jsx)(i.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:e=>e.preventDefault(),onDismiss:f,children:(0,t.jsxs)(o.Content,{"data-state":p.stateAttribute,...x,...m,ref:r,style:{...m.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,t.jsx)(u.Slottable,{children:n}),(0,t.jsx)(E,{scope:a,isInside:!0,children:(0,t.jsx)(h.Root,{id:p.contentId,role:"tooltip",children:l||n})})]})})});P.displayName=A;var $="TooltipArrow";s.forwardRef((e,s)=>{let{__scopeTooltip:r,...a}=e,n=g(r);return I($,r).isInside?null:(0,t.jsx)(o.Arrow,{...n,...a,ref:s})}).displayName=$;var _=e.i(47163);let L=s.forwardRef(({className:e,sideOffset:s=4,...r},a)=>(0,t.jsx)(P,{ref:a,sideOffset:s,className:(0,_.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));L.displayName=P.displayName,e.s(["Tooltip",()=>k,"TooltipContent",()=>L,"TooltipProvider",()=>j,"TooltipTrigger",()=>D],28231)},14887,e=>{"use strict";var t=e.i(43476),s=e.i(59015),r=e.i(67881),a=e.i(27341),n=e.i(25652),i=e.i(3116),l=e.i(20278),o=e.i(21218),d=e.i(31278),c=e.i(75254);let u=(0,c.default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=e.i(71645),h=e.i(18566),p=e.i(71898),x=e.i(46696);e.i(51718);var g=e.i(18357),f=e.i(76009);class y{context;constructor(e){this.context=e}updateContext(e){this.context={...this.context,...e}}calculateProgressMetrics(){let{tasks:e,habits:t,dailyStats:s,studySessions:r,dateRange:a}=this.context,n=e.filter(e=>e.createdAt>=a.start&&e.createdAt<=a.end),i=s.filter(e=>e.date>=a.start&&e.date<=a.end),l=r.filter(e=>e.startTime>=a.start&&e.startTime<=a.end).reduce((e,t)=>e+t.duration,0),o=l/Math.max(Math.ceil((a.end.getTime()-a.start.getTime())/864e5),1),d=this.calculateStreaks(i),c=d.current,u=d.longest,m=n.filter(e=>"done"===e.status).length,h=n.length;return{totalStudyTime:l,averageDailyStudy:o,currentStreak:c,longestStreak:u,tasksCompleted:m,tasksCreated:h,completionRate:h>0?m/h*100:0,habitsCompleted:t.reduce((e,t)=>e+t.completions.filter(e=>e.date>=this.formatDate(a.start)&&e.date<=this.formatDate(a.end)&&e.completed).length,0),habitsStreak:t.length>0?t.reduce((e,t)=>e+t.currentStreak,0)/t.length:0,coursesActive:this.context.courses.length}}generateTrendData(){let{dailyStats:e,tasks:t,dateRange:s}=this.context,r=this.getDaysInRange(s.start,s.end),a=r.map(t=>{let s=e.find(e=>this.formatDate(e.date)===t);return{date:t,minutes:s?.totalStudyMinutes||0}}),n=r.map(e=>{let s=t.filter(t=>this.formatDate(t.createdAt)===e||t.completedAt&&this.formatDate(t.completedAt)===e);return{date:e,completed:s.filter(e=>"done"===e.status).length,created:s.length}});return{studyTimeTrend:a,taskCompletionTrend:n,habitCompletionTrend:r.map(e=>{let t=this.context.habits.reduce((t,s)=>t+ +!!s.completions.find(t=>t.date===e&&t.completed),0);return{date:e,completed:t}}),productivityTrend:r.map(t=>{let s=e.find(e=>this.formatDate(e.date)===t);return{date:t,score:s?.productivityAvg||0}})}}generateHeatmapData(){let{dailyStats:e,tasks:t,habits:s,dateRange:r}=this.context;return this.getDaysInRange(r.start,r.end).map(r=>{let a=e.find(e=>this.formatDate(e.date)===r),n=t.filter(e=>e.completedAt&&this.formatDate(e.completedAt)===r||e.dueDate&&this.formatDate(e.dueDate)===r),i=s.reduce((e,t)=>e+ +!!t.completions.find(e=>e.date===r&&e.completed),0),l=a?.totalStudyMinutes||0,o=n.filter(e=>"done"===e.status).length,d=0;return l>0&&d++,l>=60&&d++,o>0&&d++,i>0&&d++,(l>=120||o>=3||i>=s.length)&&(d=Math.min(d+1,4)),{date:r,studyMinutes:l,tasksCompleted:o,habitsCompleted:i,intensity:d}})}generatePredictiveInsights(){let e=this.calculateProgressMetrics(),t=this.generateTrendData(),s={studyHours:Math.round(7*(t.studyTimeTrend.reduce((e,t)=>e+t.minutes,0)/t.studyTimeTrend.length)/60*10)/10,tasksToComplete:Math.round(7*(t.taskCompletionTrend.reduce((e,t)=>e+t.completed,0)/t.taskCompletionTrend.length)),habitsToMaintain:Math.round(7*(t.habitCompletionTrend.reduce((e,t)=>e+t.completed,0)/t.habitCompletionTrend.length)/Math.max(this.context.habits.length,1))},r=[];e.currentStreak<3&&r.push({type:"streak",severity:0===e.currentStreak?"high":"medium",message:`Study streak is ${0===e.currentStreak?"broken":"weak"} (${e.currentStreak} days)`,recommendation:"Start a study session today to rebuild momentum"});let a=this.context.tasks.filter(e=>e.dueDate&&e.dueDate<new Date&&"done"!==e.status);a.length>0&&r.push({type:"overdue_tasks",severity:a.length>3?"high":"medium",message:`${a.length} tasks are overdue`,recommendation:"Focus on completing overdue tasks to reduce stress"});let n=this.context.habits.filter(e=>e.currentStreak<3);n.length>0&&r.push({type:"habit_slip",severity:n.length>this.context.habits.length/2?"high":"medium",message:`${n.length} habit${n.length>1?"s":""} at risk of breaking`,recommendation:"Complete habits today to maintain consistency"});let i=[];return e.averageDailyStudy<90&&i.push({type:"study_time",potential:e.averageDailyStudy<30?"high":"medium",message:"Study time could be increased for better retention",action:"Aim for 2 hours of focused study daily"}),e.habitsStreak<5&&this.context.habits.length>0&&i.push({type:"habit_building",potential:"medium",message:"Building stronger habit streaks will improve consistency",action:"Focus on maintaining daily habits for the next week"}),e.completionRate<70&&i.push({type:"task_focus",potential:"high",message:"Task completion rate could be improved",action:"Break large tasks into smaller, manageable steps"}),{nextWeekPrediction:s,riskFactors:r,opportunities:i}}generateProgressArcs(){let e=this.calculateProgressMetrics(),t=this.generateTrendData(),s=[],r=e.totalStudyTime;s.push({subject:"Weekly Study Time",current:r,target:840,unit:"minutes",percentage:Math.min(r/840*100,100),trend:this.calculateTrend(t.studyTimeTrend.map(e=>e.minutes)),trendValue:this.calculateTrendValue(t.studyTimeTrend.map(e=>e.minutes)),color:r>=840?"#10b981":r>=588?"#f59e0b":"#ef4444"});let a=e.tasksCompleted;s.push({subject:"Weekly Tasks",current:a,target:10,unit:"tasks",percentage:Math.min(a/10*100,100),trend:this.calculateTrend(t.taskCompletionTrend.map(e=>e.completed)),trendValue:this.calculateTrendValue(t.taskCompletionTrend.map(e=>e.completed)),color:a>=10?"#10b981":a>=7?"#f59e0b":"#ef4444"});let n=7*this.context.habits.length,i=e.habitsCompleted;return s.push({subject:"Habit Consistency",current:i,target:n,unit:"completions",percentage:Math.min(i/n*100,100),trend:this.calculateTrend(t.habitCompletionTrend.map(e=>e.completed)),trendValue:this.calculateTrendValue(t.habitCompletionTrend.map(e=>e.completed)),color:i>=n?"#10b981":i>=.7*n?"#f59e0b":"#ef4444"}),s.push({subject:"Study Streak",current:e.currentStreak,target:30,unit:"days",percentage:Math.min(e.currentStreak/30*100,100),trend:e.currentStreak>0?"up":"stable",trendValue:e.currentStreak,color:e.currentStreak>=30?"#10b981":e.currentStreak>=15?"#f59e0b":"#ef4444"}),s}calculateStreaks(e){if(0===e.length)return{current:0,longest:0};let t=e.sort((e,t)=>e.date.getTime()-t.date.getTime()),s=0,r=0,a=0;for(let e=t.length-1;e>=0;e--)t[e].totalStudyMinutes>0?(a++,e===t.length-1&&(s=a)):(a>r&&(r=a),a=0);return a>r&&(r=a),{current:s,longest:r}}calculateTrend(e){if(e.length<2)return"stable";let t=e.slice(-7),s=e.slice(-14,-7);if(0===t.length||0===s.length)return"stable";let r=t.reduce((e,t)=>e+t,0)/t.length,a=s.reduce((e,t)=>e+t,0)/s.length,n=(r-a)/Math.max(a,1)*100;return n>10?"up":n<-10?"down":"stable"}calculateTrendValue(e){if(e.length<2)return 0;let t=e.slice(-7),s=e.slice(-14,-7);return 0===t.length||0===s.length?0:Math.round(t.reduce((e,t)=>e+t,0)/t.length-s.reduce((e,t)=>e+t,0)/s.length)}getDaysInRange(e,t){let s=[],r=new Date(e);for(;r<=t;)s.push(this.formatDate(r)),r.setDate(r.getDate()+1);return s}formatDate(e){return e.toISOString().split("T")[0]}}let b=null;function v({data:e,className:s=""}){let{weeks:r,maxIntensity:a}=(0,m.useMemo)(()=>{let t=[],s=[],r=0;return e.forEach(e=>{0===new Date(e.date+"T00:00:00").getDay()&&s.length>0&&(t.push([...s]),s=[]),s.push(e),r=Math.max(r,e.intensity)}),s.length>0&&t.push(s),{weeks:t,maxIntensity:r}},[e]);return(0,t.jsxs)("div",{className:`p-4 bg-card rounded-lg border ${s}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"Study Activity"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"Less"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-gray-100"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-green-200"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-green-300"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-green-400"}),(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-green-500"})]}),(0,t.jsx)("span",{children:"More"})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("div",{className:"inline-flex gap-1",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 pr-2",children:[(0,t.jsx)("div",{className:"h-6"})," ",["Mon","Wed","Fri"].map(e=>(0,t.jsx)("div",{className:"h-3 text-xs text-muted-foreground flex items-center",children:e},e))]}),r.slice(-12).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("div",{className:"h-6 text-xs text-muted-foreground flex items-center justify-center",children:e.length>0&&7>=new Date(e[0].date+"T00:00:00").getDate()&&new Date(e[0].date+"T00:00:00").toLocaleDateString("en-US",{month:"short"})}),e.map(e=>{let s;return(0,t.jsx)("div",{className:`w-3 h-3 rounded-sm cursor-pointer transition-all hover:ring-2 hover:ring-blue-300 hover:ring-offset-1 ${((e,t)=>{if(0===e)return"bg-gray-100";let s=e/Math.max(t,1);return s>=.8?"bg-green-500":s>=.6?"bg-green-400":s>=.4?"bg-green-300":s>=.2?"bg-green-200":"bg-green-100"})(e.intensity,a)}`,title:(s=new Date(e.date+"T00:00:00"),`${["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][s.getDay()]}, ${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()]} ${s.getDate()}
${e.studyMinutes>0?`${Math.round(e.studyMinutes)} min study`:"No study"}
${e.tasksCompleted>0?`${e.tasksCompleted} tasks completed`:""}
${e.habitsCompleted>0?`${e.habitsCompleted} habits completed`:""}`.trim())},e.date)}),Array.from({length:7-e.length}).map((e,s)=>(0,t.jsx)("div",{className:"w-3 h-3 rounded-sm bg-gray-50"},`empty-${s}`))]},s))]})}),(0,t.jsx)("div",{className:"mt-4 text-sm text-muted-foreground",children:(0,t.jsx)("p",{children:"Click on any cell to see detailed activity for that day"})})]})}let j=(0,c.default)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),N=(0,c.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function w({arcs:e,className:s=""}){return(0,t.jsx)("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 ${s}`,children:e.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 bg-card rounded-lg border",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-muted-foreground",children:e.subject}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(e=>{switch(e){case"up":return(0,t.jsx)(n.TrendingUp,{className:"w-4 h-4 text-green-500"});case"down":return(0,t.jsx)(j,{className:"w-4 h-4 text-red-500"});default:return(0,t.jsx)(N,{className:"w-4 h-4 text-gray-500"})}})(e.trend),(0,t.jsxs)("span",{className:`text-xs font-medium ${(e=>{switch(e){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}})(e.trend)}`,children:[e.trendValue>0?"+":"",e.trendValue]})]})]}),(0,t.jsxs)("div",{className:"relative w-20 h-20 mx-auto mb-2",children:[(0,t.jsxs)("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 36 36",children:[(0,t.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"text-gray-200"}),(0,t.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:e.color,strokeWidth:"2",strokeDasharray:`${e.percentage}, 100`,className:"transition-all duration-300"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("span",{className:"text-lg font-bold",style:{color:e.color},children:[Math.round(e.percentage),"%"]})})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.current," / ",e.target," ",e.unit]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground mt-1",children:["up"===e.trend&&"Improving","down"===e.trend&&"Declining","stable"===e.trend&&"Stable"]})]})]},s))})}var T=e.i(94179),k=e.i(70065),C=e.i(78894),D=e.i(39312);function S({insights:e,className:s=""}){let r=[...e.riskFactors.map(e=>({...e,category:"risk",severity:e.severity})),...e.opportunities.map(e=>({...e,category:"opportunity",severity:e.potential}))];return 0===r.length?(0,t.jsx)(k.Card,{className:s,children:(0,t.jsx)(k.CardContent,{className:"flex items-center justify-center py-8",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"No predictive insights available yet."})})}):(0,t.jsxs)("div",{className:`space-y-4 ${s}`,children:[(0,t.jsxs)(k.Card,{children:[(0,t.jsx)(k.CardHeader,{children:(0,t.jsxs)(k.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(n.TrendingUp,{className:"w-5 h-5"}),"Next Week Prediction"]})}),(0,t.jsx)(k.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("p",{className:"text-2xl font-bold text-blue-600",children:[e.nextWeekPrediction.studyHours,"h"]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Study Time"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.nextWeekPrediction.tasksToComplete}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tasks"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:e.nextWeekPrediction.habitsToMaintain}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Habits"})]})]})})]}),r.map((e,s)=>(0,t.jsxs)(k.Card,{className:`border-2 ${(e=>{switch(e){case"high":return"border-red-200 bg-red-50";case"medium":return"border-yellow-200 bg-yellow-50";default:return"border-gray-200 bg-gray-50"}})(e.severity||e.potential||"low")}`,children:[(0,t.jsx)(k.CardHeader,{className:"pb-3",children:(0,t.jsxs)(k.CardTitle,{className:"text-sm flex items-center gap-2",children:[(e=>{switch(e){case"streak":case"habit_slip":return(0,t.jsx)(C.AlertTriangle,{className:"w-5 h-5 text-red-500"});case"overdue_tasks":return(0,t.jsx)(i.Clock,{className:"w-5 h-5 text-orange-500"});case"study_time":return(0,t.jsx)(n.TrendingUp,{className:"w-5 h-5 text-green-500"});case"habit_building":return(0,t.jsx)(l.Target,{className:"w-5 h-5 text-blue-500"});case"task_focus":return(0,t.jsx)(D.Zap,{className:"w-5 h-5 text-purple-500"});default:return(0,t.jsx)(C.AlertTriangle,{className:"w-5 h-5 text-gray-500"})}})(e.type),(0,t.jsx)("span",{className:"capitalize",children:e.category}),(0,t.jsx)(T.Badge,{variant:"outline",className:"ml-auto",children:e.severity||e.potential})]})}),(0,t.jsxs)(k.CardContent,{children:[(0,t.jsx)("p",{className:"text-sm mb-2",children:e.message}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.recommendation||e.action})]})]},s))]})}var M=e.i(28231);let A=(0,c.default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);function P({recommendation:e,children:s}){var r,a;let o=e=>{switch(e.toLowerCase()){case"urgency":return(0,t.jsx)(i.Clock,{className:"w-3 h-3"});case"importance":return(0,t.jsx)(l.Target,{className:"w-3 h-3"});case"streak":return(0,t.jsx)(n.TrendingUp,{className:"w-3 h-3"});default:return(0,t.jsx)(A,{className:"w-3 h-3"})}};return(0,t.jsx)(M.TooltipProvider,{children:(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:s}),(0,t.jsx)(M.TooltipContent,{side:"right",className:"w-80 p-0",children:(0,t.jsxs)(k.Card,{className:"border-0 shadow-lg",children:[(0,t.jsx)(k.CardHeader,{className:"pb-3",children:(0,t.jsxs)(k.CardTitle,{className:"text-sm flex items-center gap-2",children:[(0,t.jsx)(A,{className:"w-4 h-4"}),"Recommendation Analysis"]})}),(0,t.jsxs)(k.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Overall Score"}),(0,t.jsxs)(T.Badge,{className:`${(r=e.score)>=80?"bg-green-100":r>=60?"bg-yellow-100":"bg-red-100"} ${(a=e.score)>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600"} border-0`,children:[e.score,"/100"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Contributing Factors"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[o("urgency"),(0,t.jsx)("span",{children:"Urgency"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.urgency}),(0,t.jsx)(T.Badge,{variant:"outline",className:"text-xs",children:"40% weight"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[o("importance"),(0,t.jsx)("span",{children:"Importance"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.importance}),(0,t.jsx)(T.Badge,{variant:"outline",className:"text-xs",children:"40% weight"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[o("streak"),(0,t.jsx)("span",{children:"Streak Impact"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:e.streakImpact}),(0,t.jsx)(T.Badge,{variant:"outline",className:"text-xs",children:"20% weight"})]})]})]})]}),e.reasoning&&e.reasoning.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Why This Recommendation"}),(0,t.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:e.reasoning.map((e,s)=>(0,t.jsxs)("li",{children:["• ",e]},s))})]}),(0,t.jsx)("div",{className:"pt-2 border-t",children:(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:["Type: ",e.type]}),(0,t.jsxs)("span",{children:["ID: ",e.id]})]})})]})]})})]})})}function R(){let e=(0,h.useRouter)(),[c,j]=(0,m.useState)(null),[N,T]=(0,m.useState)(!0),[k,C]=(0,m.useState)([]),[D,A]=(0,m.useState)([]),[R,E]=(0,m.useState)([]),[I,H]=(0,m.useState)("week"),[$,_]=(0,m.useState)(null),[L,F]=(0,m.useState)([]),O=async t=>{try{switch(t.action.type){case"navigate":let{path:s,filter:r,taskId:a}=t.action.data,n=s;r&&(n+=`?filter=${r}`,a&&(n+=`&taskId=${a}`)),e.push(n);break;case"toggle_habit":let i=new Date().toISOString().split("T")[0];await (0,p.toggleHabitCompletion)(t.action.data.habitId,i),x.toast.success(`Completed habit: ${t.title}`),setTimeout(()=>{window.location.reload()},1e3);break;case"start_focus":e.push("/dashboard"),x.toast.info("Starting focus session...",{description:"Navigate to the dashboard to begin your 25-minute focus session."});break;default:x.toast.error("Action not implemented yet")}}catch(e){console.error("Error handling recommendation action:",e),x.toast.error("Failed to complete action")}};(0,m.useEffect)(()=>{let t=(0,g.onAuthStateChanged)(f.auth,async t=>{if(j(t),t)try{var s;let e=new Date,r=new Date;"week"===I?r.setDate(e.getDate()-7):"month"===I?r.setMonth(e.getMonth()-1):r.setFullYear(e.getFullYear()-1);let[a,n]=await Promise.all([(0,p.getStudySessions)(t.uid,{start:r,end:e}),(0,p.getPomodoroSessions)(t.uid,{start:r,end:e})]),i=[];for(let e=0;e<7;e++){let s=new Date;s.setDate(s.getDate()-e);let r=s.toISOString().split("T")[0];i.push((0,p.getDailyStats)(t.uid,r))}let l=(await Promise.all(i)).filter(e=>null!==e),[o,d,c]=await Promise.all([(0,p.getTasks)(t.uid),(0,p.getCourses)(t.uid),(0,p.getHabits)(t.uid)]);C(l),A(a),E(n);let u=(s=function(e,t,s,r,a,n,i=30){let l=new Date,o=new Date;return o.setDate(l.getDate()-i),{userId:e,tasks:t,courses:s,habits:r,dailyStats:a,studySessions:n,dateRange:{start:o,end:l}}}(t.uid,o,d,c,l,a,30),b?b.updateContext(s):b=new y(s),b),m={progressMetrics:{totalStudyTime:0,averageDailyStudy:0,currentStreak:0,longestStreak:0,tasksCompleted:0,tasksCreated:0,completionRate:0,habitsCompleted:0,habitsStreak:0,coursesActive:0},heatmapData:[],progressArcs:[],insights:{nextWeekPrediction:{studyHours:0,tasksToComplete:0,habitsToMaintain:0},riskFactors:[],opportunities:[]}};try{let e={progressMetrics:u.calculateProgressMetrics(),heatmapData:u.generateHeatmapData(),progressArcs:u.generateProgressArcs(),insights:u.generatePredictiveInsights()};m={progressMetrics:e.progressMetrics||m.progressMetrics,heatmapData:Array.isArray(e.heatmapData)?e.heatmapData:[],progressArcs:Array.isArray(e.progressArcs)?e.progressArcs:[],insights:e.insights||m.insights}}catch(e){console.error("Error generating analytics data:",e)}_(m),F([{id:"1",type:"task",title:"Review Math Flashcards",description:"You have 25 flashcards due for review",score:85,urgency:.9,importance:.8,streakImpact:.7,reasoning:["High urgency due to due date approaching","Strong performance streak to maintain"],action:{type:"flashcard_review"}},{id:"2",type:"task",title:"Complete Physics Assignment",description:"Physics homework due tomorrow",score:78,urgency:.95,importance:.7,streakImpact:.6,reasoning:["Due tomorrow with high academic importance"],action:{type:"task_completion"}}])}catch(e){console.error("Error loading analytics:",e)}else e.push("/login");T(!1)});return()=>t()},[e,I]);let B=D.reduce((e,t)=>e+t.duration,0),V=R.filter(e=>"work"===e.type).length;R.filter(e=>"work"===e.type&&e.completed).reduce((e,t)=>e+(t.actualDuration||t.plannedDuration),0);let z=D.length>0?Math.round(B/D.length):0,U=R.length>0?Math.round(R.filter(e=>e.completed).length/R.length*100):0;return(k.length>0&&k.reduce((e,t)=>(t.totalStudyMinutes||0)>(e.totalStudyMinutes||0)?t:e),N)?(0,t.jsx)(s.default,{children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,t.jsx)(d.Loader2,{className:"w-8 h-8 animate-spin text-primary"})})}):(0,t.jsxs)(s.default,{title:"Deep Analytics",subtitle:"AI-powered insights into your study patterns",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Predictive analytics, progress tracking, and personalized recommendations"})}),(0,t.jsx)("div",{className:"flex gap-2",children:["week","month","year"].map(e=>(0,t.jsx)(r.Button,{variant:I===e?"default":"outline",size:"sm",onClick:()=>H(e),className:"capitalize",children:e},e))})]}),(0,t.jsxs)(a.Tabs,{defaultValue:"overview",className:"space-y-6",children:[(0,t.jsxs)(a.TabsList,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(a.TabsTrigger,{value:"overview",children:"Overview"}),(0,t.jsx)(a.TabsTrigger,{value:"progress",children:"Progress"}),(0,t.jsx)(a.TabsTrigger,{value:"insights",children:"Insights"}),(0,t.jsx)(a.TabsTrigger,{value:"patterns",children:"Patterns"})]}),(0,t.jsxs)(a.TabsContent,{value:"overview",className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(i.Clock,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Total Study Time"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[Math.round(B/60),"h ",B%60,"m"]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(l.Target,{className:"w-5 h-5 text-green-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Focus Sessions"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:V})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(o.Activity,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Avg Session"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[z," min"]})]}),(0,t.jsxs)("div",{className:"p-6 rounded-xl bg-card border border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(n.TrendingUp,{className:"w-5 h-5 text-orange-500"}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]}),(0,t.jsx)(M.TooltipProvider,{children:(0,t.jsxs)(M.Tooltip,{children:[(0,t.jsx)(M.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground cursor-help",children:[U,"%"]})}),(0,t.jsx)(M.TooltipContent,{children:(0,t.jsxs)("p",{className:"max-w-xs",children:[(0,t.jsx)("strong",{children:"How it's calculated:"}),(0,t.jsx)("br",{}),"Tasks completed ÷ Tasks created × 100",(0,t.jsx)("br",{}),"Based on your task completion history over the selected time period."]})})]})})]})]}),$?.progressArcs&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Subject Progress"}),(0,t.jsx)(w,{arcs:$.progressArcs})]}),$?.heatmapData&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Study Activity Heatmap"}),(0,t.jsx)(v,{data:$.heatmapData})]})]}),(0,t.jsx)(a.TabsContent,{value:"progress",className:"space-y-6",children:$?.progressArcs&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Detailed Progress Tracking"}),(0,t.jsx)(w,{arcs:$.progressArcs})]})}),(0,t.jsxs)(a.TabsContent,{value:"insights",className:"space-y-6",children:[$?.insights&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[(0,t.jsx)(u,{className:"w-5 h-5"}),"Predictive Insights"]}),(0,t.jsx)(S,{insights:$.insights})]}),L.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Personalized Recommendations"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:L.slice(0,6).map((e,s)=>(0,t.jsx)(P,{recommendation:e,children:(0,t.jsxs)("div",{className:"p-4 bg-card border border-border rounded-lg cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>O(e),children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Type: ",e.type]}),(0,t.jsxs)("span",{className:"text-xs font-medium",children:["Score: ",e.score,"/100"]})]})]})},s))})]})]}),(0,t.jsx)(a.TabsContent,{value:"patterns",className:"space-y-6",children:$?.heatmapData&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Complete Activity Patterns"}),(0,t.jsx)(v,{data:$.heatmapData})]})})]})]})}e.s(["default",()=>R],14887)}]);