(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},13474,e=>{"use strict";var t=e.i(43476),a=e.i(22016),s=e.i(67881);let r=(0,e.i(75254).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var l=e.i(92270),i=e.i(39616),n=e.i(71645);e.i(51718);var d=e.i(18357),o=e.i(76009),c=e.i(18566),h=e.i(63270),u=e.i(63415),m=e.i(93539);function x(){let[e,x]=(0,n.useState)(!1),[p,f]=(0,n.useState)(null),[g,b]=(0,n.useState)(!0),j=(0,c.useRouter)();(0,n.useEffect)(()=>{let e=(0,d.onAuthStateChanged)(o.auth,e=>{f(e),b(!1)});return()=>e()},[]);let v=async()=>{try{await (0,d.signOut)(o.auth),j.push("/")}catch(e){console.error("Logout error:",e)}};return(0,t.jsx)("nav",{className:"sticky top-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[(0,t.jsxs)(a.default,{href:"/dashboard",className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-sm",children:"SP"})}),(0,t.jsx)("span",{className:"font-serif text-xl font-bold text-slate-100",children:"StudyPal"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,t.jsx)(a.default,{href:"/dashboard",className:"text-slate-400 hover:text-slate-100 transition",children:"Dashboard"}),(0,t.jsx)(a.default,{href:"/materials",className:"text-slate-400 hover:text-slate-100 transition",children:"Materials"}),(0,t.jsx)(a.default,{href:"/flashcards",className:"text-slate-400 hover:text-slate-100 transition",children:"Flashcards"}),(0,t.jsx)(a.default,{href:"/advanced-learning",className:"text-slate-400 hover:text-slate-100 transition",children:"AI Learning"}),(0,t.jsx)(a.default,{href:"/groups",className:"text-slate-400 hover:text-slate-100 transition",children:"Groups"}),(0,t.jsx)(a.default,{href:"/planner",className:"text-slate-400 hover:text-slate-100 transition",children:"Planner"}),(0,t.jsx)(a.default,{href:"/calendar",className:"text-slate-400 hover:text-slate-100 transition",children:"Calendar"}),(0,t.jsx)(a.default,{href:"/habits",className:"text-slate-400 hover:text-slate-100 transition",children:"Habits"}),(0,t.jsx)(a.default,{href:"/analytics",className:"text-slate-400 hover:text-slate-100 transition",children:"Analytics"}),(0,t.jsx)(a.default,{href:"/support",className:"text-slate-400 hover:text-slate-100 transition",children:"Support"})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center gap-4",children:g?(0,t.jsx)("div",{className:"w-20 h-8 bg-slate-700 animate-pulse rounded"}):p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.ThemeToggle,{}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsxs)(u.DropdownMenu,{children:[(0,t.jsx)(u.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)("button",{className:"flex items-center gap-2 text-slate-400 hover:text-slate-100 transition p-2 rounded-lg hover:bg-slate-700",children:(0,t.jsxs)(h.Avatar,{className:"w-8 h-8",children:[(0,t.jsx)(h.AvatarImage,{src:p.photoURL||""}),(0,t.jsx)(h.AvatarFallback,{children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]})})}),(0,t.jsxs)(u.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,t.jsx)(u.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(a.default,{href:"/profile",className:"flex items-center gap-2",children:[(0,t.jsxs)(h.Avatar,{className:"w-4 h-4",children:[(0,t.jsx)(h.AvatarImage,{src:p.photoURL||""}),(0,t.jsx)(h.AvatarFallback,{className:"text-xs",children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]}),"Profile"]})}),(0,t.jsx)(u.DropdownMenuItem,{asChild:!0,children:(0,t.jsxs)(a.default,{href:"/settings",className:"flex items-center gap-2",children:[(0,t.jsx)(i.Settings,{className:"w-4 h-4"}),"Settings"]})}),(0,t.jsx)(u.DropdownMenuSeparator,{}),(0,t.jsxs)(u.DropdownMenuItem,{onClick:v,className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[(0,t.jsx)(l.LogOut,{className:"w-4 h-4"}),"Sign out"]})]})]})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{href:"/login",children:(0,t.jsx)(s.Button,{variant:"ghost",className:"text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:"Sign In"})}),(0,t.jsx)(a.default,{href:"/signup",children:(0,t.jsx)(s.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})})]})}),(0,t.jsx)("button",{className:"md:hidden",onClick:()=>x(!e),children:(0,t.jsx)(r,{className:"w-6 h-6"})}),e&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 bg-slate-900 border-b border-slate-700 md:hidden",children:(0,t.jsxs)("div",{className:"flex flex-col p-4 gap-4",children:[(0,t.jsx)(a.default,{href:"/dashboard",className:"text-slate-400 hover:text-slate-100",children:"Dashboard"}),(0,t.jsx)(a.default,{href:"/materials",className:"text-slate-400 hover:text-slate-100",children:"Materials"}),(0,t.jsx)(a.default,{href:"/flashcards",className:"text-slate-400 hover:text-slate-100",children:"Flashcards"}),(0,t.jsx)(a.default,{href:"/groups",className:"text-slate-400 hover:text-slate-100",children:"Groups"}),(0,t.jsx)(a.default,{href:"/planner",className:"text-slate-400 hover:text-slate-100",children:"Planner"}),(0,t.jsx)(a.default,{href:"/calendar",className:"text-slate-400 hover:text-slate-100",children:"Calendar"}),(0,t.jsx)(a.default,{href:"/habits",className:"text-slate-400 hover:text-slate-100",children:"Habits"}),(0,t.jsx)(a.default,{href:"/analytics",className:"text-slate-400 hover:text-slate-100",children:"Analytics"}),(0,t.jsx)(a.default,{href:"/support",className:"text-slate-400 hover:text-slate-100",children:"Support"}),(0,t.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,t.jsx)("span",{className:"text-slate-400",children:"Theme"}),(0,t.jsx)(m.ThemeToggle,{})]}),p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 py-2",children:[(0,t.jsxs)(h.Avatar,{className:"w-4 h-4",children:[(0,t.jsx)(h.AvatarImage,{src:p.photoURL||""}),(0,t.jsx)(h.AvatarFallback,{className:"text-xs",children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]}),(0,t.jsx)("span",{children:p.displayName||p.email?.split("@")[0]})]}),(0,t.jsxs)(s.Button,{variant:"ghost",onClick:v,className:"w-full justify-start text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:[(0,t.jsx)(l.LogOut,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.default,{href:"/login",children:(0,t.jsx)(s.Button,{variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:"Sign In"})}),(0,t.jsx)(a.default,{href:"/signup",children:(0,t.jsx)(s.Button,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})})]})]})})]})})}e.s(["default",()=>x],13474)},82306,e=>{"use strict";var t=e.i(43476),a=e.i(13474),s=e.i(67881),r=e.i(22016),l=e.i(63488),i=e.i(70756);let n=(0,e.i(75254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var d=e.i(53145),o=e.i(94814),c=e.i(65638),h=e.i(71645),u=e.i(18566);e.i(51718);var m=e.i(18357),x=e.i(76009);e.i(36180);var p=e.i(98925);let f=c.object({name:c.string().min(2,"Name must be at least 2 characters"),email:c.string().email("Please enter a valid email address"),password:c.string().min(6,"Password must be at least 6 characters")});function g(){let e=(0,u.useRouter)(),[c,g]=(0,h.useState)(!1),[b,j]=(0,h.useState)(null),[v,N]=(0,h.useState)(!1),{register:y,handleSubmit:w,formState:{errors:k}}=(0,d.useForm)({resolver:(0,o.zodResolver)(f)}),S=async t=>{g(!0),j(null);try{let a=(await (0,m.createUserWithEmailAndPassword)(x.auth,t.email,t.password)).user;await (0,p.setDoc)((0,p.doc)(x.db,"users",a.uid),{uid:a.uid,email:t.email,name:t.name,createdAt:new Date().toISOString(),subjects:[],preferences:{pace:"normal",dailyHours:3}}),e.push("/materials")}catch(t){let e="Failed to create account. Please try again.";"auth/email-already-in-use"===t.code?e="This email is already registered. Please sign in instead.":"auth/weak-password"===t.code?e="Password is too weak. Please choose a stronger password.":"auth/invalid-email"===t.code?e="Invalid email address. Please check and try again.":"auth/network-request-failed"===t.code?e="Network error. Please check your connection and try again.":"auth/operation-not-allowed"===t.code?e="Email/password accounts are not enabled. Please contact support.":"auth/configuration-not-found"===t.code?e="Firebase Authentication is not configured. Please enable Email/Password authentication in Firebase Console.":t.message&&(e=t.message),j(e)}finally{g(!1)}},A=async()=>{N(!0),j(null);try{let t=(await (0,m.signInWithPopup)(x.auth,x.googleProvider)).user;if(t)try{let e=(0,p.doc)(x.db,"users",t.uid);(await (0,p.getDoc)(e)).exists()||await (0,p.setDoc)(e,{uid:t.uid,email:t.email,name:t.displayName||t.email?.split("@")[0],photoURL:t.photoURL??null,provider:"google",createdAt:new Date().toISOString(),subjects:[],preferences:{pace:"normal",dailyHours:3}})}catch(e){console.warn("Could not save user profile to Firestore:",e.message)}e.push("/materials")}catch(t){let e="Google sign-in failed. Please try again.";"auth/popup-closed-by-user"===t.code?e="Sign-in pop-up was closed before completing the process.":"auth/cancelled-popup-request"===t.code?e="Another sign-in attempt is already in progress.":"auth/popup-blocked"===t.code?e="The pop-up was blocked by the browser. Please allow pop-ups and try again.":"auth/account-exists-with-different-credential"===t.code?e="An account already exists with the same email but different sign-in credentials.":t.message&&(e=t.message),j(e)}finally{N(!1)}};return(0,t.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-60px)]",children:(0,t.jsx)("div",{className:"w-full max-w-md px-4 py-8",children:(0,t.jsxs)("div",{className:"rounded-xl bg-card border border-border p-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-serif font-bold text-foreground mb-2",children:"Join StudyPal"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-8",children:"Start mastering your studies today"}),b&&(0,t.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:b}),(0,t.jsxs)("form",{onSubmit:w(S),className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,t.jsx)("input",{...y("name"),type:"text",placeholder:"John Doe",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:c})]}),k.name&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:k.name.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l.Mail,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,t.jsx)("input",{...y("email"),type:"email",placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:c})]}),k.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:k.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Lock,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,t.jsx)("input",{...y("password"),type:"password",placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:c})]}),k.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-destructive",children:k.password.message})]}),(0,t.jsx)(s.Button,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:c,children:c?"Creating Account...":"Create Account"})]}),(0,t.jsxs)("div",{className:"relative my-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-border"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-card text-muted-foreground",children:"Or continue with"})})]}),(0,t.jsx)(s.Button,{variant:"outline",className:"w-full bg-transparent",type:"button",onClick:A,disabled:v,children:v?"Connecting to Google...":"Continue with Google"}),(0,t.jsxs)("p",{className:"text-center text-muted-foreground text-sm mt-6",children:["Already have an account?"," ",(0,t.jsx)(r.default,{href:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})})})]})}e.s(["default",()=>g],82306)}]);