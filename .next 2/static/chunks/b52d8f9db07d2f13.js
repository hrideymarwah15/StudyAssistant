(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},10980,61911,39312,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);e.s(["BookOpen",()=>s],10980);let a=(0,t.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>a],61911);let l=(0,t.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["Zap",()=>l],39312)},25652,e=>{"use strict";let t=(0,e.i(75254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},60797,e=>{"use strict";var t=e.i(43476),s=e.i(59015),a=e.i(67881),l=e.i(7233),r=e.i(43531),i=e.i(37727),n=e.i(20278),d=e.i(25652),c=e.i(58377),o=e.i(31278),x=e.i(71645),m=e.i(18566);e.i(51718);var h=e.i(18357),u=e.i(76009),p=e.i(71898);function b(){let e=(0,m.useRouter)(),[b,g]=(0,x.useState)(null),[j,f]=(0,x.useState)(!0),[y,v]=(0,x.useState)([]),[N,w]=(0,x.useState)(!1),[k,C]=(0,x.useState)(!1),[S,H]=(0,x.useState)({name:"",description:"",frequency:"daily",targetCount:1,color:"#3b82f6"});(0,x.useEffect)(()=>{let t=(0,h.onAuthStateChanged)(u.auth,async t=>{if(g(t),t)try{let e=await (0,p.getHabits)(t.uid);if(0===e.length){for(let e of[{name:"Daily Study Session",description:"Complete at least 1 hour of focused study",frequency:"daily",targetCount:1,color:"#3b82f6",userId:t.uid,isArchived:!1},{name:"Review Flashcards",description:"Review 10 flashcards using spaced repetition",frequency:"daily",targetCount:1,color:"#10b981",userId:t.uid,isArchived:!1},{name:"Practice Problems",description:"Solve 5 practice problems in your subject",frequency:"daily",targetCount:1,color:"#f59e0b",userId:t.uid,isArchived:!1}])await (0,p.createHabit)(e);e=await (0,p.getHabits)(t.uid)}v(e)}catch(e){console.error("Error loading habits:",e)}else e.push("/login");f(!1)});return()=>t()},[e]);let T=async()=>{if(b&&S.name.trim()){C(!0);try{await (0,p.createHabit)({userId:b.uid,name:S.name.trim(),description:S.description.trim(),frequency:S.frequency,targetCount:S.targetCount,color:S.color,isArchived:!1});let e=await (0,p.getHabits)(b.uid);v(e),H({name:"",description:"",frequency:"daily",targetCount:1,color:"#3b82f6"}),w(!1)}catch(e){console.error("Error creating habit:",e)}finally{C(!1)}}},q=async e=>{let t=new Date().toISOString().split("T")[0];try{await (0,p.toggleHabitCompletion)(e,t);let s=await (0,p.getHabits)(b.uid);v(s)}catch(e){console.error("Error toggling habit completion:",e)}},O=e=>{let t=new Date().toISOString().split("T")[0];return e.completions?.some(e=>e.date===t&&e.completed)||!1},A=e=>e.completions&&0!==e.completions.length?Math.round(e.completions.filter(e=>e.completed).length/e.completions.length*100):0;return j?(0,t.jsx)(s.default,{children:(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[50vh]",children:(0,t.jsx)(o.Loader2,{className:"w-8 h-8 animate-spin text-slate-400"})})}):(0,t.jsxs)(s.default,{title:"Habits",subtitle:"Build and maintain consistent study routines",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-slate-400",children:"Build consistent study routines and track your progress"})}),(0,t.jsxs)(a.Button,{onClick:()=>w(!0),className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,t.jsx)(l.Plus,{className:"w-4 h-4 mr-2"}),"New Habit"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(n.Target,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Total Habits"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:y.length})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(r.Check,{className:"w-5 h-5 text-green-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Completed Today"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:y.filter(e=>O(e)).length})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(d.TrendingUp,{className:"w-5 h-5 text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Avg Completion"})]}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-slate-100",children:[y.length>0?Math.round(y.reduce((e,t)=>e+A(t),0)/y.length):0,"%"]})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,t.jsx)(c.Flame,{className:"w-5 h-5 text-orange-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-400",children:"Longest Streak"})]}),(0,t.jsx)("p",{className:"text-2xl font-bold text-slate-100",children:y.length>0?Math.max(...y.map(e=>e.longestStreak||0)):0})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===y.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(n.Target,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"Getting Started with Habits"}),(0,t.jsx)("p",{className:"text-slate-400 mb-6",children:"We've added some sample habits to help you get started. Complete them daily to build streaks and improve your study routine!"}),(0,t.jsxs)("div",{className:"bg-slate-800/30 rounded-lg p-4 mb-6 max-w-md mx-auto",children:[(0,t.jsx)("p",{className:"text-sm text-slate-300 mb-2",children:"ðŸ’¡ Pro tip: Building streaks increases motivation!"}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Studies show that maintaining habits for 21+ days significantly improves long-term retention."})]})]}):y.map(e=>(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-6 border border-slate-700",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>q(e.id),className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-colors ${O(e)?"bg-green-500 border-green-500 text-white":"border-slate-600 hover:border-slate-500"}`,children:O(e)&&(0,t.jsx)(r.Check,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-slate-100",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-sm text-slate-400",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[(0,t.jsx)("span",{children:e.frequency}),(0,t.jsx)("span",{children:"â€¢"}),(0,t.jsxs)("span",{children:["Target: ",(e=>{let{targetCount:t,frequency:s}=e;return 1===t?"daily"===s?"Once per day":"Once per week":"daily"===s?`${t} times per day`:`${t} times per week`})(e)]})]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(c.Flame,{className:"w-4 h-4 text-orange-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-slate-100",children:e.currentStreak||0})]}),(0,t.jsx)("p",{className:"text-xs text-slate-400",children:"Current streak"})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[(0,t.jsx)("span",{children:"Completion Rate"}),(0,t.jsxs)("span",{children:[A(e),"%"]})]}),(0,t.jsx)("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-300",style:{width:`${A(e)}%`}})})]})]},e.id))}),N&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"w-full max-w-md bg-slate-800 border border-slate-700 rounded-xl shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-slate-100",children:"Create New Habit"}),(0,t.jsx)("button",{onClick:()=>w(!1),className:"p-2 hover:bg-slate-700 rounded-lg",children:(0,t.jsx)(i.X,{className:"w-5 h-5"})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Habit Name"}),(0,t.jsx)("input",{type:"text",value:S.name,onChange:e=>H(t=>({...t,name:e.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400",placeholder:"e.g., Study for 1 hour daily"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Description (optional)"}),(0,t.jsx)("textarea",{value:S.description,onChange:e=>H(t=>({...t,description:e.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100 placeholder-slate-400 resize-none",rows:3,placeholder:"Describe your habit..."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Frequency"}),(0,t.jsxs)("select",{value:S.frequency,onChange:e=>H(t=>({...t,frequency:e.target.value})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100",children:[(0,t.jsx)("option",{value:"daily",children:"Daily"}),(0,t.jsx)("option",{value:"weekly",children:"Weekly"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm text-slate-400 mb-2 block",children:"Target Count"}),(0,t.jsx)("input",{type:"number",min:1,value:S.targetCount,onChange:e=>H(t=>({...t,targetCount:parseInt(e.target.value)||1})),className:"w-full px-4 py-2 rounded-lg bg-slate-700 border border-slate-600 text-slate-100"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>w(!1),className:"flex-1",children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:T,disabled:!S.name.trim()||k,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[k?(0,t.jsx)(o.Loader2,{className:"w-4 h-4 animate-spin mr-2"}):(0,t.jsx)(l.Plus,{className:"w-4 h-4 mr-2"}),"Create Habit"]})]})]})]})})]})}e.s(["default",()=>b])}]);