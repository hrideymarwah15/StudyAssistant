module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},32360,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(40695);let e=(0,a.i(70106).default)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var f=a.i(20005),g=a.i(21161),h=a.i(72131);a.i(30485);var i=a.i(31052),j=a.i(18740),k=a.i(50944),l=a.i(7706),m=a.i(76504),n=a.i(52025);function o(){let[a,o]=(0,h.useState)(!1),[p,q]=(0,h.useState)(null),[r,s]=(0,h.useState)(!0),t=(0,k.useRouter)();(0,h.useEffect)(()=>{let a=(0,i.onAuthStateChanged)(j.auth,a=>{q(a),s(!1)});return()=>a()},[]);let u=async()=>{try{await (0,i.signOut)(j.auth),t.push("/")}catch(a){console.error("Logout error:",a)}};return(0,b.jsx)("nav",{className:"sticky top-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-slate-700",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-4 flex items-center justify-between",children:[(0,b.jsxs)(c.default,{href:"/dashboard",className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white font-bold text-sm",children:"SP"})}),(0,b.jsx)("span",{className:"font-serif text-xl font-bold text-slate-100",children:"StudyPal"})]}),(0,b.jsxs)("div",{className:"hidden md:flex items-center gap-8",children:[(0,b.jsx)(c.default,{href:"/dashboard",className:"text-slate-400 hover:text-slate-100 transition",children:"Dashboard"}),(0,b.jsx)(c.default,{href:"/materials",className:"text-slate-400 hover:text-slate-100 transition",children:"Materials"}),(0,b.jsx)(c.default,{href:"/flashcards",className:"text-slate-400 hover:text-slate-100 transition",children:"Flashcards"}),(0,b.jsx)(c.default,{href:"/advanced-learning",className:"text-slate-400 hover:text-slate-100 transition",children:"AI Learning"}),(0,b.jsx)(c.default,{href:"/groups",className:"text-slate-400 hover:text-slate-100 transition",children:"Groups"}),(0,b.jsx)(c.default,{href:"/planner",className:"text-slate-400 hover:text-slate-100 transition",children:"Planner"}),(0,b.jsx)(c.default,{href:"/calendar",className:"text-slate-400 hover:text-slate-100 transition",children:"Calendar"}),(0,b.jsx)(c.default,{href:"/habits",className:"text-slate-400 hover:text-slate-100 transition",children:"Habits"}),(0,b.jsx)(c.default,{href:"/analytics",className:"text-slate-400 hover:text-slate-100 transition",children:"Analytics"}),(0,b.jsx)(c.default,{href:"/support",className:"text-slate-400 hover:text-slate-100 transition",children:"Support"})]}),(0,b.jsx)("div",{className:"hidden md:flex items-center gap-4",children:r?(0,b.jsx)("div",{className:"w-20 h-8 bg-slate-700 animate-pulse rounded"}):p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.ThemeToggle,{}),(0,b.jsx)("div",{className:"relative",children:(0,b.jsxs)(m.DropdownMenu,{children:[(0,b.jsx)(m.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"flex items-center gap-2 text-slate-400 hover:text-slate-100 transition p-2 rounded-lg hover:bg-slate-700",children:(0,b.jsxs)(l.Avatar,{className:"w-8 h-8",children:[(0,b.jsx)(l.AvatarImage,{src:p.photoURL||""}),(0,b.jsx)(l.AvatarFallback,{children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]})})}),(0,b.jsxs)(m.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsx)(m.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(c.default,{href:"/profile",className:"flex items-center gap-2",children:[(0,b.jsxs)(l.Avatar,{className:"w-4 h-4",children:[(0,b.jsx)(l.AvatarImage,{src:p.photoURL||""}),(0,b.jsx)(l.AvatarFallback,{className:"text-xs",children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]}),"Profile"]})}),(0,b.jsx)(m.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(c.default,{href:"/settings",className:"flex items-center gap-2",children:[(0,b.jsx)(g.Settings,{className:"w-4 h-4"}),"Settings"]})}),(0,b.jsx)(m.DropdownMenuSeparator,{}),(0,b.jsxs)(m.DropdownMenuItem,{onClick:u,className:"flex items-center gap-2 text-red-600 focus:text-red-600",children:[(0,b.jsx)(f.LogOut,{className:"w-4 h-4"}),"Sign out"]})]})]})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/login",children:(0,b.jsx)(d.Button,{variant:"ghost",className:"text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:"Sign In"})}),(0,b.jsx)(c.default,{href:"/signup",children:(0,b.jsx)(d.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})})]})}),(0,b.jsx)("button",{className:"md:hidden",onClick:()=>o(!a),children:(0,b.jsx)(e,{className:"w-6 h-6"})}),a&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 bg-slate-900 border-b border-slate-700 md:hidden",children:(0,b.jsxs)("div",{className:"flex flex-col p-4 gap-4",children:[(0,b.jsx)(c.default,{href:"/dashboard",className:"text-slate-400 hover:text-slate-100",children:"Dashboard"}),(0,b.jsx)(c.default,{href:"/materials",className:"text-slate-400 hover:text-slate-100",children:"Materials"}),(0,b.jsx)(c.default,{href:"/flashcards",className:"text-slate-400 hover:text-slate-100",children:"Flashcards"}),(0,b.jsx)(c.default,{href:"/groups",className:"text-slate-400 hover:text-slate-100",children:"Groups"}),(0,b.jsx)(c.default,{href:"/planner",className:"text-slate-400 hover:text-slate-100",children:"Planner"}),(0,b.jsx)(c.default,{href:"/calendar",className:"text-slate-400 hover:text-slate-100",children:"Calendar"}),(0,b.jsx)(c.default,{href:"/habits",className:"text-slate-400 hover:text-slate-100",children:"Habits"}),(0,b.jsx)(c.default,{href:"/analytics",className:"text-slate-400 hover:text-slate-100",children:"Analytics"}),(0,b.jsx)(c.default,{href:"/support",className:"text-slate-400 hover:text-slate-100",children:"Support"}),(0,b.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,b.jsx)("span",{className:"text-slate-400",children:"Theme"}),(0,b.jsx)(n.ThemeToggle,{})]}),p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-slate-400 py-2",children:[(0,b.jsxs)(l.Avatar,{className:"w-4 h-4",children:[(0,b.jsx)(l.AvatarImage,{src:p.photoURL||""}),(0,b.jsx)(l.AvatarFallback,{className:"text-xs",children:p.displayName?p.displayName.charAt(0).toUpperCase():p.email?.charAt(0).toUpperCase()})]}),(0,b.jsx)("span",{children:p.displayName||p.email?.split("@")[0]})]}),(0,b.jsxs)(d.Button,{variant:"ghost",onClick:u,className:"w-full justify-start text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:[(0,b.jsx)(f.LogOut,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(c.default,{href:"/login",children:(0,b.jsx)(d.Button,{variant:"ghost",className:"w-full justify-start text-slate-300 hover:text-slate-100 hover:bg-slate-700",children:"Sign In"})}),(0,b.jsx)(c.default,{href:"/signup",children:(0,b.jsx)(d.Button,{className:"w-full bg-blue-600 hover:bg-blue-700 text-white",children:"Get Started"})})]})]})})]})})}a.s(["default",()=>o],32360)},92208,a=>{"use strict";var b=a.i(87924),c=a.i(32360),d=a.i(40695),e=a.i(38246),f=a.i(92258),g=a.i(43108);let h=(0,a.i(70106).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var i=a.i(95245),j=a.i(59501),k=a.i(63563),l=a.i(72131),m=a.i(50944);a.i(30485);var n=a.i(31052),o=a.i(18740);a.i(69387);var p=a.i(60574);let q=k.object({name:k.string().min(2,"Name must be at least 2 characters"),email:k.string().email("Please enter a valid email address"),password:k.string().min(6,"Password must be at least 6 characters")});function r(){let a=(0,m.useRouter)(),[k,r]=(0,l.useState)(!1),[s,t]=(0,l.useState)(null),[u,v]=(0,l.useState)(!1),{register:w,handleSubmit:x,formState:{errors:y}}=(0,i.useForm)({resolver:(0,j.zodResolver)(q)}),z=async b=>{r(!0),t(null);try{let c=(await (0,n.createUserWithEmailAndPassword)(o.auth,b.email,b.password)).user;await (0,p.setDoc)((0,p.doc)(o.db,"users",c.uid),{uid:c.uid,email:b.email,name:b.name,createdAt:new Date().toISOString(),subjects:[],preferences:{pace:"normal",dailyHours:3}}),a.push("/materials")}catch(b){let a="Failed to create account. Please try again.";"auth/email-already-in-use"===b.code?a="This email is already registered. Please sign in instead.":"auth/weak-password"===b.code?a="Password is too weak. Please choose a stronger password.":"auth/invalid-email"===b.code?a="Invalid email address. Please check and try again.":"auth/network-request-failed"===b.code?a="Network error. Please check your connection and try again.":"auth/operation-not-allowed"===b.code?a="Email/password accounts are not enabled. Please contact support.":"auth/configuration-not-found"===b.code?a="Firebase Authentication is not configured. Please enable Email/Password authentication in Firebase Console.":b.message&&(a=b.message),t(a)}finally{r(!1)}},A=async()=>{v(!0),t(null);try{let b=(await (0,n.signInWithPopup)(o.auth,o.googleProvider)).user;if(b)try{let a=(0,p.doc)(o.db,"users",b.uid);(await (0,p.getDoc)(a)).exists()||await (0,p.setDoc)(a,{uid:b.uid,email:b.email,name:b.displayName||b.email?.split("@")[0],photoURL:b.photoURL??null,provider:"google",createdAt:new Date().toISOString(),subjects:[],preferences:{pace:"normal",dailyHours:3}})}catch(a){console.warn("Could not save user profile to Firestore:",a.message)}a.push("/materials")}catch(b){let a="Google sign-in failed. Please try again.";"auth/popup-closed-by-user"===b.code?a="Sign-in pop-up was closed before completing the process.":"auth/cancelled-popup-request"===b.code?a="Another sign-in attempt is already in progress.":"auth/popup-blocked"===b.code?a="The pop-up was blocked by the browser. Please allow pop-ups and try again.":"auth/account-exists-with-different-credential"===b.code?a="An account already exists with the same email but different sign-in credentials.":b.message&&(a=b.message),t(a)}finally{v(!1)}};return(0,b.jsxs)("main",{className:"min-h-screen bg-background",children:[(0,b.jsx)(c.default,{}),(0,b.jsx)("div",{className:"flex items-center justify-center min-h-[calc(100vh-60px)]",children:(0,b.jsx)("div",{className:"w-full max-w-md px-4 py-8",children:(0,b.jsxs)("div",{className:"rounded-xl bg-card border border-border p-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-serif font-bold text-foreground mb-2",children:"Join StudyPal"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-8",children:"Start mastering your studies today"}),s&&(0,b.jsx)("div",{className:"mb-4 p-3 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm",children:s}),(0,b.jsxs)("form",{onSubmit:x(z),className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Full Name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,b.jsx)("input",{...w("name"),type:"text",placeholder:"John Doe",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:k})]}),y.name&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:y.name.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Mail,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,b.jsx)("input",{...w("email"),type:"email",placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:k})]}),y.email&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:y.email.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(g.Lock,{className:"w-5 h-5 absolute left-3 top-3 text-muted-foreground"}),(0,b.jsx)("input",{...w("password"),type:"password",placeholder:"••••••••",className:"w-full pl-10 pr-4 py-2 rounded-lg bg-background border border-border focus:border-primary outline-none transition-colors",disabled:k})]}),y.password&&(0,b.jsx)("p",{className:"mt-1 text-sm text-destructive",children:y.password.message})]}),(0,b.jsx)(d.Button,{type:"submit",className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",disabled:k,children:k?"Creating Account...":"Create Account"})]}),(0,b.jsxs)("div",{className:"relative my-6",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("div",{className:"w-full border-t border-border"})}),(0,b.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,b.jsx)("span",{className:"px-2 bg-card text-muted-foreground",children:"Or continue with"})})]}),(0,b.jsx)(d.Button,{variant:"outline",className:"w-full bg-transparent",type:"button",onClick:A,disabled:u,children:u?"Connecting to Google...":"Continue with Google"}),(0,b.jsxs)("p",{className:"text-center text-muted-foreground text-sm mt-6",children:["Already have an account?"," ",(0,b.jsx)(e.default,{href:"/login",className:"text-primary hover:underline",children:"Sign in"})]})]})})})]})}a.s(["default",()=>r],92208)}];

//# sourceMappingURL=_03e582cd._.js.map