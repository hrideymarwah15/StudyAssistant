module.exports=[54826,(a,b,c)=>{},15299,(a,b,c)=>{a.r(54826);var d=a.r(72131),e=d&&"object"==typeof d&&"default"in d?d:{default:d},f="undefined"!=typeof process&&process.env&&!0,g=function(a){return"[object String]"===Object.prototype.toString.call(a)},h=function(){function a(a){var b=void 0===a?{}:a,c=b.name,d=void 0===c?"stylesheet":c,e=b.optimizeForSpeed,h=void 0===e?f:e;i(g(d),"`name` must be a string"),this._name=d,this._deletedRulePlaceholder="#"+d+"-deleted-rule____{}",i("boolean"==typeof h,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=h,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var b,c=a.prototype;return c.setOptimizeForSpeed=function(a){i("boolean"==typeof a,"`setOptimizeForSpeed` accepts a boolean"),i(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=a,this.inject()},c.isOptimizeForSpeed=function(){return this._optimizeForSpeed},c.inject=function(){var a=this;i(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(b,c){return"number"==typeof c?a._serverSheet.cssRules[c]={cssText:b}:a._serverSheet.cssRules.push({cssText:b}),c},deleteRule:function(b){a._serverSheet.cssRules[b]=null}}},c.getSheetForTag=function(a){if(a.sheet)return a.sheet;for(var b=0;b<document.styleSheets.length;b++)if(document.styleSheets[b].ownerNode===a)return document.styleSheets[b]},c.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},c.insertRule=function(a,b){return i(g(a),"`insertRule` accepts only strings"),"number"!=typeof b&&(b=this._serverSheet.cssRules.length),this._serverSheet.insertRule(a,b),this._rulesCount++},c.replaceRule=function(a,b){this._optimizeForSpeed;var c=this._serverSheet;if(b.trim()||(b=this._deletedRulePlaceholder),!c.cssRules[a])return a;c.deleteRule(a);try{c.insertRule(b,a)}catch(d){f||console.warn("StyleSheet: illegal rule: \n\n"+b+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),c.insertRule(this._deletedRulePlaceholder,a)}return a},c.deleteRule=function(a){this._serverSheet.deleteRule(a)},c.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},c.cssRules=function(){return this._serverSheet.cssRules},c.makeStyleTag=function(a,b,c){b&&i(g(b),"makeStyleTag accepts only strings as second parameter");var d=document.createElement("style");this._nonce&&d.setAttribute("nonce",this._nonce),d.type="text/css",d.setAttribute("data-"+a,""),b&&d.appendChild(document.createTextNode(b));var e=document.head||document.getElementsByTagName("head")[0];return c?e.insertBefore(d,c):e.appendChild(d),d},b=[{key:"length",get:function(){return this._rulesCount}}],function(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}(a.prototype,b),a}();function i(a,b){if(!a)throw Error("StyleSheet: "+b+".")}var j=function(a){for(var b=5381,c=a.length;c;)b=33*b^a.charCodeAt(--c);return b>>>0},k={};function l(a,b){if(!b)return"jsx-"+a;var c=String(b),d=a+c;return k[d]||(k[d]="jsx-"+j(a+"-"+c)),k[d]}function m(a,b){var c=a+(b=b.replace(/\/style/gi,"\\/style"));return k[c]||(k[c]=b.replace(/__jsx-style-dynamic-selector/g,a)),k[c]}var n=function(){function a(a){var b=void 0===a?{}:a,c=b.styleSheet,d=void 0===c?null:c,e=b.optimizeForSpeed,f=void 0!==e&&e;this._sheet=d||new h({name:"styled-jsx",optimizeForSpeed:f}),this._sheet.inject(),d&&"boolean"==typeof f&&(this._sheet.setOptimizeForSpeed(f),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var b=a.prototype;return b.add=function(a){var b=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(a.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var c=this.getIdAndRules(a),d=c.styleId,e=c.rules;if(d in this._instancesCounts){this._instancesCounts[d]+=1;return}var f=e.map(function(a){return b._sheet.insertRule(a)}).filter(function(a){return -1!==a});this._indices[d]=f,this._instancesCounts[d]=1},b.remove=function(a){var b=this,c=this.getIdAndRules(a).styleId;if(function(a,b){if(!a)throw Error("StyleSheetRegistry: "+b+".")}(c in this._instancesCounts,"styleId: `"+c+"` not found"),this._instancesCounts[c]-=1,this._instancesCounts[c]<1){var d=this._fromServer&&this._fromServer[c];d?(d.parentNode.removeChild(d),delete this._fromServer[c]):(this._indices[c].forEach(function(a){return b._sheet.deleteRule(a)}),delete this._indices[c]),delete this._instancesCounts[c]}},b.update=function(a,b){this.add(b),this.remove(a)},b.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},b.cssRules=function(){var a=this,b=this._fromServer?Object.keys(this._fromServer).map(function(b){return[b,a._fromServer[b]]}):[],c=this._sheet.cssRules();return b.concat(Object.keys(this._indices).map(function(b){return[b,a._indices[b].map(function(a){return c[a].cssText}).join(a._optimizeForSpeed?"":"\n")]}).filter(function(a){return!!a[1]}))},b.styles=function(a){var b,c;return b=this.cssRules(),void 0===(c=a)&&(c={}),b.map(function(a){var b=a[0],d=a[1];return e.default.createElement("style",{id:"__"+b,key:"__"+b,nonce:c.nonce?c.nonce:void 0,dangerouslySetInnerHTML:{__html:d}})})},b.getIdAndRules=function(a){var b=a.children,c=a.dynamic,d=a.id;if(c){var e=l(d,c);return{styleId:e,rules:Array.isArray(b)?b.map(function(a){return m(e,a)}):[m(e,b)]}}return{styleId:l(d),rules:Array.isArray(b)?b:[b]}},b.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(a,b){return a[b.id.slice(2)]=b,a},{})},a}(),o=d.createContext(null);function p(){return new n}function q(){return d.useContext(o)}function r(a){var b=q();return b&&b.add(a),null}o.displayName="StyleSheetContext",e.default.useInsertionEffect||e.default.useLayoutEffect,r.dynamic=function(a){return a.map(function(a){return l(a[0],a[1])}).join(" ")},c.StyleRegistry=function(a){var b=a.registry,c=a.children,f=d.useContext(o),g=d.useState(function(){return f||b||p()})[0];return e.default.createElement(o.Provider,{value:g},c)},c.createStyleRegistry=p,c.style=r,c.useStyleRegistry=q},31626,(a,b,c)=>{b.exports=a.r(15299).style},53069,a=>{"use strict";var b=a.i(87924),c=a.i(31626),d=a.i(72131),e=a.i(50944),f=a.i(45404);function g(a,b={}){return new Promise((a,b)=>{b(Error("Speech synthesis not supported"))})}function h(){}a.i(79641);var i=a.i(19337);class j{COMMAND_PATTERNS={create_task:[/(?:create|add|make|schedule)\s+(?:a\s+)?(?:new\s+)?task(?:\s+(?:called|named|titled)\s+)?["']?([^"']+)["']?/i,/(?:i\s+need\s+to|i\s+have\s+to|i\s+should)\s+(.+?)(?:\s+(?:by|before|due)\s+(.+?))?(?:\s+(?:for|in)\s+(.+?))?$/i,/(?:remind\s+me\s+to|don't\s+forget\s+to)\s+(.+?)(?:\s+(?:by|before|due)\s+(.+?))?$/i],complete_task:[/(?:complete|finish|mark\s+(?:as\s+)?done|check\s+off)\s+(?:task\s+)?["']?([^"']+)["']?/i,/(?:i\s+(?:finished|completed|done\s+with))\s+(.+)$/i],show_tasks:[/(?:show|list|display|get)\s+(?:me\s+)?(?:my\s+)?tasks?(?:\s+(?:for|in)\s+(.+?))?(?:\s+(?:due|before)\s+(.+?))?/i,/(?:what\s+(?:do\s+i\s+have\s+to\s+do|tasks\s+do\s+i\s+have|is\s+on\s+my\s+plate))\??$/i,/(?:what's\s+(?:due|coming\s+up|on\s+my\s+schedule))\??$/i],start_study:[/(?:start|begin|launch)\s+(?:a\s+)?(?:study|focus|work)\s+session(?:\s+(?:for|on)\s+(.+?))?(?:\s+(?:of|lasting)\s+(\d+)\s*(?:min|minutes?))?/i,/(?:let's\s+(?:study|focus|work))\s*(?:\s+(?:on|for)\s+(.+?))?(?:\s+(?:for|lasting)\s+(\d+)\s*(?:min|minutes?))?/i,/(?:time\s+to\s+(?:study|focus|work))\s*(?:\s+(?:on|for)\s+(.+?))?(?:\s+(?:for|lasting)\s+(\d+)\s*(?:min|minutes?))?/i],complete_habit:[/(?:i\s+(?:did|completed?|finished))\s+(.+?)(?:\s+today)?$/i,/(?:mark|check)\s+(.+?)\s+(?:as\s+)?(?:done|completed?)(?:\s+today)?$/i,/(?:completed?|finished|did)\s+(.+?)(?:\s+habit)?(?:\s+today)?$/i],show_habits:[/(?:show|list|display)\s+(?:me\s+)?(?:my\s+)?habits?$/i,/(?:what\s+habits?\s+(?:do\s+i\s+have|should\s+i\s+do))\??$/i,/(?:habit\s+(?:tracker|status|progress))\??$/i],show_course:[/(?:show|tell\s+me\s+about|what's\s+up\s+with)\s+(?:my\s+)?(.+?)\s+course$/i,/(?:course\s+info|course\s+details)\s+(?:for\s+)?(.+)$/i,/(?:how's\s+my\s+)?(.+?)\s+(?:course|class)\s+(?:going|progress)\??$/i],find_material:[/(?:find|search|get|show)\s+(?:me\s+)?(?:materials?|notes?|resources?)(?:\s+(?:for|about|on)\s+(.+?))?(?:\s+(?:in|from)\s+(.+?))?/i,/(?:where\s+(?:are|is)\s+my\s+)?(.+?)\s+(?:notes?|materials?|resources?)\??$/i,/(?:i\s+need\s+(?:materials?|notes?|resources?)\s+(?:for|about|on)\s+)?(.+)$/i],schedule_event:[/(?:schedule|plan|set\s+up)\s+(?:a\s+)?(?:meeting|event|appointment)(?:\s+(?:called|named|titled)\s+["']?([^"']+)["']?)?(?:\s+(?:for|on|at)\s+(.+?))?(?:\s+(?:with|and)\s+(.+?))?/i,/(?:add\s+to\s+(?:my\s+)?calendar|put\s+on\s+(?:my\s+)?schedule)\s+(.+?)(?:\s+(?:at|on)\s+(.+?))?(?:\s+(?:with|and)\s+(.+?))?/i],show_progress:[/(?:show|tell\s+me|get)\s+(?:my\s+)?(?:progress|stats|analytics|performance)(?:\s+(?:for|on|in)\s+(.+?))?(?:\s+(?:this\s+)?(?:week|month|year))?/i,/(?:how\s+(?:am\s+i\s+doing|is\s+my\s+progress|are\s+my\s+stats))\??(?:\s+(?:in|for|on)\s+(.+?))?/i,/(?:progress\s+report|study\s+stats|performance\s+summary)(?:\s+(?:for|on)\s+(.+?))?\??$/i],study_plan:[/(?:create|make|plan|generate)\s+(?:a\s+)?(?:study|revision|exam)\s+plan(?:\s+(?:for|exam)\s+(.+?))?(?:\s+(?:in|over)\s+(\d+)\s*(?:days?|weeks?))?/i,/(?:help\s+me\s+)?(?:plan|prepare)\s+(?:for\s+)?(?:my\s+)?(.+?)\s+(?:exam|test|quiz)(?:\s+(?:in|over)\s+(\d+)\s*(?:days?|weeks?))?/i],productivity_session:[/(?:start|begin|launch)\s+(?:a\s+)?(?:productivity|deep\s+work|focus)\s+session(?:\s+(?:for|lasting)\s+(\d+)\s*(?:min|minutes?|hours?))?/i,/(?:let's\s+(?:get|be)\s+productive|time\s+for\s+deep\s+work|focus\s+mode|do\s+not\s+disturb)$/i]};INTENT_MAPPING={create_task:"task.create",complete_task:"task.complete",show_tasks:"task.list",start_study:"study.start",complete_habit:"habit.complete",show_habits:"habit.list",show_course:"course.info",find_material:"material.search",schedule_event:"calendar.create",show_progress:"analytics.show",study_plan:"plan.create",productivity_session:"productivity.start"};parseCommand(a,b){let c=a.toLowerCase().trim();for(let[d,e]of Object.entries(this.COMMAND_PATTERNS))for(let f of e){let e=c.match(f);if(e){let c=this.buildParsedCommand(d,e,a);if(c.confidence>.3)return c.multiStep&&(c.steps=this.generateSteps(c,b)),c}}return{intent:"unknown",entities:{},confidence:.1,originalCommand:a,requiresConfirmation:!0}}buildParsedCommand(a,b,c){let d=this.INTENT_MAPPING[a]||a,e={},f=.8;switch(a){case"create_task":e.title=b[1]||b[2]||b[3],e.dueDate=this.parseDate(b[4]||b[5]),e.course=b[6];break;case"complete_task":e.taskName=b[1]||b[2];break;case"show_tasks":e.filter=b[1]||b[2]?{course:b[1],dueDate:b[2]}:null;break;case"start_study":e.task=b[1]||b[2],e.duration=b[3]||b[4]?parseInt(b[3]||b[4]):25;break;case"complete_habit":e.habitName=b[1]||b[2]||b[3];break;case"show_course":e.courseName=b[1]||b[2]||b[3];break;case"find_material":e.topic=b[1]||b[2]||b[3],e.course=b[4];break;case"schedule_event":e.title=b[1]||b[4],e.dateTime=this.parseDate(b[2]||b[5]),e.participants=b[3]||b[6];break;case"study_plan":e.examName=b[1]||b[2],e.days=b[3]||b[4]?parseInt(b[3]||b[4]):7,f=.9;break;case"productivity_session":e.duration=b[1]?this.parseDuration(b[1]):90,f=.9;break;default:f=.5}return{intent:d,entities:e,confidence:f,originalCommand:c,multiStep:["study_plan","productivity_session"].includes(a),requiresConfirmation:f<.7}}generateSteps(a,b){let c=[];switch(a.intent){case"plan.create":c.push({id:"gather_requirements",action:"analyze_course_materials",params:{examName:a.entities.examName},description:"Analyzing course materials and syllabus"},{id:"assess_current_progress",action:"check_completion_status",params:{course:a.entities.examName},description:"Checking current progress and completed topics"},{id:"calculate_study_load",action:"estimate_time_needed",params:{days:a.entities.days,course:a.entities.examName},description:"Calculating optimal study time distribution"},{id:"generate_schedule",action:"create_study_plan",params:{days:a.entities.days,course:a.entities.examName},description:"Creating detailed study schedule",dependsOn:["gather_requirements","assess_current_progress","calculate_study_load"]},{id:"create_tasks",action:"schedule_tasks",params:{planId:"{{generate_schedule.result}}"},description:"Adding study tasks to your planner",dependsOn:["generate_schedule"]});break;case"productivity.start":c.push({id:"prepare_environment",action:"setup_focus_mode",params:{duration:a.entities.duration},description:"Setting up distraction-free environment"},{id:"select_task",action:"choose_next_task",params:{},description:"Selecting the most important task to focus on",requiresUserInput:!0},{id:"start_timer",action:"begin_pomodoro",params:{taskId:"{{select_task.result}}",duration:a.entities.duration},description:"Starting focused work session",dependsOn:["prepare_environment","select_task"]},{id:"monitor_progress",action:"track_session",params:{sessionId:"{{start_timer.result}}"},description:"Monitoring your progress and providing encouragement"})}return c}parseDate(a){if(!a)return null;let b=new Date,c=a.toLowerCase();if(c.includes("tomorrow")){let a=new Date(b);return a.setDate(b.getDate()+1),a}if(c.includes("next week")){let a=new Date(b);return a.setDate(b.getDate()+7),a}if(c.includes("end of week")||c.includes("friday")){let a=new Date(b),c=(5-b.getDay()+7)%7;return a.setDate(b.getDate()+(0===c?7:c)),a}let d=new Date(a);return isNaN(d.getTime())?null:d}parseDuration(a){let b=a.match(/(\d+)\s*(min|minutes?|hours?)/i);if(b){let a=parseInt(b[1]);return b[2].toLowerCase().startsWith("hour")?60*a:a}return 25}getSuggestedCommands(a){let b=[];return a?.currentPage==="dashboard"&&b.push("Start a study session","Show my tasks","Complete a habit","Create a study plan"),a?.currentPage==="planner"&&b.push("Create a new task","Show tasks due today","Schedule an event"),a?.availableData?.tasks&&a.availableData.tasks.length>0&&b.push("Show my tasks"),a?.availableData?.habits&&a.availableData.habits.length>0&&b.push("Show my habits"),b.slice(0,4)}}let k=null;function l(){return k||(k=new j),k}class m{materials=[];userId;constructor(a){this.userId=a}async initialize(){try{this.materials=await (0,i.getMaterials)(this.userId)}catch(a){console.error("Failed to load materials for search:",a),this.materials=[]}}async search(a,b={}){let{limit:c=10,types:d,tags:e}=b;if(!a.trim())return[];0===this.materials.length&&await this.initialize();let f=a.toLowerCase(),g=[];for(let a of this.materials){if(d&&d.length>0&&!d.includes(a.type))continue;if(e&&e.length>0){let b=a.subject||"";if(!e.some(a=>b.toLowerCase().includes(a.toLowerCase())))continue}let b=0,c="";a.title.toLowerCase().includes(f)&&(b+=10,c=this.extractExcerpt(a.title,f)),a.content&&a.content.toLowerCase().includes(f)&&(b+=5,c||(c=this.extractExcerpt(a.content,f))),a.subject&&a.subject.toLowerCase().includes(f)&&(b+=3,c||(c=`Subject: ${a.subject}`)),a.title.toLowerCase()===f&&(b+=20),b>0&&g.push({id:a.id,name:a.title,type:a.type,content:a.content||"",tags:[a.subject],relevanceScore:b,excerpt:c||a.title})}return g.sort((a,b)=>b.relevanceScore-a.relevanceScore),g.slice(0,c)}extractExcerpt(a,b,c=50){let d=a.toLowerCase().indexOf(b);if(-1===d)return a.substring(0,c)+"...";let e=Math.max(0,d-c/2),f=Math.min(a.length,d+b.length+c/2),g=a.substring(e,f);return e>0&&(g="..."+g),f<a.length&&(g+="..."),g}getAvailableTypes(){return Array.from(new Set(this.materials.map(a=>a.type)))}getAvailableTags(){let a=new Set;return this.materials.forEach(b=>{b.subject&&a.add(b.subject)}),Array.from(a)}getMaterialCount(){return this.materials.length}}let n=null;class o{executionStates=new Map;API_BRIDGES={"task.create":this.createTask.bind(this),"task.complete":this.completeTask.bind(this),"task.list":this.listTasks.bind(this),"study.start":this.startStudySession.bind(this),"habit.complete":this.completeHabit.bind(this),"habit.list":this.listHabits.bind(this),"course.info":this.getCourseInfo.bind(this),"material.search":this.searchMaterials.bind(this),"calendar.create":this.createCalendarEvent.bind(this),"analytics.show":this.showAnalytics.bind(this),"plan.create":this.createStudyPlan.bind(this),"productivity.start":this.startProductivitySession.bind(this),analyze_course_materials:this.analyzeCourseMaterials.bind(this),check_completion_status:this.checkCompletionStatus.bind(this),estimate_time_needed:this.estimateTimeNeeded.bind(this),create_study_plan:this.createStudyPlanAction.bind(this),schedule_tasks:this.scheduleTasks.bind(this),setup_focus_mode:this.setupFocusMode.bind(this),choose_next_task:this.chooseNextTask.bind(this),begin_pomodoro:this.beginPomodoro.bind(this),track_session:this.trackSession.bind(this)};async executeCommand(a,b){let c=`cmd_${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return a.multiStep&&a.steps?this.executeMultiStepCommand(c,a,b):this.executeSingleCommand(a,b)}async executeSingleCommand(a,b){let c=this.API_BRIDGES[a.intent];if(!c)return{success:!1,message:`I don't know how to handle "${a.intent}" commands yet.`};try{return await c(a.entities,b)}catch(a){return console.error("Command execution error:",a),{success:!1,message:"Sorry, I encountered an error while executing that command. Please try again."}}}async executeMultiStepCommand(a,b,c){if(!b.steps)return{success:!1,message:"No steps defined for multi-step command"};let d={commandId:a,currentStep:0,totalSteps:b.steps.length,results:{},status:"running"};this.executionStates.set(a,d);try{for(let a=0;a<b.steps.length;a++){let e=b.steps[a];if(d.currentStep=a,e.dependsOn){let a=e.dependsOn.filter(a=>!d.results[a]);if(a.length>0){d.status="failed",d.error=`Missing dependencies: ${a.join(", ")}`;break}}let f=await this.executeStep(e,d.results,c);if(!f.success){d.status="failed",d.error=f.message;break}if(d.results[e.id]=f.data,f.requiresUserInput)return d.status="waiting",{success:!0,message:f.userInputPrompt||"Please provide additional information",requiresUserInput:!0,nextStep:e.id}}return d.status="completed",{success:!0,message:this.generateCompletionMessage(b,d.results),data:d.results}}catch(a){return d.status="failed",d.error=a instanceof Error?a.message:"Unknown error",{success:!1,message:"Command execution failed. Please try again."}}}async executeStep(a,b,c){let d=this.resolveTemplateVariables(a.params,b),e=this.API_BRIDGES[a.action];return e?await e(d,c):{success:!1,message:`Unknown action: ${a.action}`}}resolveTemplateVariables(a,b){let c={...a};for(let[a,d]of Object.entries(c))if("string"==typeof d&&d.startsWith("{{")&&d.endsWith("}}")){let[e,f]=d.slice(2,-2).split(".");b[e]&&(c[a]=f?b[e][f]:b[e])}return c}async createTask(a,b){try{let c={userId:b.userId,title:a.title,description:a.description||"",priority:a.priority||"medium",status:"todo",dueDate:a.dueDate,course:a.course,estimatedMinutes:a.duration||30,tags:a.tags||[],subtasks:[],links:[]},d=await (0,i.createTask)(c);return{success:!0,message:`Created task "${a.title}"${a.dueDate?` due ${a.dueDate.toLocaleDateString()}`:""}`,data:{taskId:d}}}catch(a){return{success:!1,message:"Failed to create task. Please try again."}}}async completeTask(a,b){try{let c=(await (0,i.getTasks)(b.userId)).find(b=>b.title.toLowerCase().includes(a.taskName.toLowerCase()));if(!c)return{success:!1,message:`I couldn't find a task named "${a.taskName}". Could you be more specific?`};return await (0,i.updateTask)(c.id,{status:"done",completedAt:new Date}),{success:!0,message:`Marked "${c.title}" as completed! Great job! ðŸŽ‰`,data:{taskId:c.id}}}catch(a){return{success:!1,message:"Failed to complete task. Please try again."}}}async listTasks(a,b){try{let c=await (0,i.getTasks)(b.userId);if(a.filter&&(a.filter.course&&(c=c.filter(b=>b.course?.toLowerCase().includes(a.filter.course.toLowerCase()))),a.filter.dueDate)){let b=new Date(a.filter.dueDate);c=c.filter(a=>a.dueDate&&new Date(a.dueDate)<=b)}let d=c.filter(a=>"done"!==a.status);if(0===d.length)return{success:!0,message:"You have no pending tasks! ðŸŽ‰",data:{tasks:[]}};let e=d.slice(0,5).map(a=>`- ${a.title}${a.dueDate?` (due ${new Date(a.dueDate).toLocaleDateString()})`:""}`).join("\n");return{success:!0,message:`Here are your ${a.filter?"filtered ":""}tasks:
${e}${d.length>5?`
...and ${d.length-5} more`:""}`,data:{tasks:d}}}catch(a){return{success:!1,message:"Failed to retrieve tasks. Please try again."}}}async startStudySession(a,b){return{success:!0,message:`Starting a ${a.duration||25} minute study session${a.task?` for "${a.task}"`:""}. Focus mode activated! ðŸš€`,data:{duration:a.duration||25,task:a.task}}}async completeHabit(a,b){try{let c=(await (0,i.getHabits)(b.userId)).find(b=>b.name.toLowerCase().includes(a.habitName.toLowerCase()));if(!c)return{success:!1,message:`I couldn't find a habit named "${a.habitName}". Could you be more specific?`};return await (0,i.toggleHabitCompletion)(c.id,new Date().toISOString().split("T")[0]),{success:!0,message:`Completed "${c.name}" for today! Keep up the great work! ðŸ’ª`,data:{habitId:c.id}}}catch(a){return{success:!1,message:"Failed to complete habit. Please try again."}}}async listHabits(a,b){try{let a=await (0,i.getHabits)(b.userId),c=new Date().toISOString().split("T")[0],d=a.map(a=>{let b=a.completions.some(a=>a.date===c&&a.completed);return`- ${a.name}: ${b?"âœ… Done":"â³ Pending"} (${a.currentStreak} day streak)`}).join("\n");return{success:!0,message:`Here's your habit status:
${d}`,data:{habits:a}}}catch(a){return{success:!1,message:"Failed to retrieve habits. Please try again."}}}async getCourseInfo(a,b){try{let c=(await (0,i.getCourses)(b.userId)).find(b=>b.name.toLowerCase().includes(a.courseName.toLowerCase()));if(!c)return{success:!1,message:`I couldn't find a course named "${a.courseName}".`};let d=`Course: ${c.name}${c.code?` (${c.code})`:""}${c.professor?`
Professor: ${c.professor}`:""}${c.examDate?`
Next Exam: ${new Date(c.examDate).toLocaleDateString()}`:""}`;return{success:!0,message:d,data:{course:c}}}catch(a){return{success:!1,message:"Failed to retrieve course information."}}}async searchMaterials(a,b){try{var c;let d=(c=b.userId,n&&n.userId===c||(n=new m(c)),n);await d.initialize();let e=a.topic||a.query||"",f=await d.search(e,{limit:5,types:a.type?[a.type]:void 0,tags:a.tags?a.tags.split(",").map(a=>a.trim()):void 0});if(0===f.length)return{success:!1,message:`I couldn't find any materials related to "${e}". ${d.getMaterialCount()>0?"Try a different search term or check your materials.":"You haven't uploaded any materials yet."}`};let g=f.map(a=>`- ${a.name} (${a.type}) - ${a.excerpt}`).join("\n");return{success:!0,message:`Found ${f.length} material${f.length>1?"s":""} related to "${e}":
${g}`,data:{materials:f}}}catch(a){return console.error("Material search error:",a),{success:!1,message:"Failed to search materials. Please try again."}}}async createCalendarEvent(a,b){try{let c={userId:b.userId,title:a.title,type:"meeting",startTime:a.dateTime||new Date,endTime:new Date((a.dateTime||new Date).getTime()+36e5),isAllDay:!1,isRecurring:!1,description:a.description||"",color:"#3b82f6"},d=await (0,i.createCalendarEvent)(c);return{success:!0,message:`Scheduled "${a.title}" for ${a.dateTime?.toLocaleString()||"now"}`,data:{eventId:d}}}catch(a){return{success:!1,message:"Failed to schedule event."}}}async showAnalytics(a,b){try{let a=new Date().toISOString().split("T")[0],c=await (0,i.getDailyStats)(b.userId,a);if(!c)return{success:!0,message:"You haven't logged any study time today yet. Let's get started! ðŸ“š",data:{stats:null}};let d=`Today's Progress:
ðŸ“– Study Time: ${Math.round(c.totalStudyMinutes/60*10)/10}h
âœ… Tasks Completed: ${c.taskCompleted}
ðŸŽ¯ Pomodoro Sessions: ${c.pomodoroCompleted}
ðŸ”¥ Current Streak: ${c.streakDay} days`;return{success:!0,message:d,data:{stats:c}}}catch(a){return{success:!1,message:"Failed to retrieve analytics."}}}async createStudyPlan(a,b){return{success:!0,message:"Starting study plan creation...",data:{examName:a.examName,days:a.days}}}async startProductivitySession(a,b){return{success:!0,message:"Initiating productivity session...",data:{duration:a.duration}}}async analyzeCourseMaterials(a,b){try{let c=(await (0,i.getCourses)(b.userId)).find(b=>b.name.toLowerCase().includes(a.examName.toLowerCase()));return{success:!0,message:"Analyzed course materials",data:{course:c,materials:c?.syllabus||[]}}}catch(a){return{success:!1,message:"Failed to analyze course materials"}}}async checkCompletionStatus(a,b){try{let c=(await (0,i.getTasks)(b.userId)).filter(b=>b.course?.toLowerCase().includes(a.course.toLowerCase())),d=c.filter(a=>"done"===a.status);return{success:!0,message:"Checked completion status",data:{completed:d.length,total:c.length,progress:d.length/c.length}}}catch(a){return{success:!1,message:"Failed to check completion status"}}}async estimateTimeNeeded(a,b){let c=Math.max(2*a.days,10);return{success:!0,message:"Estimated study time needed",data:{estimatedHours:c,dailyHours:c/a.days}}}async createStudyPlanAction(a,b){try{let b={id:`plan_${Date.now()}`,examName:a.course,days:a.days,dailyTasks:Math.ceil(10/a.days),focusAreas:["Review notes","Practice problems","Take breaks","Light review"]};return{success:!0,message:"Generated study plan",data:{plan:b,planId:`plan_${Date.now()}`}}}catch(a){return{success:!1,message:"Failed to generate study plan"}}}async scheduleTasks(a,b){return{success:!0,message:"Scheduled study tasks",data:{taskCount:5}}}async setupFocusMode(a,b){return{success:!0,message:"Focus mode activated - notifications silenced, distractions minimized",data:{focusMode:!0}}}async chooseNextTask(a,b){try{let a=(await (0,i.getTasks)(b.userId)).filter(a=>"done"!==a.status).sort((a,b)=>{let c={urgent:0,high:1,medium:2,low:3};return c[a.priority]-c[b.priority]});if(0===a.length)return{success:!0,message:"No pending tasks found",data:{task:null}};return{success:!0,message:`Selected: "${a[0].title}"`,data:{task:a[0]},requiresUserInput:!0,userInputPrompt:`Would you like to work on "${a[0].title}" or choose a different task?`}}catch(a){return{success:!1,message:"Failed to select task"}}}async beginPomodoro(a,b){return{success:!0,message:`Starting ${a.duration} minute focus session on "${a.taskId?.title||"selected task"}"`,data:{sessionId:`session_${Date.now()}`,duration:a.duration}}}async trackSession(a,b){return{success:!0,message:"Session tracking active - I'll keep you motivated!",data:{tracking:!0}}}generateCompletionMessage(a,b){switch(a.intent){case"plan.create":return`âœ… Study plan created! I've scheduled ${b.schedule_tasks?.taskCount||5} study sessions over ${a.entities.days} days. Check your planner for details.`;case"productivity.start":return`ðŸš€ Productivity session started! ${a.entities.duration} minutes of focused work ahead. You've got this!`;default:return"âœ… Command completed successfully!"}}getExecutionState(a){return this.executionStates.get(a)||null}cancelExecution(a){let b=this.executionStates.get(a);b&&(b.status="failed",b.error="Cancelled by user")}}let p=null;var q=a.i(53250),r=a.i(69439),s=a.i(70106);let t=(0,s.default)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),u=(0,s.default)("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var v=a.i(73570),w=a.i(23292);function x({context:a}={}){let j,k,{user:m}=(0,f.useAuthContext)(),n=(0,e.useRouter)(),s=(0,e.usePathname)(),[y,z]=(0,d.useState)(!1),[A,B]=(0,d.useState)(!1),[C,D]=(0,d.useState)([]),[E,F]=(0,d.useState)(""),[G,H]=(0,d.useState)(!1),[I,J]=(0,d.useState)({currentPage:a?.currentPage||s,conversationHistory:[],userMaterials:[],userDecks:[]}),[K,L]=(0,d.useState)(!1),[M,N]=(0,d.useState)(!1),[O,P]=(0,d.useState)([]),[Q,R]=(0,d.useState)(!1),[S,T]=(0,d.useState)(""),[U,V]=(0,d.useState)(!1),[W,X]=(0,d.useState)(!1),[Y,Z]=(0,d.useState)(!1),[$,_]=(0,d.useState)([]),[aa,ab]=(0,d.useState)(null),ac=(0,d.useRef)(null),ad=(0,d.useRef)(null);(0,d.useEffect)(()=>{let a=async()=>{Z(await (0,q.isBackendAvailable)())};a();let b=setInterval(a,3e4);return()=>clearInterval(b)},[]);let{state:ae,startListening:af,stopListening:ag,resetTranscript:ah}=function(a={}){let{continuous:b=!1,language:c="en-US",onResult:e,onError:f,onStart:g,onEnd:h}=a,[i,j]=(0,d.useState)({isListening:!1,transcript:"",interimTranscript:"",error:null,isSupported:!1}),k=(0,d.useRef)(null),l=(0,d.useRef)(""),m=(0,d.useRef)(e),n=(0,d.useRef)(f),o=(0,d.useRef)(g),p=(0,d.useRef)(h);(0,d.useEffect)(()=>{m.current=e,n.current=f,o.current=g,p.current=h}),(0,d.useEffect)(()=>{},[b,c]);let q=(0,d.useCallback)(()=>{if(k.current)try{l.current="",j(a=>({...a,transcript:"",interimTranscript:"",error:null})),k.current.start()}catch(a){console.error("Error starting speech recognition:",a)}},[]);return{state:i,startListening:q,stopListening:(0,d.useCallback)(()=>{if(k.current)try{k.current.stop()}catch(a){console.error("Error stopping speech recognition:",a)}},[]),resetTranscript:(0,d.useCallback)(()=>{l.current="",j(a=>({...a,transcript:"",interimTranscript:""}))},[])}}({continuous:!0,onResult:(a,b)=>{Q?(T(c=>c+(b?a:"")),b&&ai(`Voice note added: "${a}"`)):b&&a.trim()&&(F(a.trim()),ak(a.trim()))},onError:a=>{ai(`Voice recognition error: ${a}`)}});(0,d.useEffect)(()=>{!async function(){if(m)try{let[a,b]=await Promise.all([(0,i.getMaterials)(m.uid),(0,i.getFlashcardDecks)(m.uid)]);P(b),J({userId:m.uid,currentPage:s,userMaterials:a.map(a=>({id:a.id,title:a.title,subject:a.subject})),userDecks:b.map(a=>({id:a.id,name:a.name}))})}catch(a){console.error("Error loading context:",a)}}()},[m,s]),(0,d.useEffect)(()=>{J(a=>({...a,currentPage:s}))},[s]),(0,d.useEffect)(()=>{ac.current?.scrollIntoView({behavior:"smooth"})},[C]),(0,d.useEffect)(()=>{},[y,af]),(0,d.useEffect)(()=>()=>{h()},[]),(0,d.useEffect)(()=>{y||h()},[y]),(0,d.useEffect)(()=>{y&&!K&&(L(!0),setTimeout(()=>{let a,b,c,d,e,f,g,h,i,j;ai((a=aj(),b=new Date().getHours(),c=[],(a.focus_minutes_today||0)>0&&c.push(`${a.focus_minutes_today}m focused`),(a.streak_days||0)>0&&c.push(`${a.streak_days} day streak`),d=c.length>0?`ðŸ“Š ${c.join(" â€¢ ")}`:"",e="",f=a.focus_minutes_today||0,g=a.overdue_tasks||0,h=a.urgent_task_count||0,i=a.flashcards_due||0,j=a.streak_days||0,e=g>0?`âš ï¸ ${g} overdue task${g>1?"s":""}. Let's catch up.`:h>0&&0===f?`ðŸŽ¯ ${h} urgent task${h>1?"s":""}. Start a focus session?`:a.days_until_exam&&a.days_until_exam<=7?`ðŸ“… ${a.days_until_exam} day${a.days_until_exam>1?"s":""} until exam. Need a revision plan?`:i>10?`ðŸƒ ${i} flashcards due. Review them now?`:b>=20&&0===f&&j>0?`ðŸ”¥ Your streak is at risk. 15 minutes will save it.`:0===f&&b>=8&&b<=22?"Ready to start a focus session?":"What should we work on?",`${Y?"ðŸŸ¢ AI online":"ðŸŸ¡ Offline mode"}${d?` â€¢ ${d}`:""}

${e}`))},500))},[y,K,a]),(0,d.useEffect)(()=>{y&&ad.current?.focus()},[y]),(0,d.useEffect)(()=>{N(ae.isListening)},[ae.isListening]);let ai=(0,d.useCallback)((a,b)=>{let c={id:Date.now().toString(),role:"assistant",content:a,timestamp:new Date,action:b};D(a=>[...a,c]);let d=a;if(U){let b=a.split(/[.!?]/)[0];d=b&&b.length>10?b+(b.length<a.length?"...":""):a.length>100?a.substring(0,100)+"...":a}try{g(d,{rate:1,pitch:1,volume:.7}).catch(()=>{})}catch{}return c},[U]),aj=(0,d.useCallback)(()=>{let b,c,d=new Date().toISOString().split("T")[0],e=0,f=a?.habits?.length||0;a?.habits?.forEach(a=>{let b=a.completions?.find(a=>a.date===d);b?.completed&&e++});let g=0,h=0,i=new Date;return a?.todayTasks?.forEach(a=>{"done"!==a.status&&("urgent"===a.priority&&g++,a.dueDate&&(a.dueDate.toDate?a.dueDate.toDate():new Date(a.dueDate))<i&&h++)}),a?.courses?.forEach(a=>{if(a.examDate){let d=Math.ceil((new Date(a.examDate).getTime()-i.getTime())/864e5);d>0&&(void 0===b||d<b)&&(b=d,c=a.name)}}),{focus_minutes_today:a?.dailyStats?.totalStudyMinutes||0,target_focus_minutes:120,habits_completed_today:e,total_habits_today:f,flashcards_due:a?.flashcardsDue||0,streak_days:a?.dailyStats?.streakDay||0,urgent_task_count:g,overdue_tasks:h,current_course:c,days_until_exam:b,recent_failures:[]}},[a]),ak=async(b,c=!1)=>{let d=(b||E).trim();if(!d||G)return;F(""),H(!0),h(),ab(null);let e={id:Date.now().toString(),role:"user",content:d,timestamp:new Date};D(a=>[...a,e]);try{if(Y)try{let a=aj(),b=await (0,q.intelligentAsk)({message:d,context:a,use_memory:!0,skip_intervention:c});if(b.intervention?.should_intervene&&!c){ab({message:b.intervention.message,originalRequest:d});let a={id:Date.now().toString(),role:"assistant",content:b.answer,timestamp:new Date,mode:b.mode,isIntervention:!0};D(b=>[...b,a]);try{g(b.answer,{rate:1,pitch:1,volume:.7}).catch(()=>{})}catch{}b.suggestions&&_(b.suggestions),H(!1);return}let e=b.answer;b.memory_used&&("strong"===b.memory_quality?e+=`

ðŸ’¡ _Based on ${b.chunks_used} source${b.chunks_used>1?"s":""} from your materials_`:"weak"===b.memory_quality&&(e+=`

âš ï¸ _Limited material found on this topic. Consider adding more notes._`));let f={id:Date.now().toString(),role:"assistant",content:e,timestamp:new Date,mode:b.mode};D(a=>[...a,f]);let h=b.answer.split(/[.!?]/)[0],i=U&&h.length>10?h+"...":b.answer.length>150?b.answer.substring(0,150)+"...":b.answer;try{g(i,{rate:1,pitch:1,volume:.7}).catch(()=>{})}catch{}"flashcards"===b.mode&&b.structured_output&&Array.isArray(b.structured_output)&&w.toast.success(`Created ${b.structured_output.length} flashcards!`),b.suggestions&&_(b.suggestions),H(!1);return}catch(a){console.warn("Intelligent AI failed, falling back to legacy:",a)}let b=d.toLowerCase(),e=b.includes("flashcard")||b.includes("flash card"),f=b.includes("study plan")||b.includes("learning plan")||b.includes("create a plan");if(Y)try{if(e){let a=d.replace(/flashcard|flash card|create|generate|make|for|about|on/gi,"").trim()||"general knowledge";w.toast.loading("Generating flashcards...",{id:"flashcards"});let b=await (0,q.generateFlashcards)({topic:a,num_cards:5,use_memory:!0});w.toast.success(`Created ${b.count} flashcards!`,{id:"flashcards"}),ai(`ðŸƒ Created ${b.count} flashcards on "${a}".

Preview:
${b.flashcards.slice(0,2).map(a=>`Q: ${a.question}
A: ${a.answer}`).join("\n\n")}${b.count>2?`

...and ${b.count-2} more.`:""}`,{type:"navigate",data:{path:"/flashcards"}});return}if(f){let a=d.replace(/study plan|learning plan|create|a|plan|for|about|on/gi,"").trim()||"general studies";w.toast.loading("Creating study plan...",{id:"studyplan"});let b=await (0,q.createStudyPlan)({subject:a,days:7,retrieve_materials:!0});w.toast.success("Plan created!",{id:"studyplan"}),ai(`ðŸ“‹ ${b.days}-day plan for ${b.subject}:

${b.plan}${b.materials_used>0?`

_Used ${b.materials_used} of your materials._`:""}`);return}{let a=await (0,q.askAI)({question:d,use_memory:!0,top_k:5}),b=a.answer;a.context_used&&a.sources_count>0&&(b+=`

ðŸ’¡ _Based on ${a.sources_count} source${a.sources_count>1?"s":""} from your materials_`),ai(b);return}}catch(a){console.error("Backend AI error:",a),w.toast.dismiss("ai-thinking"),w.toast.dismiss("flashcards"),w.toast.dismiss("studyplan")}let h=l(),i=(p||(p=new o),p),j={userId:m?.uid||"",currentPage:s,recentActions:[],userPreferences:{},availableData:{tasks:a?.todayTasks,courses:a?.courses,habits:a?.habits}},k=h.parseCommand(d,j),r=await i.executeCommand(k,j);ai(r.message),r.data?.path&&setTimeout(()=>n.push(r.data.path),1e3)}catch(a){ai(`Error: ${a.message}. Try again.`)}finally{H(!1)}};return(!function(a){let b=[];switch(a.currentPage){case"flashcards":b.push("Create flashcards about..."),b.push("Quiz me on my decks");break;case"materials":b.push("Summarize my notes"),b.push("Create flashcards from materials");break;case"planner":b.push("What's due this week?"),b.push("Add a study task");break;default:b.push("Create flashcards"),b.push("Quiz me"),b.push("Explain a concept")}}(I),m)?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>z(!y),"aria-label":"Open AI Coach",className:`jsx-97cb4c3eb5ceaed4 fixed bottom-6 right-6 z-50 group transition-all duration-300 ${y?"scale-0 opacity-0":"scale-100 opacity-100"}`,children:(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 relative flex items-center gap-2 px-4 py-2.5 rounded-full bg-slate-800 border border-slate-700 shadow-lg hover:bg-slate-700 transition-all",children:[(0,b.jsx)("div",{className:`jsx-97cb4c3eb5ceaed4 w-2 h-2 rounded-full ${Y?"bg-green-500":"bg-amber-500"}`}),(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-sm font-medium text-white",children:"Ask AI"})]})}),(0,b.jsx)("div",{className:`jsx-97cb4c3eb5ceaed4 fixed z-50 transition-all duration-500 ease-out ${A?"inset-4":"bottom-6 right-6 w-[420px] max-w-[calc(100vw-3rem)]"} ${y?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-95 translate-y-4 pointer-events-none"}`,children:(0,b.jsxs)("div",{className:`jsx-97cb4c3eb5ceaed4 relative h-full ${A?"":"max-h-[600px]"} bg-white/95 backdrop-blur-xl rounded-2xl border border-gray-200/50 shadow-2xl overflow-hidden flex flex-col`,children:[(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute inset-0 rounded-2xl overflow-hidden pointer-events-none",children:(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute inset-0 bg-gradient-to-r from-cyan-500/0 via-cyan-500/20 to-cyan-500/0 animate-shimmer"})}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 relative px-5 py-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/80 via-indigo-50/60 to-blue-50/80",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 relative",children:[(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center",children:(0,b.jsx)("div",{className:`jsx-97cb4c3eb5ceaed4 w-6 h-6 rounded-full bg-blue-300/80 ${G?"animate-pulse":""}`,children:(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 w-full h-full rounded-full bg-gradient-to-br from-white/60 to-transparent"})})}),G&&(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute inset-0 rounded-full border-2 border-blue-400 animate-ping"})]}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4",children:[(0,b.jsx)("h3",{className:"jsx-97cb4c3eb5ceaed4 font-semibold text-blue-600 text-sm",children:"AI Coach"}),(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-[10px] text-slate-500",children:Y?"Online":"Offline"})]})]}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-2",children:[(0,b.jsxs)("div",{className:`jsx-97cb4c3eb5ceaed4 flex items-center gap-1.5 px-2 py-1 rounded-full ${Y?"bg-green-50 border border-green-200/50":"bg-amber-50 border border-amber-200/50"}`,children:[Y?(0,b.jsx)(t,{className:"w-3 h-3 text-green-500"}):(0,b.jsx)(u,{className:"w-3 h-3 text-amber-500"}),(0,b.jsx)("span",{className:`jsx-97cb4c3eb5ceaed4 text-[10px] font-mono ${Y?"text-green-600":"text-amber-600"}`,children:Y?"AI ONLINE":"LOCAL MODE"})]}),(0,b.jsx)("button",{onClick:()=>B(!A),title:A?"Exit fullscreen":"Enter fullscreen",className:"jsx-97cb4c3eb5ceaed4 p-2 hover:bg-blue-100 rounded-lg transition-colors text-blue-600",children:A?(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-97cb4c3eb5ceaed4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-97cb4c3eb5ceaed4"})}):(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-97cb4c3eb5ceaed4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4",className:"jsx-97cb4c3eb5ceaed4"})})}),(0,b.jsx)("button",{onClick:()=>z(!1),title:"Close JARVIS",className:"jsx-97cb4c3eb5ceaed4 p-2 hover:bg-red-100 rounded-lg transition-colors text-red-600",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-97cb4c3eb5ceaed4 w-4 h-4",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12",className:"jsx-97cb4c3eb5ceaed4"})})})]})]}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 mt-2 text-xs text-slate-500 px-3 py-1.5 bg-slate-50/50 rounded-lg",children:"Ask me anything â€¢ Create flashcards â€¢ Get study help"})]}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 px-4 py-2 border-b border-gray-200/50 bg-slate-50/30",children:(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-2 text-xs",children:[(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-slate-500",children:"Context:"}),(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 px-2 py-0.5 bg-blue-100 text-blue-600 rounded text-[10px]",children:I.currentPage||"dashboard"}),a?.todayTasks&&a.todayTasks.length>0&&(0,b.jsxs)("span",{className:"jsx-97cb4c3eb5ceaed4 px-2 py-0.5 bg-green-100 text-green-600 rounded text-[10px]",children:[a.todayTasks.length," tasks"]})]})}),(0,b.jsxs)("div",{className:`jsx-97cb4c3eb5ceaed4 flex-1 overflow-y-auto p-4 space-y-4 ${A?"max-h-none":"max-h-80"}`,children:[(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute top-20 left-4 w-px h-8 bg-gradient-to-b from-blue-400/30 to-transparent"}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute top-20 right-4 w-px h-8 bg-gradient-to-b from-blue-400/30 to-transparent"}),0===C.length&&(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 space-y-4",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 space-y-3",children:[(0,b.jsx)("h4",{className:"jsx-97cb4c3eb5ceaed4 text-xs font-medium text-slate-500 uppercase tracking-wide",children:"What's Next"}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 space-y-2",children:$.length>0?$.map(a=>(0,b.jsx)("button",{onClick:()=>ak(a.action),className:`jsx-97cb4c3eb5ceaed4 w-full p-3 text-left rounded-lg border transition-all group ${"urgent"===a.priority?"bg-red-50 hover:bg-red-100 border-red-200/50":"high"===a.priority?"bg-amber-50 hover:bg-amber-100 border-amber-200/50":"bg-blue-50 hover:bg-blue-100 border-blue-200/50"}`,children:(0,b.jsxs)("p",{className:`jsx-97cb4c3eb5ceaed4 text-sm font-medium ${"urgent"===a.priority?"text-red-700":"high"===a.priority?"text-amber-700":"text-slate-700"}`,children:[a.icon," ",a.message]})},a.id)):(0,b.jsxs)(b.Fragment,{children:[a?.todayTasks&&a.todayTasks.some(a=>"urgent"===a.priority||"high"===a.priority)?(0,b.jsx)("button",{onClick:()=>ak("Help me prioritize my tasks and start a focus session"),className:"jsx-97cb4c3eb5ceaed4 w-full p-3 bg-amber-50 hover:bg-amber-100 text-left rounded-lg border border-amber-200/50 transition-all",children:(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-sm font-medium text-amber-700",children:"ðŸŽ¯ Start focus session on priority tasks"})}):(0,b.jsx)("button",{onClick:()=>ak("Help me plan my next study session"),className:"jsx-97cb4c3eb5ceaed4 w-full p-3 bg-blue-50 hover:bg-blue-100 text-left rounded-lg border border-blue-200/50 transition-all",children:(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-sm text-slate-700",children:"ðŸ“‹ Plan next study session"})}),(0,b.jsx)("button",{onClick:()=>ak("Generate flashcards from my recent notes"),className:"jsx-97cb4c3eb5ceaed4 w-full p-3 bg-purple-50 hover:bg-purple-100 text-left rounded-lg border border-purple-200/50 transition-all",children:(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-sm text-slate-700",children:"ðŸƒ Generate flashcards"})})]})})]}),!Y&&(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 p-3 bg-amber-50 rounded-lg border border-amber-200/50 text-xs text-amber-700",children:[(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 font-medium",children:"AI features limited"}),(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-amber-600 mt-0.5",children:"Start the backend to enable AI-powered planning & flashcard generation."})]})]}),C.map(a=>(0,b.jsx)("div",{className:`jsx-97cb4c3eb5ceaed4 flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,b.jsxs)("div",{className:`jsx-97cb4c3eb5ceaed4 max-w-[85%] ${"user"===a.role?"bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-2xl rounded-br-md shadow-sm":a.isIntervention?"bg-amber-50 border border-amber-200 text-gray-800 rounded-2xl rounded-bl-md shadow-sm":"bg-white/90 border border-gray-200/50 text-gray-800 rounded-2xl rounded-bl-md shadow-sm"} px-4 py-3 relative overflow-hidden`,children:["assistant"===a.role&&(0,b.jsx)("div",{className:`jsx-97cb4c3eb5ceaed4 absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent ${a.isIntervention?"via-amber-400/50":"via-blue-400/30"} to-transparent`}),"assistant"===a.role&&(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-2 mb-1",children:[a.isIntervention&&(0,b.jsx)(v.AlertTriangle,{className:"w-3 h-3 text-amber-500"}),(0,b.jsx)("span",{className:`jsx-97cb4c3eb5ceaed4 text-[10px] font-mono ${a.isIntervention?"text-amber-600":"text-blue-600"}`,children:a.isIntervention?"INTERVENTION":a.mode?.toUpperCase()||"AI"}),(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-[10px] text-gray-500",children:a.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),(0,b.jsx)("p",{className:"jsx-97cb4c3eb5ceaed4 text-sm whitespace-pre-wrap leading-relaxed",children:a.content}),a.action?.type==="show_flashcards"&&a.action.data?.flashcards&&(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 mt-3 pt-3 border-t border-gray-200/50",children:(0,b.jsxs)("p",{className:"jsx-97cb4c3eb5ceaed4 text-xs text-gray-600 font-mono",children:[a.action.data.flashcards.length," FLASHCARDS GENERATED"]})})]})},a.id)),aa&&!G&&(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 flex justify-center",children:(0,b.jsx)("button",{onClick:()=>{aa&&(ak(aa.originalRequest,!0),ab(null))},className:"jsx-97cb4c3eb5ceaed4 px-4 py-2 text-xs text-slate-600 bg-slate-100 hover:bg-slate-200 rounded-full transition-colors",children:"Continue with original request anyway â†’"})}),G&&(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 flex justify-start",children:(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 bg-white/90 border border-gray-200/50 rounded-2xl rounded-bl-md px-4 py-3 shadow-sm",children:[(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-2",children:(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-[10px] font-mono text-blue-600",children:"PROCESSING"})}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-1 mt-2",children:[(0,b.jsx)("div",{style:{animationDelay:"0ms"},className:"jsx-97cb4c3eb5ceaed4 w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),(0,b.jsx)("div",{style:{animationDelay:"150ms"},className:"jsx-97cb4c3eb5ceaed4 w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),(0,b.jsx)("div",{style:{animationDelay:"300ms"},className:"jsx-97cb4c3eb5ceaed4 w-2 h-2 bg-blue-400 rounded-full animate-bounce"})]})]})}),(0,b.jsx)("div",{ref:ac,className:"jsx-97cb4c3eb5ceaed4"})]}),Q&&(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 p-4 border-t border-gray-200/50 bg-gray-50/50",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center justify-between mb-3",children:[(0,b.jsx)("h3",{className:"jsx-97cb4c3eb5ceaed4 text-sm font-mono text-blue-600",children:"VOICE NOTES"}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex gap-2",children:[(0,b.jsx)("button",{onClick:()=>T(""),className:"jsx-97cb4c3eb5ceaed4 text-xs px-2 py-1 bg-red-100 text-red-600 rounded hover:bg-red-200",children:"CLEAR"}),(0,b.jsx)("button",{onClick:()=>R(!1),className:"jsx-97cb4c3eb5ceaed4 text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"EXIT"})]})]}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 bg-white/80 border border-gray-200/50 rounded-lg p-3 min-h-[100px] text-sm text-gray-800 whitespace-pre-wrap",children:S||"Start speaking to add voice notes..."})]}),(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 relative p-4 border-t border-gray-200/50 bg-gray-50/80",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 mb-4",children:[(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-2 mb-2",children:[(0,b.jsx)(r.Lightbulb,{className:"w-4 h-4 text-yellow-500"}),(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-xs font-medium text-gray-600 uppercase tracking-wide",children:"Suggested Commands"})]}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 flex flex-wrap gap-2",children:(j=l(),k={userId:m?.uid||"",currentPage:s,availableData:{tasks:a?.todayTasks,courses:a?.courses,habits:a?.habits}},j.getSuggestedCommands(k).map((a,c)=>(0,b.jsx)("button",{onClick:()=>ak(a),disabled:G,className:"jsx-97cb4c3eb5ceaed4 px-3 py-1.5 bg-gray-100 hover:bg-gray-200 text-gray-700 text-xs rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:a},c)))})]}),ae.isListening&&(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute -top-12 left-1/2 -translate-x-1/2 px-4 py-2 bg-white border border-gray-300 rounded-full flex items-center gap-2 shadow-sm",children:[(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 w-3 h-3 bg-red-500 rounded-full animate-pulse"}),(0,b.jsx)("span",{className:"jsx-97cb4c3eb5ceaed4 text-xs text-gray-700 font-mono",children:ae.interimTranscript||"LISTENING..."})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),ak()},className:"jsx-97cb4c3eb5ceaed4 flex items-center gap-3",children:[!1,(0,b.jsxs)("div",{className:"jsx-97cb4c3eb5ceaed4 flex-1 relative",children:[(0,b.jsx)("input",{ref:ad,type:"text",value:E,onChange:a=>F(a.target.value),placeholder:"Speak or type a command...",disabled:G,className:"jsx-97cb4c3eb5ceaed4 w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm text-gray-800 placeholder-gray-500 focus:outline-none focus:border-blue-400 focus:ring-1 focus:ring-blue-400/30 font-mono shadow-sm"}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute inset-0 rounded-xl pointer-events-none overflow-hidden",children:(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 absolute inset-0 bg-gradient-to-r from-blue-500/0 via-blue-500/5 to-blue-500/0 animate-shimmer"})})]}),(0,b.jsx)("button",{type:"submit",disabled:!E.trim()||G,className:"jsx-97cb4c3eb5ceaed4 p-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed hover:from-blue-600 hover:to-indigo-700 transition-all shadow-sm",children:(0,b.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-97cb4c3eb5ceaed4 w-5 h-5",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6",className:"jsx-97cb4c3eb5ceaed4"})})})]}),(0,b.jsx)("div",{className:"jsx-97cb4c3eb5ceaed4 flex items-center justify-between mt-3 text-[10px] text-gray-500 font-mono",children:(0,b.jsxs)("span",{className:"jsx-97cb4c3eb5ceaed4",children:["POWERED BY AI â€¢ ",new Date().toLocaleDateString()]})})]})]})}),(0,b.jsx)(c.default,{id:"97cb4c3eb5ceaed4",children:"@keyframes shimmer{0%{transform:translate(-100%)}to{transform:translate(100%)}}.animate-shimmer{animation:3s infinite shimmer}"})]}):null}a.s(["JarvisAssistant",()=>x],53069)}];

//# sourceMappingURL=_6c1e0e92._.js.map