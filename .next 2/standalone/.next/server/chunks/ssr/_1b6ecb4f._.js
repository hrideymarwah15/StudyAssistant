module.exports=[38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},53722,60246,1027,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);a.s(["BookOpen",()=>c],53722);let d=(0,b.default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);a.s(["Users",()=>d],60246);let e=(0,b.default)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);a.s(["Zap",()=>e],1027)},8406,a=>{"use strict";let b=(0,a.i(70106).default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);a.s(["Sparkles",()=>b],8406)},16201,a=>{"use strict";let b=(0,a.i(70106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],16201)},81560,a=>{"use strict";let b=(0,a.i(70106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],81560)},16780,a=>{"use strict";var b=a.i(72131),c=a.i(79790),d=a.i(82724),e=a.i(13251),f=a.i(19337);function g(){let{user:a}=(0,c.useAuth)(),{toast:g}=(0,d.useToast)(),{setLoading:h}=(0,e.useLoading)(),[i,j]=(0,b.useState)({tasks:[],studyTasks:{},loading:!0,saving:!1,error:null}),[k,l]=(0,b.useState)([]);(0,b.useEffect)(()=>{a&&(async()=>{try{j(a=>({...a,loading:!0,error:null}));let b=await (0,f.getTasks)(a.uid);j(a=>({...a,tasks:b,loading:!1}))}catch(a){console.error("Error loading tasks:",a),j(a=>({...a,loading:!1,error:"Failed to load tasks"}))}})()},[a]);let m=(0,b.useCallback)(async b=>{if(a)try{let c=await (0,f.getStudyTasks)(a.uid,b);j(a=>({...a,studyTasks:{...a.studyTasks,[b]:c}}))}catch(a){console.error("Error loading study tasks:",a),j(a=>({...a,error:"Failed to load study tasks"}))}},[a]),n=(0,b.useCallback)(async(a,b,c,d,e,f)=>{b(),j(a=>({...a,saving:!0,error:null})),h(!0,"Saving...");try{await a(),j(a=>({...a,saving:!1})),h(!1),g({title:"Success",description:"Changes saved successfully",variant:"success"})}catch(a){console.error("Error saving task:",a),c(),j(a=>({...a,saving:!1,error:"Failed to save changes"})),h(!1),g({title:"Error",description:"Failed to save changes. Please try again.",variant:"destructive"})}},[g,h]),o=(0,b.useCallback)(async(a,b)=>{let c=i.tasks.find(b=>b.id===a);if(!c)return;let d={...c},e={...c,status:b?"done":"todo"};await n(()=>(0,f.updateTask)(a,{status:e.status}),()=>j(b=>({...b,tasks:b.tasks.map(b=>b.id===a?e:b)})),()=>j(b=>({...b,tasks:b.tasks.map(b=>b.id===a?d:b)})),a,"task")},[i.tasks,n]),p=(0,b.useCallback)(async(a,b,c)=>{let d=(i.studyTasks[c]||[]).find(b=>b.id===a);if(!d)return;let e={...d},g={...d,completed:b};await n(()=>(0,f.toggleTaskComplete)(a,b,c),()=>j(b=>({...b,studyTasks:{...b.studyTasks,[c]:b.studyTasks[c]?.map(b=>b.id===a?g:b)||[]}})),()=>j(b=>({...b,studyTasks:{...b.studyTasks,[c]:b.studyTasks[c]?.map(b=>b.id===a?e:b)||[]}})),a,"studyTask",c)},[i.studyTasks,n]),q=(0,b.useCallback)(async b=>{if(!a)return;let c=`temp-${Date.now()}`,d={id:c,...b,createdAt:new Date,updatedAt:new Date};j(a=>({...a,tasks:[...a.tasks,d],saving:!0}));try{let a=await (0,f.createTask)(b);j(b=>({...b,tasks:b.tasks.map(b=>b.id===c?{...b,id:a}:b),saving:!1}))}catch(a){console.error("Error creating task:",a),j(a=>({...a,tasks:a.tasks.filter(a=>a.id!==c),saving:!1,error:"Failed to create task"}))}},[a]),r=(0,b.useCallback)(async a=>{let b=i.tasks.find(b=>b.id===a);if(b){j(b=>({...b,tasks:b.tasks.filter(b=>b.id!==a),saving:!0}));try{await (0,f.deleteTask)(a),j(a=>({...a,saving:!1}))}catch(a){console.error("Error deleting task:",a),j(a=>({...a,tasks:[...a.tasks,b],saving:!1,error:"Failed to delete task"}))}}},[i.tasks]);return{...i,loadStudyTasks:m,toggleTask:o,toggleStudyTask:p,addTask:q,removeTask:r}}a.s(["usePersistentTasks",()=>g])}];

//# sourceMappingURL=_1b6ecb4f._.js.map